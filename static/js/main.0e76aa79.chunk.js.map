{"version":3,"sources":["config/fbConfig.js","store/actions.js","store/hydrateItem.js","store/fbContext.js","components/AddItem.js","components/auth/Login.js","components/ImportanceConfig.js","components/Config.js","components/OneOffs/AddOneOff.js","components/OneOffs/OneOffItem.js","components/OneOffs/OneOffs.js","components/ItemInfo/ItemName.js","components/ItemInfo/ItemImportance.js","components/ItemInfo/ItemDescription.js","components/ItemInfo/ItemActionType.js","components/ItemInfo/ItemAction.js","components/ItemInfo/ItemExpectedUpdate.js","components/TrashIcon.js","components/ItemRow.js","components/Table.js","chartHelper.js","components/LineChart.js","components/TotalScore.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","currentUserID","auth","currentUser","uid","numberDaysTo","timestamp","now","moment","Date","getFullYear","getMonth","getDate","unix","seconds","diff","itemColorClass","item","expectedUpdate","isBefore","actionType","isSame","FbContext","React","createContext","FbProvider","children","useAuthState","FBuser","userID","useCollectionData","collection","where","idField","oneOffs","useDocumentData","doc","transform","d","JSON","parse","weights","importance","importanceTypes","filter","iType","id","itemTypes","aType","daysTo","score","Math","max","weight","dayDrop","colorClass","importanceName","name","importanceWeight","actionTypeName","actionTypeWeight","hydrateItem","items","orderBy","history","Provider","value","AddItem","useContext","className","onClick","add","action","description","notes","deleted","addNewItem","Login","useState","email","pass","creds","setCreds","e","signOut","handleChange","target","onSubmit","preventDefault","signInWithEmailAndPassword","onChange","type","ImportanceConfig","iTypes","newITypes","setNewITypes","inputChange","found","iT","i","length","parseInt","push","map","defaultValue","get","then","userDoc","currentWeights","data","currentITypes","isNaN","parseFloat","j","console","log","update","stringify","t","window","location","reload","updateImportanceTypes","Config","AddOneOff","newOneOff","setNewOneOff","oneOff","done","addOneOff","OneOffItem","OneOffs","ItemName","editing","setEditing","newName","setNewName","onFocus","select","autoFocus","onBlur","itemID","updateName","ItemImportance","updateImportance","ItemDescription","newDescription","setNewDescription","newDesription","ItemActionType","newActionType","ItemAction","newAction","setNewAction","style","height","scrollHeight","updateAction","ItemExpectedUpdate","toDate","wrapperClassName","selected","newDate","newExpectedUpdate","TrashIcon","confirm","deleteItem","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","ItemRow","toFixed","Table","sortedItems","sort","a","b","d3","d3module","tip","d3tip","removeDuplicates","newHistory","buildChartData","lineData","forEach","hist","date","dateFormatter","format","decimalFormatter","yScaleLinear","chartData","yRange","maxY","minY","lines","line","point","y","min","yMinMax","scaleLinear","range","domain","xScaleTime","width","xRange","minX","maxX","x","xMinMax","scaleTime","getToolTip","attr","html","xLabel","yLabel","xTimeLabel","timeOnlyFormatter","content","LineChart","chartClass","cleanHistory","ref","useRef","useEffect","margin","chartArea","current","selectAll","remove","graph","append","hoverLineGroup","xHoverLine","yHoverLine","xAxisGroup","yAxisGroup","xScale","yScale","pathGenerator","ttip","call","path","circs","circSize","dotSize","exit","on","show","hide","enter","pathLength","node","getTotalLength","xTicks","yTicks","xFormat","yFormat","xAxis","axisBottom","tickFormat","ticks","yAxis","axisLeft","TotalScore","oneOffWeight","totalScore","setTotalScore","showChart","setShowChart","newScore","hydrated","currentScore","logHistory","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0e76aa79.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport 'firebase/analytics'\n\n// Replace this with your own config details\nvar config = {\n  apiKey: \"AIzaSyCSu3ggsS66Mo1OullwbFJIg9mibC9E9wY\",\n  authDomain: \"todo-8303f.firebaseapp.com\",\n  projectId: \"todo-8303f\",\n  storageBucket: \"todo-8303f.appspot.com\",\n  messagingSenderId: \"928128254937\",\n  appId: \"1:928128254937:web:a3f32fafc7ca5ba6c40fc8\"\n};\n\nfirebase.initializeApp(config);\nfirebase.firestore()\n\nexport default firebase ","import firebase from '../config/fbConfig'\n\n\nexport const updateName = (newName, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    name: newName\n  })\n}\n\nexport const updateImportance = (importance, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    importance: parseInt(importance)\n  })\n}\n\nexport const updateDescription = (newDesription, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    description: newDesription\n  })\n}\n\nexport const updateNotes = (newNotes, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    notes: newNotes\n  })\n}\n\nexport const updateActionType = (newActionType, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    actionType: parseInt(newActionType)\n  })\n}\n\nexport const updateAction = (newAction, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    action: newAction\n  })\n}\n\nexport const updateExpectedUpdate = (newExpectedUpdate, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    expectedUpdate: newExpectedUpdate\n  })\n}\n\nexport const completeOneOff = (id) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/oneOffs').doc(id).update({\n    done: true\n  })\n}\n\nexport const addOneOff = (oneOff) => {\n  const userID = currentUserID()\n  firebase.firestore().collection('users/' + currentUserID() + '/oneOffs').add({\n    name: oneOff,\n    done: false,\n    userID\n  })\n}\n\nexport const login = (email, pass) => {\n  firebase.auth().signInWithEmailAndPassword(\n    email,\n    pass\n  )\n}\n\nexport const logout = () => {\n  firebase.auth().signOut()\n}\n\nexport const addNewItem = () => {\n  const userID = currentUserID()\n  firebase.firestore().collection('users/' + currentUserID() + '/items').add({\n    action: '',\n    actionType: 1,\n    description: '',\n    expectedUpdate: null,\n    importance: 1,\n    name: 'NewName',\n    notes: '',\n    userID,\n    deleted: false\n  })\n}\n\nexport const deleteItem = (itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    deleted: true\n  })\n}\n\nexport const updateImportanceTypes = (newITypes) => {\n  firebase.firestore().collection('users').doc(currentUserID()).get().then(userDoc => {\n    var currentWeights = JSON.parse(userDoc.data().weights)\n    var currentITypes = currentWeights.importanceTypes\n    for(var i = 0; i < newITypes.length; i++){\n      if(!isNaN(parseFloat(newITypes[i].weight))){\n        for(var j = 0; j < currentITypes.length; j++){\n          if(currentITypes[j].id === newITypes[i].id){\n            console.log('t')\n            currentITypes[j] = {\n              ...currentITypes[j],\n              weight: parseFloat(newITypes[i].weight)\n            }\n          }\n        }\n      }\n    }\n    currentWeights.importanceTypes = currentITypes;\n    firebase.firestore().collection('users').doc(currentUserID()).update({\n      weights: JSON.stringify(currentWeights)\n    }).then(t => {\n      window.location.reload();\n    })\n  })\n}\n\nexport const logHistory = (newScore) => {\n  const now = new Date()\n  firebase.firestore().collection('users').doc(currentUserID()).get().then(userDoc => {\n    if(userDoc.data().currentScore.toFixed(2) !== newScore.toFixed(2)){\n      console.log('log history. current:', userDoc.data().currentScore, 'new', newScore)\n      firebase.firestore().collection('users').doc(currentUserID()).update({\n        currentScore: parseFloat(newScore.toFixed(2))\n      }).then(t => {\n        firebase.firestore().collection('users/' + currentUserID() + '/history').add({\n          date: now,\n          score: parseFloat(newScore.toFixed(2))\n        })\n      })\n    }\n  })\n\n}\n\nconst currentUserID = () => {\n  return firebase.auth().currentUser.uid\n}","import moment from 'moment';\n\n\nexport const hydrateItem = (item, weights) =>{\n  if(weights && item){\n    const importance = weights.importanceTypes.filter(iType => {\n      return iType.id === item.importance\n    })[0]\n\n    const actionType = weights.itemTypes.filter(aType => {\n      return aType.id === item.actionType\n    })[0]\n\n    const daysTo = numberDaysTo(item.expectedUpdate)\n    const score = item.expectedUpdate ? Math.max(0,(1 * importance.weight * actionType.weight) - (daysTo * weights.dayDrop)) : 0;\n\n\n    const colorClass = itemColorClass(item)\n  \n    return {...item, importanceName: importance.name, importanceWeight: importance.weight, actionTypeName: actionType.name, actionTypeWeight: actionType.weight, daysTo, score, colorClass}\n    \n  }\n  return item\n}\n\n\nconst numberDaysTo = (timestamp) => {\n  if(timestamp === null) return 0;\n  const now = moment(new Date(new Date().getFullYear(),new Date().getMonth() , new Date().getDate()));\n  const expectedUpdate = moment.unix(timestamp.seconds)\n  return expectedUpdate.diff(now,'days')\n}\n\nconst itemColorClass = (item) => {\n  if(item.expectedUpdate === null) return 'bg-white'\n  const now = moment(new Date(new Date().getFullYear(),new Date().getMonth() , new Date().getDate()));\n  const expectedUpdate = moment.unix(item.expectedUpdate.seconds)\n\n  if(expectedUpdate.isBefore(now) && item.actionType !== 5 && item.actionType !== 6){\n    return 'bg-red-600 text-white'\n  }else if(expectedUpdate.isSame(now) && (item.actionType === 1 || item.actionType === 4)){\n    return 'bg-purple-700 text-white'\n  }else if(expectedUpdate.isSame(now) && (item.actionType === 2 || item.actionType === 3)){\n    return 'bg-gray-600 text-white'\n  }else if(item.actionType === 1 || item.actionType === 4){\n    return 'bg-purple-300'\n  }else if(item.actionType === 2 || item.actionType === 3){\n    return 'bg-gray-400'\n  }\n\n  return 'bg-white'\n\n}","import React from \"react\";\nimport firebase from '../config/fbConfig'\nimport {hydrateItem} from './hydrateItem'\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { useCollectionData, useDocumentData } from 'react-firebase-hooks/firestore';\n\nexport const FbContext = React.createContext();\n\n\nexport const FbProvider = ({ children }) => {\n\n  // const [history, setHistory] = useState(null)\n  const [FBuser] = useAuthState(firebase.auth());\n  const userID = FBuser ? FBuser.uid : null\n\n  const [oneOffs] = useCollectionData(firebase.firestore().collection('users/'+ userID +'/oneOffs').where('done','==',false), {\n    idField: 'id'\n  });\n\n  const [weights] = useDocumentData(firebase.firestore().collection('users').doc(\"/\" + userID), {\n    transform: function t(d){\n      return {...JSON.parse(d.weights)}\n    }\n  })\n\n  const [items] = useCollectionData(firebase.firestore().collection('users/' + userID + '/items').where('deleted','==',false),{\n    idField: 'id',\n    transform: function t(d){\n      return hydrateItem({...d, score: 0}, weights)\n    }\n  })\n\n  const [history] = useCollectionData(firebase.firestore().collection('users/' + userID + '/history').orderBy('date','asc'))\n\n\n\n\n\n  return (\n    <FbContext.Provider value={{ items, oneOffs, weights, FBuser, history }}>{children}</FbContext.Provider>\n  );\n};\n\n","import React, { useContext } from 'react'\nimport { addNewItem } from '../store/actions'\nimport { FbContext } from '../store/fbContext'\n\nconst AddItem = () => {\n\n  const { FBuser } = useContext(FbContext)\n\n  const addItem = () => {\n    addNewItem()\n  }\n\n  if(FBuser === null) return false\n\n  return ( \n    <button className=\"ml-10 mt-5 mb-10 btn\" onClick={addItem}>Add Item</button>\n   );\n}\n \nexport default AddItem;","import React, { useState, useContext } from 'react'\nimport { FbContext } from '../../store/fbContext';\nimport { login, logout } from '../../store/actions'\n\nconst Login = () => {\n\n  const { FBuser } = useContext(FbContext)\n  const [creds, setCreds] = useState({\n    email: '',\n    pass: ''\n  })\n\n  const logoutClick = (e) => {\n    logout();\n  }\n\n  if(FBuser){\n    return(\n      <button onClick={logoutClick} className=\"btn\">Logout</button>\n    )\n  }\n\n  const submit = (e) => {\n    e.preventDefault();\n    login(creds.email, creds.pass)\n    setCreds({\n      email: '',\n      pass: ''\n    })\n  }\n\n  const handleChange = (e) => {\n    setCreds({\n      ...creds,\n      [e.target.id] : e.target.value\n    })\n  }\n\n  return ( \n    <div>\n      <form onSubmit={submit}>\n        <input onChange={handleChange} value={creds.email} id=\"email\" className=\"formInput\" type=\"email\"></input>\n        <input onChange={handleChange} value={creds.pass} id=\"pass\" className=\"formInput\" type=\"password\"></input>\n        <button className=\"btn\" type=\"submit\">Login</button>\n      </form>\n    </div>\n   );\n}\n \nexport default Login;","import React, { useState } from 'react';\nimport { updateImportanceTypes } from '../store/actions'\n\nconst ImportanceConfig = ({importanceTypes}) => {\n\n  const iTypes = importanceTypes;\n  const [newITypes, setNewITypes] = useState([])\n\n  const inputChange = (e) => {\n    var found = false;\n    const iT = newITypes\n    for(var i = 0; i < iT.length; i++){\n      if(iT[i].id === parseInt(e.target.id)){\n        found = true;\n        iT[i] = {\n          id: iT[i].id,\n          weight: e.target.value\n        }\n      }\n    }\n\n    if(found){\n      setNewITypes(iT)\n    }else{\n      iT.push({\n        id: parseInt(e.target.id),\n        weight: e.target.value\n      })\n    }\n  }\n\n  const changeITypes = () => {\n    updateImportanceTypes(newITypes)\n  }\n\n  return ( \n    <div>\n      { iTypes && iTypes.map(iType => {\n        return(\n          <div key={iType.id}>\n            <p>{iType.name}</p>\n            <input defaultValue={iType.weight} id={iType.id} onChange={inputChange} className=\"formInput\" />\n          </div>\n        )\n      })}\n      <button className='btn' onClick={changeITypes}>Change</button>\n    </div>\n   );\n}\n \nexport default ImportanceConfig;","import React, { useContext } from 'react'\nimport { FbContext } from '../store/fbContext';\nimport ImportanceConfig from './ImportanceConfig';\n\n\nconst Config = () => {\n\n  const { weights } = useContext(FbContext)\n   \n  return ( \n    <div className=\"mx-10 mb-10\">\n      <div>\n        {\n          weights ? (\n            <ImportanceConfig importanceTypes={weights.importanceTypes} /> \n          ) : null\n        }\n      </div>\n    </div>\n   );\n}\n \nexport default Config;","import React, { useState } from 'react'\nimport { addOneOff } from '../../store/actions'\n\nconst AddOneOff = () => {\n\n  const [newOneOff, setNewOneOff] = useState('')\n\n  const change = (e) => {\n    setNewOneOff(e.target.value)\n  }\n\n  const submit = (e) => {\n    e.preventDefault()\n    addOneOff(newOneOff)\n    setNewOneOff('')\n  }\n\n  return ( \n    <form onSubmit={submit}>\n      <input className=\"formInput\" value={newOneOff} onChange={change}></input>\n    </form>\n   );\n}\n \nexport default AddOneOff;","import React from 'react'\nimport { completeOneOff } from '../../store/actions'\n\nconst OneOffItem = ({oneOff}) => {\n\n  const onCheck = () => {\n    completeOneOff(oneOff.id)\n  }\n\n  return (\n    <div className=\"flex\">\n      <input onChange={onCheck} type=\"checkbox\" />\n      <p>{oneOff.name}</p>\n    </div>\n   );\n}\n \nexport default OneOffItem;","import React, { useContext } from 'react'\nimport { FbContext } from '../../store/fbContext';\nimport AddOneOff from './AddOneOff';\nimport OneOffItem from './OneOffItem';\n\n\nconst OneOffs = () => {\n\n  const { oneOffs } = useContext(FbContext)\n\n\n\n  return ( \n    <div className=\"w-full\">\n      <div className=\"m-auto w-48\">\n        <h1 className=\"text-lg underline\">One Off Items</h1>\n        { oneOffs && oneOffs.map(oneOff => {\n          return (\n            <OneOffItem oneOff={oneOff} key={oneOff.id} />\n          )\n        })}\n        <AddOneOff />\n      </div>\n    </div>\n   );\n}\n \nexport default OneOffs;","import React, { useState } from 'react'\nimport { updateName } from '../../store/actions'\nimport TextareaAutosize from 'react-textarea-autosize';\n\n\nconst ItemName = ({ item }) => {\n\n  const name = item.name\n\n  const [editing, setEditing] = useState(0)\n  const [newName, setNewName] = useState(name)\n\n  const lostFocus = () => {\n    if(newName !== name){\n      updateName(newName, item.id)\n    }\n    setEditing(0)\n  }\n\n  const textChange = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const onClick = () => {\n    setEditing(1)\n  }\n\n  const onFocus = (e) => {\n    e.target.select()\n  }\n\n  if(editing === 1) return <td><TextareaAutosize onFocus={onFocus} className={'tableTextArea ' + item.colorClass} autoFocus onChange={textChange} onBlur={lostFocus} value={newName}></TextareaAutosize></td>\n\n  return ( \n    <td onClick={onClick}><p>{ name }</p></td>\n   );\n}\n \nexport default ItemName;","import React from 'react'\nimport { updateImportance } from '../../store/actions'\n\n\nconst ItemImportance = ({ item }) => {\n\n  const importance = item.importance\n  // const [newImportance, setNewImportance] = useState(importance)\n\n  const selectChange = (e) => {\n    updateImportance(e.target.value, item.id)\n  }\n\n  return ( \n    <td>\n      <select className={item.colorClass} onChange={selectChange} value={importance}>\n        <option value={1}>High</option>\n        <option value={2}>Medium</option>\n        <option value={3}>Low</option>\n      </select>\n    </td>\n   );\n}\n \nexport default ItemImportance;","import React, { useState } from 'react'\nimport { updateDescription } from '../../store/actions'\nimport TextareaAutosize from 'react-textarea-autosize';\n\n\n\nconst ItemDescription = ({ item }) => {\n  const description = item.description\n\n  const [editing, setEditing] = useState(0)\n  const [newDescription, setNewDescription] = useState(description)\n\n  const lostFocus = () => {\n    if(description !== newDescription){\n      updateDescription(newDescription, item.id)\n    }\n    setEditing(0)\n  }\n\n  const textChange = (e) => {\n    setNewDescription(e.target.value)\n  }\n\n  const onClick = () => {\n    setEditing(1)\n  }\n\n  const onFocus = (e) => {\n    e.target.select()\n  }\n\n  if(editing === 1) return <td><TextareaAutosize onFocus={onFocus} className={'tableTextArea ' + item.colorClass} autoFocus onChange={textChange} onBlur={lostFocus} value={newDescription}></TextareaAutosize></td>\n\n  return ( \n    <td onClick={onClick}>{ description }</td>\n   );\n}\n \nexport default ItemDescription;","import React from 'react'\nimport { updateActionType } from '../../store/actions'\n\n\nconst ItemActionType = ({ item }) => {\n\n  const actionType = item.actionType\n\n  const selectChange = (e) => {\n    updateActionType(e.target.value, item.id)\n  }\n\n  return ( \n    <td>\n      <select className={item.colorClass} onChange={selectChange} value={actionType}>\n        <option value={1}>ToDo</option>\n        <option value={2}>Wait for Meeting</option>\n        <option value={3}>Wait for Response</option>\n        <option value={4}>Follow-up</option>\n        <option value={5}>Nothing yet</option>\n        <option value={6}>Fully done</option>\n      </select>\n    </td>\n   );\n}\n \nexport default ItemActionType;","import React, { useState } from 'react'\nimport { updateAction } from '../../store/actions'\nimport TextareaAutosize from 'react-textarea-autosize';\n\n\nconst ItemAction = ({ item }) => {\n  const action = item.action\n\n  const [editing, setEditing] = useState(0)\n  const [newAction, setNewAction] = useState(action)\n\n  const lostFocus = () => {\n    if(action !== newAction){\n      updateAction(newAction, item.id)\n    }\n    setEditing(0)\n  }\n\n  const textChange = (e) => {\n    setNewAction(e.target.value)\n    e.target.style.height = 'auto';\n    e.target.style.height = e.target.scrollHeight + 'px';\n  }\n\n  const onClick = () => {\n    setEditing(1)\n  }\n\n\n  const onFocus = (e) => {\n    e.target.select()\n  }\n\n\n  if(editing === 1) return <td><TextareaAutosize onFocus={onFocus} className={'tableTextArea ' + item.colorClass} autoFocus onChange={textChange} onBlur={lostFocus} value={newAction}></TextareaAutosize></td>\n\n  return ( \n    <td onClick={onClick}>{ action }</td>\n   );\n}\n \nexport default ItemAction;","import React from 'react'\nimport { updateExpectedUpdate } from '../../store/actions'\nimport moment from 'moment';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nconst ItemExpectedUpdate = ({ item }) => {\n  const expectedUpdate = item.expectedUpdate ? moment.unix(item.expectedUpdate.seconds).toDate() : null\n  \n  const dateChange = (newDate) => {\n    updateExpectedUpdate(newDate, item.id)\n  }\n\n\n\n  return ( \n    <td><DatePicker wrapperClassName='mr-10' className={item.colorClass + ' static'} selected={expectedUpdate} onChange={dateChange} /></td>\n   );\n}\n \nexport default ItemExpectedUpdate;","import React from 'react';\nimport { deleteItem } from '../store/actions'\n\nconst TrashIcon = ({itemID}) => {\n\n  const clicked = (e) => {\n    if(window.confirm('Are you sure you want to delete?') === true){\n      deleteItem(itemID)\n    }\n  }\n\n  return ( \n    <div>\n      <svg onClick={clicked} className=\"trashIcon hidden absolute right-0 w-5 cursor-pointer\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n      </svg>\n    </div>\n   );\n}\n \nexport default TrashIcon;","import React from 'react'\nimport ItemName from './ItemInfo/ItemName';\nimport ItemImportance from './ItemInfo/ItemImportance';\nimport ItemDescription from './ItemInfo/ItemDescription';\n// import ItemNotes from './ItemInfo/ItemNotes';\nimport ItemActionType from './ItemInfo/ItemActionType';\nimport ItemAction from './ItemInfo/ItemAction';\nimport ItemExpectedUpdate from './ItemInfo/ItemExpectedUpdate';\nimport TrashIcon from './TrashIcon';\n\n\nconst ItemRow = ({ item }) => {\n\n  return ( \n    <tr className={item.colorClass}>\n      <td className='relative'>\n        <TrashIcon itemID={item.id} />\n        {item.score.toFixed(2)}\n      </td>\n      <ItemName item={item} />\n      <ItemImportance item={item} />\n      <ItemDescription item={item} />\n      {/* <ItemNotes item={item} /> */}\n      <ItemActionType item={item} />\n      <ItemAction item={item} />\n      <ItemExpectedUpdate item={item} />\n    </tr>\n   );\n}\n \nexport default ItemRow;","import React, { useContext } from 'react'\nimport { FbContext } from '../store/fbContext';\nimport ItemRow from './ItemRow';\n\nconst Table = () => {\n\n  const { items } = useContext(FbContext)\n  const sortedItems = items ? items.sort((a,b) => {\n    if(a.expectedUpdate === null) return 1\n    if(b.expectedUpdate === null) return -1\n    return b.score - a.score\n  }) : null;\n\n\n  return ( \n    <div>\n      <table>\n        <thead>\n          <tr>\n            <th>Score</th>\n            <th>Name</th>\n            <th>Importance</th>\n            <th>Description</th>\n            {/* <th>Notes</th> */}\n            <th>Action Type</th>\n            <th>Action</th>\n            <th>Expected Update</th>\n          </tr>\n        </thead>\n        <tbody>\n          { sortedItems && sortedItems.map(item => {\n            return <ItemRow key={item.id} item={item} />\n          })}\n        </tbody>\n      </table>\n    </div>\n   );\n}\n \nexport default Table;","import moment from 'moment'\nimport * as d3module from 'd3'\nimport d3tip from 'd3-tip'\n\nconst d3 = {\n  ...d3module,\n  tip: d3tip\n}\n\n\nexport const cleanHistory = (history) => {\n  if(history && history.length > 0){\n    return buildChartData(removeDuplicates(history))\n  }else{\n    return null\n  }\n}\n\n\nconst removeDuplicates = (history) => {\n  var newHistory = []\n  newHistory.push(history[0])\n  for(var i = 1; i < history.length; i++){\n    if(history[i].score !== history[i-1].score){\n      newHistory.push(history[i])\n    }\n  }\n  return newHistory\n}\n\nconst buildChartData = (history) => {\n  var lineData = []\n  history.forEach(hist => {\n    lineData.push({\n      \"x\": moment.unix(hist.date.seconds).toDate(),\n      \"y\": hist.score\n    })\n  })\n\n  return {\n    \"lines\":[\n      {\n        \"name\": \"Score History\",\n        \"data\": lineData\n      }\n    ],\n    \"minY\":0,\n    \"xTicks\":6,\n    \"yTicks\":7,\n    \"dots\":true,\n    \"dotSize\":2\n  }\n}\n\n\nexport const dateFormatter = (d) => {\n  return moment(d).format('MM/DD/YY')\n}\n\nexport const decimalFormatter = (d) => {\n  return d.toFixed(2)\n}\n\nexport const timeOnlyFormatter = (d) => {\n  return moment(d).format('h:mm a')\n}\n\n\nconst xMinMax = (chartData) => {\n  var minX = new Date();\n  var maxX = 0\n  chartData.lines.forEach(line => {\n    line.data.forEach(point => {\n        maxX = Math.max(point.x,maxX)\n        minX = Math.min(point.x,minX)\n    })\n  });\n  return {\n    \"max\": maxX,\n    \"min\": minX\n  }\n}\n\nconst yMinMax = (chartData) => {\n  var maxY = 0\n  var minY = null\n  chartData.lines.forEach(line => {\n    line.data.forEach(point => {\n        maxY = Math.max(point.y,maxY)\n        minY = minY ? Math.min(point.y,minY) : point.y\n    })\n  });\n  minY = minY - ((maxY - minY) * 0.1)\n\n  return {\n    \"max\": maxY,\n    \"min\": minY\n  }\n}\n\n\nexport const yScaleLinear = (chartData, height) => {\n  const yRange = yMinMax(chartData)\n\n  return d3.scaleLinear()\n    .range([0,height])\n    .domain([yRange.max,yRange.min])\n}\n\nexport const xScaleTime = (chartData, width) => {\n  const xRange = xMinMax(chartData)\n\n  return d3.scaleTime()\n    .range([0,width])\n    .domain([xRange.min,xRange.max])\n}\n\n\nexport const getToolTip = () => {\n  return d3.tip()\n    .attr('class', 'tip card')\n    .html((e,d) => {\n        const xLabel = dateFormatter(d.x)\n        const yLabel = decimalFormatter(d.y)\n        const xTimeLabel = timeOnlyFormatter(d.x)\n        let content = ''\n        content += `<div class=\"score\">${yLabel}</div>`;\n        content += `<div class=\"name\">${xLabel}</div>`;\n        content += `<div class=\"cost\">${xTimeLabel}</div>`;\n        return content;\n    });\n}","import React, { useRef, useEffect, useContext } from 'react';\nimport * as d3module from 'd3'\nimport d3tip from 'd3-tip'\nimport { FbContext } from '../store/fbContext';\nimport { cleanHistory, dateFormatter, decimalFormatter, xScaleTime, yScaleLinear, getToolTip } from '../chartHelper'\n\nconst d3 = {\n  ...d3module,\n  tip: d3tip\n}\n\n\nconst LineChart = ({chartClass}) => {\n\n    const {history, FBuser} = useContext(FbContext)\n    var chartData = null\n\n    //clean history and add chart configs\n    chartData = cleanHistory(history)\n \n    //ref to root svg\n    const ref = useRef()\n\n\n    useEffect(() => {\n\n      //graph size\n      const graphHeight = 200\n      const graphWidth = 500\n      const margin = { top: 10, bottom: 20, left: 35, right: 20 };\n      const width = graphWidth - margin.left - margin.right;\n      const height = graphHeight - margin.top - margin.bottom;\n\n      //select root svg\n      const svg = d3.select(ref.current)\n          .attr(\"viewBox\", `0 0 ${graphWidth} ${graphHeight}`)\n          \n      //select group for graph\n      const chartArea = svg.select('.chartArea')\n          .attr('height', graphHeight)\n          .attr('class','chartArea')\n          .attr('width', graphWidth)\n          .attr(\"transform\", `translate(${margin.left},${margin.top})`);\n      \n      chartArea.selectAll('g').remove();\n\n      //add group for data points\n      const graph = chartArea\n      .append(\"g\")\n      .attr(\"transform\", `translate(-${margin.left},-${margin.top})`);\n\n      //remove all current groups within graph\n      graph.selectAll('g').remove();\n      graph.selectAll('path').remove();\n\n      if(chartData){\n\n        //create dotted line group and append to graph\n        const hoverLineGroup = graph.append('g')\n            .style('opacity',0)\n            .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n\n        //create x line and append\n        const xHoverLine = hoverLineGroup.append('line')\n        .attr('stroke','#aaa')\n        .attr('stroke-width', 1)\n        .attr('stroke-dasharray',4)\n\n        //create y line and append\n        const yHoverLine = hoverLineGroup.append('line')\n        .attr('stroke','#aaa')\n        .attr('stroke-width', 1)\n        .attr('stroke-dasharray',4)\n\n        //add group for x axis and move it to the bottom\n        const xAxisGroup = chartArea.append('g')\n            .attr('transform', `translate(0,${height})`);\n      \n        //add group for y axis\n        const yAxisGroup = chartArea.append('g')\n            .attr(\"transform\", `translate(0, 0)`)\n\n        //scales\n        const xScale = xScaleTime(chartData, width)\n        const yScale = yScaleLinear(chartData, height)\n\n        //d3 line path generator\n        const pathGenerator = d3.line()\n          .x(function(d){ return xScale(d.x) })\n          .y(function(d){ return yScale(d.y) })\n\n\n        //build each line dynamically\n        chartData.lines.forEach(line => {\n\n          //tooltip\n          const ttip = getToolTip()\n          graph.call(ttip);\n\n          const path = graph.append('path')\n              .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n\n          //add circles\n          const circs = graph.selectAll('circle.' + line.name)\n              .data(line.data)\n              \n          const circSize = chartData.dotSize ? chartData.dotSize : 5\n\n          //remove exit selction for circles\n          circs.exit().remove()\n\n          //update current circs\n          circs.attr('r', circSize)\n              .attr('fill', 'black')\n              .attr('cx', d => xScale(d.x))\n              .attr('cy', d => yScale(d.y))\n              .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n              .on('mouseover', ttip.show)\n              .on('mouseout', ttip.hide)\n\n\n\n          //append the enter selection to the DOM\n          circs.enter()\n              .append('circle')\n              .attr('fill', 'black')\n              .attr('cx', d => xScale(d.x))\n              .attr('cy', d => yScale(d.y))\n              .attr('r', circSize)\n              .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n              .attr('opacity',1)\n              .on('mouseover.tip', ttip.show)\n              .on('mouseover.lines', (e,d) => {\n              xHoverLine\n                  .attr('x1',xScale(d.x))\n                  .attr('x2',xScale(d.x))\n                  .attr('y1',yScale(d.y))\n                  .attr('y2',height)\n\n              yHoverLine\n                  .attr('x1',0)\n                  .attr('x2',xScale(d.x))\n                  .attr('y1',yScale(d.y))\n                  .attr('y2',yScale(d.y))\n\n              hoverLineGroup.style('opacity', 1)\n              })\n              .on('mouseout.tip', ttip.hide)\n              .on('mouseout.lines', (e,d) => {\n                  hoverLineGroup.style('opacity', 0)\n              })\n          \n              const pathLength = path.node().getTotalLength();\n\n          // update path data\n          path.data([line.data])\n              .attr('fill', 'none')\n              .attr('stroke', 'black')\n              .attr('stroke-width', 2)\n              .attr('d', pathGenerator)\n              .style('opacity',0.75)\n              .attr(\"stroke-dasharray\", pathLength + \" \" + pathLength)\n\n        \n\n        })\n\n        const xTicks = chartData.xTicks ? chartData.xTicks : 5\n        const yTicks = chartData.yTicks ? chartData.yTicks : 5\n\n        //axis label formatting functions\n        var xFormat = chartData ? dateFormatter : (d) => d\n        var yFormat = chartData ? decimalFormatter : (d) => d\n\n        //create and call the axes\n        const xAxis = d3.axisBottom(xScale)\n            .tickFormat(d => xFormat(d))\n            .ticks(xTicks)\n\n        const yAxis = d3.axisLeft(yScale)\n            .tickFormat(d => yFormat(d))\n            .ticks(yTicks)\n\n\n        xAxisGroup.call(xAxis)\n            .attr('class','chartAxis')\n        yAxisGroup.call(yAxis)\n            .attr('class','chartAxis')\n\n      }\n    }, [FBuser, chartData])\n\n    return (\n        <div className=\"flex justify-center\">\n          <div className={chartClass + ' w-1/2'}>\n              <svg ref={ref}>\n                  <g className=\"chartArea\">\n\n                  </g>\n              </svg>\n          </div>\n        </div>\n    )\n  }\n \nexport default LineChart;","import React, { useContext, useEffect, useState } from 'react'\nimport { FbContext } from '../store/fbContext';\nimport { logHistory } from '../store/actions'\nimport LineChart from './LineChart'\n\nconst TotalScore = () => {\n\n  const { items, oneOffs, weights, FBuser } = useContext(FbContext)\n  const oneOffWeight = weights ? weights.oneOff : 0;\n  const [totalScore, setTotalScore] = useState(0)\n  const [showChart, setShowChart] = useState(false)\n\n  const chartClass = showChart ? 'block' : 'hidden'\n\n  useEffect(() => {\n   var newScore = 0\n   var hydrated = false;\n    if(items && oneOffs){\n      for(var i = 0; i < items.length; i++){\n        newScore += items[i].score\n      }\n      if(newScore > 0) hydrated = true;\n      newScore = newScore + (oneOffs.length * oneOffWeight)\n    }\n\n\n    if(newScore !== totalScore && items && oneOffs && hydrated && FBuser){\n      logHistory(newScore)\n    }\n\n    setTotalScore(newScore)\n  }, [items, oneOffs, oneOffWeight, totalScore, FBuser])\n\n  const toggleChart = (e) => {\n    setShowChart(!showChart)\n  }\n\n  return ( \n    <div className=\"my-5\">\n      <div className=\"flex justify-center space-x-1\">\n        <h1 className=\"text-center text-4xl scoreLabel\">{ totalScore.toFixed(2) }</h1>\n        <svg onClick={toggleChart} className=\"w-5 cursor-pointer\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z\" />\n        </svg>\n      </div>\n      <LineChart chartClass={chartClass} />\n    </div>\n   );\n}\n \nexport default TotalScore;","import AddItem from \"./components/AddItem\";\nimport Login from \"./components/auth/Login\";\nimport Config from \"./components/Config\";\nimport OneOffs from \"./components/OneOffs/OneOffs\";\nimport Table from \"./components/Table\";\nimport TotalScore from \"./components/TotalScore\";\nimport { FbProvider } from './store/fbContext.js'\n\nfunction App() {\n  return (\n    <FbProvider>\n      <div className=\"App\">\n        <Login />\n        <TotalScore />\n        <OneOffs />\n        <Table />\n        <AddItem />\n        <Config />\n      </div>\n    </FbProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/tailwind.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}