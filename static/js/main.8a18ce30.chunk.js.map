{"version":3,"sources":["config/fbConfig.js","store/hydrateItem.js","store/reducer.js","store/hydrateWeights.js","store/fbContext.js","components/ImportanceIcon.js","components/ItemCard.js","components/CardCollection.js","components/EditSheet/EditAction.js","components/EditSheet/EditActionType.js","components/EditSheet/EditDescription.js","components/EditSheet/EditExpectedUpdate.js","components/EditSheet/EditImportance.js","components/EditSheet/EditName.js","store/actions.js","components/EditSheet/EditModal.js","components/EditSheet/EditSheet.js","components/AddItem.js","components/auth/Login.js","components/OneOffs/AddOneOff.js","components/OneOffs/OneOffItem.js","components/OneOffs/OneOffs.js","components/todoConfig/ActionConfig.js","components/todoConfig/ImportanceConfig.js","components/todoConfig/Config.js","chartHelper.js","components/LineChart.js","components/TotalScore.js","components/LeftBar.js","components/rightBar/ActionTypeFilter.js","components/rightBar/DayFilter.js","components/rightBar/ImportanceFilters.js","components/rightBar/RightBar.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","weekDaysBetween","timestamp","expectedUpdate","moment","unix","seconds","startOf","now","end","start","multiplier","dailyInfo","totalDays","isSame","isBefore","add","day","itemColorClass","item","Date","getFullYear","getMonth","getDate","actionType","reducer","state","action","type","showSheet","itemID","importanceFilters","importance","value","1","2","3","actionFilters","4","5","6","dayFilter","importanceArray","importanceTypes","Object","keys","key","push","sort","a","b","id","actionTypeArray","actionTypes","FbContext","React","createContext","FbProvider","children","useAuthState","auth","FBuser","userID","uid","useReducer","status","dispatch","useCollectionData","collection","where","idField","oneOffs","useDocumentData","doc","transform","d","weights","hydrateWeights","dayDrop","oneOff","filter","iType","aType","daysTo","score","Math","max","weight","colorClass","importanceName","name","importanceWeight","actionTypeName","actionTypeWeight","hydrateItem","items","orderBy","history","Provider","ImportanceIcon","color","numberOfDots","dots","i","className","map","dot","xmlns","fill","viewBox","stroke","cx","cy","r","strokeWidth","ItemCard","format","useContext","onClick","e","toFixed","description","CardCollection","sortedItems","isSameOrBefore","EditAction","change","onChange","EditActionType","EditDescription","EditExpectedUpdate","toDate","isClearable","selected","newDate","g","EditImportance","EditName","currentUserID","currentUser","EditModal","node","useRef","useState","newItem","setNewItem","isNew","setNew","useEffect","handleClick","current","contains","target","document","addEventListener","removeEventListener","cancelClick","ref","parseInt","deleted","addNewItem","update","new","updateItem","window","confirm","EditSheet","body","style","overflow","AddItem","Login","email","pass","creds","setCreds","signOut","handleChange","onSubmit","preventDefault","signInWithEmailAndPassword","AddOneOff","newOneOff","setNewOneOff","done","addOneOff","OneOffItem","OneOffs","ActionConfig","newATypes","setNewATypes","inputChange","attributes","actionid","nodeValue","onBlur","newValue","isNaN","parseFloat","oldATypes","get","then","userDoc","updateActionTypes","actionArray","ImportanceConfig","newITypes","setNewITypes","importanceid","oldITypes","updateImportanceTypes","Config","d3","d3module","tip","d3tip","removeDuplicates","newHistory","length","buildChartData","lineData","forEach","hist","date","dateFormatter","decimalFormatter","yScaleLinear","chartData","height","yRange","maxY","minY","lines","line","data","point","y","min","yMinMax","scaleLinear","range","domain","xScaleTime","width","xRange","minX","maxX","x","xMinMax","scaleTime","getToolTip","attr","html","xLabel","yLabel","xTimeLabel","timeOnlyFormatter","content","LineChart","chartClass","cleanHistory","margin","chartArea","select","selectAll","remove","graph","append","hoverLineGroup","xHoverLine","yHoverLine","xAxisGroup","yAxisGroup","xScale","yScale","pathGenerator","ttip","call","path","circs","circSize","dotSize","exit","on","show","hide","enter","pathLength","getTotalLength","xTicks","yTicks","xFormat","yFormat","xAxis","axisBottom","tickFormat","ticks","yAxis","axisLeft","TotalScore","oneOffWeight","totalScore","setTotalScore","showChart","setShowChart","newScore","hydrated","currentScore","console","log","t","logHistory","strokeLinecap","strokeLinejoin","LeftBar","showConfig","setShowConfig","ActionTypeFilter","onCheck","checked","DayFilter","setValue","ImportanceFilters","RightBar","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8a18ce30.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport 'firebase/analytics'\n\n// Replace this with your own config details\nvar config = {\n  apiKey: \"AIzaSyCSu3ggsS66Mo1OullwbFJIg9mibC9E9wY\",\n  authDomain: \"todo-8303f.firebaseapp.com\",\n  projectId: \"todo-8303f\",\n  storageBucket: \"todo-8303f.appspot.com\",\n  messagingSenderId: \"928128254937\",\n  appId: \"1:928128254937:web:a3f32fafc7ca5ba6c40fc8\"\n};\n\nfirebase.initializeApp(config);\nfirebase.firestore()\n\nexport default firebase ","import moment from 'moment';\n\n\nexport const hydrateItem = (item, weights) =>{\n  if(weights && item){\n    const importance = weights.importanceArray.filter(iType => {\n      return iType.id === item.importance\n    })[0]\n\n    const actionType = weights.actionTypeArray.filter(aType => {\n      return aType.id === item.actionType\n    })[0]\n\n    const daysTo = weekDaysBetween(item.expectedUpdate)\n    // weekDaysBetween(item.expectedUpdate)\n    const score = item.expectedUpdate ? Math.max(0,(1 * importance.weight * actionType.weight) - (daysTo * weights.dayDrop)) : 0;\n\n\n    const colorClass = itemColorClass(item)\n  \n    return {...item, importanceName: importance.name, importanceWeight: importance.weight, actionTypeName: actionType.name, actionTypeWeight: actionType.weight, daysTo, score, colorClass}\n    \n  }\n  return item\n}\n\n\nconst weekDaysBetween = (timestamp) => {\n  if(timestamp === null) return 0;\n  const expectedUpdate = moment.unix(timestamp.seconds).startOf('days')\n  const now = moment().startOf('days');\n  var end = moment(expectedUpdate)\n  var start = moment(now)\n  var multiplier = 1\n  const dailyInfo = [false, true, true, true, true, true, false]\n  let totalDays = 0;\n\n  if(expectedUpdate.isSame(now)){\n    return 0;\n  }\n  if(expectedUpdate.isBefore(now)){\n    start = moment(expectedUpdate)\n    end = moment(now)\n    multiplier = -1;\n  }\n\n  while(!start.isSame(end)){\n    start.add(1,'d')\n    if(dailyInfo[start.day()]){\n      totalDays++;\n    }\n  }\n\n  return totalDays * multiplier\n\n}\n\nconst itemColorClass = (item) => {\n  if(item.expectedUpdate === null) return 'bg-white'\n  const now = moment(new Date(new Date().getFullYear(),new Date().getMonth() , new Date().getDate()));\n  const expectedUpdate = moment.unix(item.expectedUpdate.seconds)\n\n  if(expectedUpdate.isBefore(now) && item.actionType !== 5 && item.actionType !== 6){\n    return 'bg-red-600 text-white'\n  }else if(expectedUpdate.isSame(now) && (item.actionType === 1 || item.actionType === 4)){\n    return 'bg-purple-700 text-white'\n  }else if(expectedUpdate.isSame(now) && (item.actionType === 2 || item.actionType === 3)){\n    return 'bg-gray-600 text-white'\n  }else if(item.actionType === 1 || item.actionType === 4){\n    return 'bg-purple-300'\n  }else if(item.actionType === 2 || item.actionType === 3){\n    return 'bg-gray-400'\n  }\n\n  return 'bg-white'\n\n}","\nexport const reducer = (state, action) => {\n  switch(action.type){\n    case 'SHOW_SHEET':\n      return {\n        ...state,\n        showSheet: true,\n        itemID: action.itemID\n      }\n    case 'HIDE_SHEET':\n      return{\n        ...state,\n        showSheet: false,\n        itemID: null\n      }\n    case 'SET_IMPORTANCE_FILTER':\n      return{\n        ...state,\n        importanceFilters:{\n          ...state.importanceFilters,\n          [action.importance]: action.value\n        }\n      }\n    case 'ALL_IMPORTANCE':\n      return{\n        ...state,\n        importanceFilters:{\n          1: action.value,\n          2: action.value,\n          3: action.value\n        }\n      }\n    case 'SET_ACTION_FILTER':\n      return{\n        ...state,\n        actionFilters:{\n          ...state.actionFilters,\n          [action.actionType]: action.value\n        }\n      }\n    case 'ALL_ACTION':\n      return{\n        ...state,\n        actionFilters:{\n          1: action.value,\n          2: action.value,\n          3: action.value,\n          4: action.value,\n          5: action.value,\n          6: action.value\n        }\n      }\n    case 'SET_DAY_FILTER':\n      return{\n        ...state,\n        dayFilter: action.value\n      }\n    default: \n      return state\n  }\n}","\n\nexport const hydrateWeights = (weights) => {\n  weights.importanceArray = importanceArray(weights.importanceTypes)\n  weights.actionTypeArray = actionTypeArray(weights.actionTypes)\n  return weights\n}\n\n\nconst importanceArray = (importanceTypes) => {\n  const keys = Object.keys(importanceTypes)\n  var importanceArray = []\n  for (const key of keys) {\n    importanceArray.push(importanceTypes[key])\n  }\n  importanceArray = importanceArray.sort((a,b) => {\n    return a.id - b.id\n  })\n  return importanceArray\n}\n\nconst actionTypeArray = (actionTypes) => {\n  const keys = Object.keys(actionTypes)\n  var actionTypeArray = []\n  for(const key of keys){\n    actionTypeArray.push(actionTypes[key])\n  }\n  actionTypeArray = actionTypeArray.sort((a,b) => {\n    return a.id - b.id\n  })\n  return actionTypeArray\n}","import React, { useReducer } from \"react\";\nimport firebase from '../config/fbConfig'\nimport {hydrateItem} from './hydrateItem'\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { useCollectionData, useDocumentData } from 'react-firebase-hooks/firestore';\nimport { reducer } from './reducer'\nimport { hydrateWeights } from './hydrateWeights'\n\nexport const FbContext = React.createContext();\n\n\nexport const FbProvider = ({ children }) => {\n\n  const [FBuser] = useAuthState(firebase.auth());\n  const userID = FBuser ? FBuser.uid : null\n  const [status, dispatch] = useReducer(reducer, {\n    showSheet: false,\n    itemID: null,\n    importanceFilters: {\n      1: true,\n      2: true,\n      3: true\n    },\n    dayFilter: 'all',\n    actionFilters: {1: true, 2: true, 3: true, 4: true, 5: true, 6: true}\n  });\n\n  const [oneOffs] = useCollectionData(firebase.firestore().collection('users/'+ userID +'/oneOffs').where('done','==',false), {\n    idField: 'id'\n  });\n\n  const [weights] = useDocumentData(firebase.firestore().collection('users').doc(\"/\" + userID), {\n    transform: function t(d){\n      return hydrateWeights({\n        importanceTypes: d.importanceTypes,\n        actionTypes: d.actionTypes,\n        dayDrop: d.dayDrop,\n        oneOff: d.oneOff\n      })\n    }\n  })\n\n  const [items] = useCollectionData(firebase.firestore().collection('users/' + userID + '/items').where('deleted','==',false),{\n    idField: 'id',\n    transform: function t(d){\n      return hydrateItem({...d, score: 0}, weights)\n    }\n  })\n\n  const [history] = useCollectionData(firebase.firestore().collection('users/' + userID + '/history').orderBy('date','asc'))\n\n\n\n  return (\n    <FbContext.Provider value={{ items, oneOffs, weights, FBuser, history, status, dispatch }}>{children}</FbContext.Provider>\n  );\n};\n\n","import React from 'react';\n\nconst ImportanceIcon = ({importance}) => {\n\n  var color = \"green\"\n  switch(importance){\n    case 1:\n      color = \"red\"\n      break;\n    case 2:\n      color = \"yellow\"\n      break;\n    default:\n      color = \"green\"\n  }\n\n  const numberOfDots = importance === 1 ? 3 : importance === 3 ? 1 : 2;\n\n  var dots = []\n  for (let i = 1; i <= numberOfDots; i++) {\n    dots.push(i);\n  }\n\n\n  return ( \n    <div className=\"flex\">\n      { dots && dots.map(dot => {\n        return(\n          <div className=\"h-3 w-3\" key={dot}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"black\" strokeWidth=\"1\" fill={color} />\n            </svg>\n          </div>\n        )\n      })}\n    </div>\n   );\n}\n \nexport default ImportanceIcon;","import React, { useContext } from 'react'\nimport moment from 'moment'\nimport { FbContext } from '../store/fbContext'\nimport ImportanceIcon from './ImportanceIcon'\n\n\nconst ItemCard = ({item}) => {\nconst expectedUpdate = item.expectedUpdate ? moment.unix(item.expectedUpdate.seconds).format('MM/DD/YY') : null\n\nconst { dispatch } = useContext(FbContext)\n\nconst click = (e) => {\n  dispatch({type: 'SHOW_SHEET', itemID: item.id})\n}\n\n  return ( \n    <div onClick={click} className={'border-2 border-black my-2 w-full self-center grid grid-cols-12 cursor-pointer '}>\n      <div className='mainInfo flex flex-col col-span-4 p-2 bg-black text-white'>\n        <p className='text-xs'>{item.score.toFixed(2)}</p>\n        <p className='text-xl'>{item.name}</p>\n        {/* <p className='text-xs'>{item.importanceName}</p> */}\n        <ImportanceIcon importance={item.importance} />\n        <p className='text-sm'>{item.description}</p>\n      </div>\n      <div className={\"col-span-8 p-2 \" + item.colorClass}>\n        <p className='text-xl'>{item.actionTypeName}</p>\n        <p className='text-sm'>{expectedUpdate}</p>\n        <p className='text-base'>{item.action}</p>\n      </div>\n    </div>\n   );\n}\n \nexport default ItemCard;","import moment from 'moment';\nimport React, { useContext } from 'react'\nimport { FbContext } from '../store/fbContext';\nimport ItemCard from './ItemCard';\n\n\nconst CardCollection = () => {\n\n  const { items, status } = useContext(FbContext)\n  var sortedItems = items ? items.sort((a,b) => {\n    if(a.expectedUpdate === null) return 1\n    if(b.expectedUpdate === null) return -1\n    return b.score - a.score\n  }) : null;\n\n  if(status && sortedItems){\n    const importanceFilters = status.importanceFilters\n    sortedItems = sortedItems.filter(item => {\n      return importanceFilters[item.importance]\n    })\n  }\n\n  if(status && sortedItems){\n    if(status.dayFilter === 'today'){\n      sortedItems = sortedItems.filter(item => {\n        return moment.unix(item.expectedUpdate.seconds).startOf('day').isSameOrBefore(moment().startOf('day'))\n      })\n    }else if(status.dayFilter === 'nextThree'){\n      sortedItems = sortedItems.filter(item => {\n        return moment.unix(item.expectedUpdate.seconds).startOf('day').isSameOrBefore(moment().add(3,'days').startOf('day'))\n      })\n    }else if(status.dayFilter === 'overdue'){\n      sortedItems = sortedItems.filter(item => {\n        return moment.unix(item.expectedUpdate.seconds).startOf('day').isBefore(moment().startOf('day'))\n      })\n    }\n  }\n\n  if(status && sortedItems){\n    const actionFilters = status.actionFilters\n    sortedItems = sortedItems.filter(item => {\n      return actionFilters[item.actionType]\n    })\n  }\n\n\n  return ( \n    <div className='flex flex-col w-full col-span-6 col-start-4 p-2 h-screen overflow-hidden'>\n      <div className=\"overflow-scroll h-full hideBar\">\n        { sortedItems && sortedItems.map(item => {\n          return <ItemCard key={item.id} item={item} />\n        })}\n      </div>\n    </div>\n   );\n}\n \nexport default CardCollection;","import React from 'react'\nimport TextareaAutosize from 'react-textarea-autosize';\n\n\nconst EditAction = ({value, change}) => {\n  return ( \n    <div className=\"mt-2\">\n      <p>Action</p>\n      <TextareaAutosize id='action' onChange={change} className={'focus:outline-none border-2 border-black '} value={value}></TextareaAutosize>\n    </div>\n   );\n}\n \nexport default EditAction;","import React from 'react';\n\nconst EditActionType = ({value, change}) => {\n  return ( \n    <div className=\"mt-2\">\n      <p>Action Type</p>\n      <select className='border-2 border-black' onChange={change} id='actionType' value={value}>\n        <option value={1}>ToDo</option>\n        <option value={2}>Wait for Meeting</option>\n        <option value={3}>Wait for Response</option>\n        <option value={4}>Follow-up</option>\n        <option value={5}>Nothing yet</option>\n        <option value={6}>Fully done</option>\n      </select>\n    </div>\n   );\n}\n \nexport default EditActionType;","import React from 'react'\nimport TextareaAutosize from 'react-textarea-autosize';\n\n\nconst EditDescription = ({value, change}) => {\n\n  return ( \n    <div className=\"mt-2\">\n      <p>Description</p>\n      <TextareaAutosize id='description' onChange={change} className={'focus:outline-none border-2 border-black '} value={value}></TextareaAutosize>\n    </div>\n   );\n}\n \nexport default EditDescription;","import React from 'react'\nimport moment from 'moment'\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\n\nconst EditExpectedUpdate = ({value, change}) => {\n\n  const expectedUpdate = value && value.seconds ? moment.unix(value.seconds).toDate() : value ? value : null\n\n  const dateChange = (newDate,g) => {\n    var dateToSend = newDate\n    if(dateToSend !== null){\n      change(dateToSend)\n    }\n  }\n\n  return ( \n    <div className=\"mt-2\">\n      <p>Expected Update</p>\n      <DatePicker id='expectedUpdate' isClearable={false} className='formInput' selected={expectedUpdate} onChange={dateChange} />\n    </div>\n   );\n}\n \nexport default EditExpectedUpdate;","import React from 'react'\n\n\nconst EditImportance = ({value, change}) => {\n  return ( \n    <div className=\"mt-2\">\n      <p>Importance</p>\n      <select className='border-2 border-black' id='importance' onChange={change} value={value}>\n        <option value={1}>High</option>\n        <option value={2}>Medium</option>\n        <option value={3}>Low</option>\n      </select>\n    </div>\n   );\n}\n \nexport default EditImportance;","import React from 'react'\n\n\nconst EditName = ({value, change}) => {\n  return ( \n    <div>\n      <p>Name</p>\n      <input className='formInput' onChange={change} id='name' value={value}></input>\n    </div>\n   );\n}\n \nexport default EditName;","import firebase from '../config/fbConfig'\n\n\nexport const updateName = (newName, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    name: newName\n  })\n}\n\nexport const updateImportance = (importance, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    importance: parseInt(importance)\n  })\n}\n\nexport const updateDescription = (newDesription, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    description: newDesription\n  })\n}\n\nexport const updateNotes = (newNotes, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    notes: newNotes\n  })\n}\n\nexport const updateActionType = (newActionType, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    actionType: parseInt(newActionType)\n  })\n}\n\nexport const updateAction = (newAction, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    action: newAction\n  })\n}\n\nexport const updateExpectedUpdate = (newExpectedUpdate, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    expectedUpdate: newExpectedUpdate\n  })\n}\n\nexport const completeOneOff = (id) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/oneOffs').doc(id).update({\n    done: true\n  })\n}\n\nexport const addOneOff = (oneOff) => {\n  const userID = currentUserID()\n  firebase.firestore().collection('users/' + currentUserID() + '/oneOffs').add({\n    name: oneOff,\n    done: false,\n    userID\n  })\n}\n\nexport const login = (email, pass) => {\n  firebase.auth().signInWithEmailAndPassword(\n    email,\n    pass\n  )\n}\n\nexport const logout = () => {\n  firebase.auth().signOut()\n}\n\nexport const addNewItem = (newItem) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').add({\n    action: newItem.action,\n    actionType: parseInt(newItem.actionType),\n    description: newItem.description,\n    expectedUpdate: newItem.expectedUpdate,\n    importance: parseInt(newItem.importance),\n    name: newItem.name,\n    deleted: false\n  })\n}\n\nexport const deleteItem = (itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    deleted: true\n  })\n}\n\nexport const updateImportanceTypes = (newITypes, oldITypes) => {\n  const keys = Object.keys(newITypes)\n  for (const key of keys) {\n    if(!isNaN(parseFloat(newITypes[key].weight))){\n      oldITypes[key] = {\n        ...newITypes[key],\n        weight: parseFloat(newITypes[key].weight)\n      }\n    }\n  }\n  firebase.firestore().collection('users').doc(currentUserID()).get().then(userDoc => {\n    firebase.firestore().collection('users').doc(currentUserID()).update({\n      importanceTypes: oldITypes\n    })\n  })\n}\n\nexport const updateActionTypes = (newATypes, oldATypes) => {\n  const keys = Object.keys(newATypes)\n  for (const key of keys) {\n    if(!isNaN(parseFloat(newATypes[key].weight))){\n      oldATypes[key] = {\n        ...newATypes[key],\n        weight: parseFloat(newATypes[key].weight)\n      }\n    }\n  }\n  firebase.firestore().collection('users').doc(currentUserID()).get().then(userDoc => {\n    firebase.firestore().collection('users').doc(currentUserID()).update({\n      actionTypes: oldATypes\n    })\n  })\n}\n\nexport const logHistory = (newScore) => {\n  const now = new Date()\n  firebase.firestore().collection('users').doc(currentUserID()).get().then(userDoc => {\n    if(userDoc.data().currentScore.toFixed(2) !== newScore.toFixed(2)){\n      console.log('log history. current:', userDoc.data().currentScore, 'new', newScore)\n      firebase.firestore().collection('users').doc(currentUserID()).update({\n        currentScore: parseFloat(newScore.toFixed(2))\n      }).then(t => {\n        firebase.firestore().collection('users/' + currentUserID() + '/history').add({\n          date: now,\n          score: parseFloat(newScore.toFixed(2))\n        })\n      })\n    }\n  })\n\n}\n\nexport const updateItem = (newItem) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(newItem.id).update({\n    action: newItem.action,\n    actionType: parseInt(newItem.actionType),\n    description: newItem.description,\n    expectedUpdate: newItem.expectedUpdate,\n    importance: parseInt(newItem.importance),\n    name: newItem.name,\n    new: false\n  })\n}\n\nconst currentUserID = () => {\n  return firebase.auth().currentUser.uid\n}","import React, { useState, useContext, useEffect, useRef } from 'react'\nimport EditAction from './EditAction';\nimport EditActionType from './EditActionType';\nimport EditDescription from './EditDescription';\nimport EditExpectedUpdate from './EditExpectedUpdate';\nimport EditImportance from './EditImportance';\nimport EditName from './EditName';\nimport { updateItem, deleteItem, addNewItem } from '../../store/actions';\nimport { FbContext } from '../../store/fbContext';\n\n\nconst EditModal = () => {\n\n  const node = useRef(null)\n  const { status, dispatch, items } = useContext(FbContext)\n\n  const [newItem, setNewItem] = useState({\n    name: '',\n    action: '',\n    description:'',\n    importance: 3,\n    actionType: 1,\n    expectedUpdate: new Date()\n  })\n  const [isNew, setNew] = useState(true)\n\n  useEffect(() => {\n    if(status && status.itemID){\n      if(items){\n        setNewItem(items.filter(item => {return item.id === status.itemID})[0])\n        setNew(false)\n      }else{\n        setNew(true)\n      }\n    }\n  }, [status, items])\n\n\n  useEffect(() => {\n\n    const handleClick = (e) => {\n      if (node.current.contains(e.target)) {\n        return;\n      }\n      dispatch({type:'HIDE_SHEET'})\n    }\n    // add when mounted\n    document.addEventListener(\"mousedown\", handleClick);\n    // return function to be called when unmounted\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClick);\n    };\n  }, [dispatch]);\n\n\n\n  const change = (e) => {\n    setNewItem({\n      ...newItem,\n      [e.target.id]: e.target.value\n    })\n  }\n\n  const dateChange = (newDate) => {\n    setNewItem({\n      ...newItem,\n      expectedUpdate: newDate\n    })\n  }\n\n  const cancelClick = (e) => {\n    dispatch({type:'HIDE_SHEET'})\n  }\n\n  const deleteClicked = (e) => {\n    if(window.confirm('Are you sure you want to delete?') === true){\n      deleteItem(newItem.id)\n    }\n    dispatch({type:'HIDE_SHEET'})\n  }\n\n\n  const doneClick = (e) => {\n    updateItem(newItem)\n    dispatch({type:'HIDE_SHEET'})\n  }\n\n  const addClick = (e) => {\n    addNewItem(newItem)\n    dispatch({type:'HIDE_SHEET'})\n  }\n\n\n  return ( \n    <div ref={node} className=\"overflow-scroll bg-white h-5/6 w-1/4 mt-10 p-5\">\n      { isNew ? (\n        <p className=\"text-xl font-bold\">New Item</p>\n      ) : (\n        <p className=\"text-xl font-bold\">Edit Item</p>\n      )}\n      <EditName value={newItem.name} change={change} />\n      <EditImportance value={newItem.importance} change={change} />\n      <EditDescription value={newItem.description} change={change} />  \n      <EditActionType value={newItem.actionType} change={change} />\n      <EditExpectedUpdate value={newItem.expectedUpdate} change={dateChange} />\n      <EditAction value={newItem.action} change={change} />\n      {\n        isNew ? (\n          <div className=\"flex space-x-2 mt-5\">\n            <button onClick={cancelClick} className=\"btn\">Cancel</button>\n            <button onClick={addClick} className=\"doneBtn\">Add</button>\n          </div>\n        ) : (\n          <div>\n            <div className=\"flex space-x-2 mt-5\">\n              <button onClick={cancelClick} className=\"btn\">Cancel</button>\n              <button onClick={doneClick} className=\"doneBtn\">Done</button>\n            </div>\n            <div>\n              <button onClick={deleteClicked} className=\"importantBtn mt-5\">Delete Item</button>\n            </div>\n          </div>\n        )\n      }\n    </div>\n   );\n}\n \nexport default EditModal;","import React, { useContext } from 'react'\nimport { FbContext } from '../../store/fbContext';\nimport EditModal from './EditModal';\n\n\n\nconst EditSheet = () => {\n\n  const { status } = useContext(FbContext)\n\n\n  if(status.showSheet === false || status.item === null){\n    document.body.style.overflow = 'unset';\n    return null\n  }\n\n  document.body.style.overflow = 'hidden';\n\n\n  return ( \n    <div className='flex justify-center w-screen h-screen bg-gray-400 bg-opacity-40 fixed inset-0'>\n      <EditModal />\n    </div>\n   );\n}\n \nexport default EditSheet;","import React, { useContext } from 'react'\nimport { FbContext } from '../store/fbContext'\n\nconst AddItem = () => {\n\n  const { FBuser, dispatch } = useContext(FbContext)\n\n  const addItem = () => {\n    dispatch({type:'SHOW_SHEET'})\n  }\n\n  if(FBuser === null) return false\n\n  return ( \n    <button className=\"ml-10 mt-5 mb-10 btn\" onClick={addItem}>Add Item</button>\n   );\n}\n \nexport default AddItem;","import React, { useState, useContext } from 'react'\nimport { FbContext } from '../../store/fbContext';\nimport { login, logout } from '../../store/actions'\n\nconst Login = () => {\n\n  const { FBuser } = useContext(FbContext)\n  const [creds, setCreds] = useState({\n    email: '',\n    pass: ''\n  })\n\n  const logoutClick = (e) => {\n    logout();\n  }\n\n  if(FBuser){\n    return(\n      <button onClick={logoutClick} className=\"btn\">Logout</button>\n    )\n  }\n\n  const submit = (e) => {\n    e.preventDefault();\n    login(creds.email, creds.pass)\n    setCreds({\n      email: '',\n      pass: ''\n    })\n  }\n\n  const handleChange = (e) => {\n    setCreds({\n      ...creds,\n      [e.target.id] : e.target.value\n    })\n  }\n\n  return ( \n    <div>\n      <form onSubmit={submit}>\n        <input onChange={handleChange} value={creds.email} id=\"email\" className=\"formInput\" type=\"email\"></input>\n        <input onChange={handleChange} value={creds.pass} id=\"pass\" className=\"formInput\" type=\"password\"></input>\n        <button className=\"btn\" type=\"submit\">Login</button>\n      </form>\n    </div>\n   );\n}\n \nexport default Login;","import React, { useState } from 'react'\nimport { addOneOff } from '../../store/actions'\n\nconst AddOneOff = () => {\n\n  const [newOneOff, setNewOneOff] = useState('')\n\n  const change = (e) => {\n    setNewOneOff(e.target.value)\n  }\n\n  const submit = (e) => {\n    e.preventDefault()\n    addOneOff(newOneOff)\n    setNewOneOff('')\n  }\n\n  return ( \n    <form onSubmit={submit}>\n      <input className=\"formInput\" value={newOneOff} onChange={change}></input>\n    </form>\n   );\n}\n \nexport default AddOneOff;","import React from 'react'\nimport { completeOneOff } from '../../store/actions'\n\nconst OneOffItem = ({oneOff}) => {\n\n  const onCheck = () => {\n    completeOneOff(oneOff.id)\n  }\n\n  return (\n    <div className=\"flex space-x-2\">\n      <input className='self-center' onChange={onCheck} type=\"checkbox\" />\n      <label className='self-center'>{oneOff.name}</label>\n    </div>\n   );\n}\n \nexport default OneOffItem;","import React, { useContext } from 'react'\nimport { FbContext } from '../../store/fbContext';\nimport AddOneOff from './AddOneOff';\nimport OneOffItem from './OneOffItem';\n\n\nconst OneOffs = () => {\n\n  const { oneOffs } = useContext(FbContext)\n\n\n\n  return ( \n    <div className=\"w-full\">\n      <div className=\"m-auto w-48\">\n        <h1 className=\"text-lg font-bold\">One Off Items</h1>\n        { oneOffs && oneOffs.map(oneOff => {\n          return (\n            <OneOffItem oneOff={oneOff} key={oneOff.id} />\n          )\n        })}\n        <AddOneOff />\n      </div>\n    </div>\n   );\n}\n \nexport default OneOffs;","import React, { useState, useEffect } from 'react'\nimport { updateActionTypes } from '../../store/actions'\n\nconst ActionConfig = ({actionTypes}) => {\n\n  const [newATypes, setNewATypes] = useState([])\n\n  useEffect(() => {\n    if(actionTypes){\n      setNewATypes(actionTypes)\n    }\n  },[actionTypes])\n\n\n  const inputChange = (e) => {\n    setNewATypes({\n      ...newATypes,\n      [e.target.attributes.actionid.nodeValue]: {\n        ...newATypes[e.target.attributes.actionid.nodeValue],\n        weight: e.target.value\n      }\n    })\n  }\n\n  const onBlur = (e) => {\n    const newValue = isNaN(parseFloat(e.target.value)) ? actionTypes[e.target.attributes.actionid.nodeValue].weight : parseFloat(e.target.value)\n    updateActionTypes({\n      ...newATypes,\n      [e.target.attributes.actionid.nodeValue]: {\n        ...newATypes[e.target.attributes.actionid.nodeValue],\n        weight: newValue\n      }\n    }, actionTypes)\n  }\n\n\n  const keys = Object.keys(newATypes)\n  var actionArray = []\n  for (const key of keys) {\n    actionArray.push(newATypes[key])\n  }\n  actionArray = actionArray.sort((a,b) => {\n    return b.weight - a.weight\n  })\n\n  return ( \n    <div className='m-auto w-48 mt-10'>\n      <p className=\"text-lg font-bold\">Action Type Weights</p>\n      { actionArray && actionArray.map(aType => {\n        return(\n          <div key={aType.id}>\n            <p>{aType.name}</p>\n            <input onBlur={onBlur} value={aType.weight} actionid={aType.id} id={aType.id} onChange={inputChange} className=\"formInput\" />\n          </div>\n        )\n      })}\n    </div>\n   );\n}\n \nexport default ActionConfig;","import React, { useState, useEffect } from 'react';\nimport { updateImportanceTypes } from '../../store/actions'\n\nconst ImportanceConfig = ({importanceTypes}) => {\n\n  const [newITypes, setNewITypes] = useState([])\n\n  useEffect(() => {\n    if(importanceTypes){\n      setNewITypes(importanceTypes)\n    }\n  },[importanceTypes])\n\n  const inputChange = (e) => {\n    setNewITypes({\n      ...newITypes,\n      [e.target.attributes.importanceid.nodeValue]: {\n        ...newITypes[e.target.attributes.importanceid.nodeValue],\n        weight: e.target.value\n      }\n    })\n  }\n\n  const onBlur = (e) => {\n    const newValue = isNaN(parseFloat(e.target.value)) ? importanceTypes[e.target.attributes.importanceid.nodeValue].weight : parseFloat(e.target.value)\n    updateImportanceTypes({\n      ...newITypes,\n      [e.target.attributes.importanceid.nodeValue]: {\n        ...newITypes[e.target.attributes.importanceid.nodeValue],\n        weight: newValue\n      }\n    }, importanceTypes)\n  }\n\n  const keys = Object.keys(newITypes)\n  var importanceArray = []\n  for (const key of keys) {\n    importanceArray.push(newITypes[key])\n  }\n  importanceArray = importanceArray.sort((a,b) => {\n    return b.weight - a.weight\n  })\n\n  return ( \n    <div className='m-auto w-48 mt-10'>\n      <p className=\"text-lg font-bold\">Importance Weights</p>\n      { importanceArray && importanceArray.map(iType => {\n        return(\n          <div key={iType.id} className=\"flex\">\n            <p>{iType.name}</p>\n            <input onBlur={onBlur} value={iType.weight} importanceid={iType.id} onChange={inputChange} className=\"formInputSmall\" />\n          </div>\n        )\n      })}\n    </div>\n   );\n}\n \nexport default ImportanceConfig;","import React, { useContext } from 'react'\nimport { FbContext } from '../../store/fbContext';\nimport ActionConfig from './ActionConfig';\nimport ImportanceConfig from './ImportanceConfig';\n\n\nconst Config = () => {\n\n  const { weights } = useContext(FbContext)\n   \n  return ( \n    <div className=\"w-full\">\n      <div>\n        {\n          weights ? (\n            <div>\n              <ImportanceConfig importanceTypes={weights.importanceTypes} />\n              <ActionConfig actionTypes={weights.actionTypes} />\n            </div>\n          ) : null\n        }\n      </div>\n    </div>\n   );\n} \n \nexport default Config;","import moment from 'moment'\nimport * as d3module from 'd3'\nimport d3tip from 'd3-tip'\n\nconst d3 = {\n  ...d3module,\n  tip: d3tip\n}\n\n\nexport const cleanHistory = (history) => {\n  if(history && history.length > 0){\n    return buildChartData(removeDuplicates(history))\n  }else{\n    return null\n  }\n}\n\n\nconst removeDuplicates = (history) => {\n  var newHistory = []\n  newHistory.push(history[0])\n  for(var i = 1; i < history.length; i++){\n    if(history[i].score !== history[i-1].score){\n      newHistory.push(history[i])\n    }\n  }\n  return newHistory\n}\n\nconst buildChartData = (history) => {\n  var lineData = []\n  history.forEach(hist => {\n    lineData.push({\n      \"x\": moment.unix(hist.date.seconds).toDate(),\n      \"y\": hist.score\n    })\n  })\n\n  return {\n    \"lines\":[\n      {\n        \"name\": \"Score History\",\n        \"data\": lineData\n      }\n    ],\n    \"minY\":0,\n    \"xTicks\":6,\n    \"yTicks\":7,\n    \"dots\":true,\n    \"dotSize\":2\n  }\n}\n\n\nexport const dateFormatter = (d) => {\n  return moment(d).format('MM/DD/YY')\n}\n\nexport const decimalFormatter = (d) => {\n  return d.toFixed(2)\n}\n\nexport const timeOnlyFormatter = (d) => {\n  return moment(d).format('h:mm a')\n}\n\n\nconst xMinMax = (chartData) => {\n  var minX = new Date();\n  var maxX = 0\n  chartData.lines.forEach(line => {\n    line.data.forEach(point => {\n        maxX = Math.max(point.x,maxX)\n        minX = Math.min(point.x,minX)\n    })\n  });\n  return {\n    \"max\": maxX,\n    \"min\": minX\n  }\n}\n\nconst yMinMax = (chartData) => {\n  var maxY = 0\n  var minY = null\n  chartData.lines.forEach(line => {\n    line.data.forEach(point => {\n        maxY = Math.max(point.y,maxY)\n        minY = minY ? Math.min(point.y,minY) : point.y\n    })\n  });\n  minY = minY - ((maxY - minY) * 0.1)\n\n  return {\n    \"max\": maxY,\n    \"min\": minY\n  }\n}\n\n\nexport const yScaleLinear = (chartData, height) => {\n  const yRange = yMinMax(chartData)\n\n  return d3.scaleLinear()\n    .range([0,height])\n    .domain([yRange.max,yRange.min])\n}\n\nexport const xScaleTime = (chartData, width) => {\n  const xRange = xMinMax(chartData)\n\n  return d3.scaleTime()\n    .range([0,width])\n    .domain([xRange.min,xRange.max])\n}\n\n\nexport const getToolTip = () => {\n  return d3.tip()\n    .attr('class', 'tip card')\n    .html((e,d) => {\n        const xLabel = dateFormatter(d.x)\n        const yLabel = decimalFormatter(d.y)\n        const xTimeLabel = timeOnlyFormatter(d.x)\n        let content = ''\n        content += `<div class=\"score\">${yLabel}</div>`;\n        content += `<div class=\"name\">${xLabel}</div>`;\n        content += `<div class=\"cost\">${xTimeLabel}</div>`;\n        return content;\n    });\n}","import React, { useRef, useEffect, useContext } from 'react';\nimport * as d3module from 'd3'\nimport d3tip from 'd3-tip'\nimport { FbContext } from '../store/fbContext';\nimport { cleanHistory, dateFormatter, decimalFormatter, xScaleTime, yScaleLinear, getToolTip } from '../chartHelper'\n\nconst d3 = {\n  ...d3module,\n  tip: d3tip\n}\n\n\nconst LineChart = ({chartClass}) => {\n\n    const {history, FBuser} = useContext(FbContext)\n    var chartData = null\n\n    //clean history and add chart configs\n    chartData = cleanHistory(history)\n \n    //ref to root svg\n    const ref = useRef()\n\n\n    useEffect(() => {\n\n      //graph size\n      const graphHeight = 200\n      const graphWidth = 500\n      const margin = { top: 10, bottom: 20, left: 35, right: 20 };\n      const width = graphWidth - margin.left - margin.right;\n      const height = graphHeight - margin.top - margin.bottom;\n\n      //select root svg\n      const svg = d3.select(ref.current)\n          .attr(\"viewBox\", `0 0 ${graphWidth} ${graphHeight}`)\n          \n      //select group for graph\n      const chartArea = svg.select('.chartArea')\n          .attr('height', graphHeight)\n          .attr('class','chartArea')\n          .attr('width', graphWidth)\n          .attr(\"transform\", `translate(${margin.left},${margin.top})`);\n      \n      chartArea.selectAll('g').remove();\n\n      //add group for data points\n      const graph = chartArea\n      .append(\"g\")\n      .attr(\"transform\", `translate(-${margin.left},-${margin.top})`);\n\n      //remove all current groups within graph\n      graph.selectAll('g').remove();\n      graph.selectAll('path').remove();\n\n      if(chartData){\n\n        //create dotted line group and append to graph\n        const hoverLineGroup = graph.append('g')\n            .style('opacity',0)\n            .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n\n        //create x line and append\n        const xHoverLine = hoverLineGroup.append('line')\n        .attr('stroke','#aaa')\n        .attr('stroke-width', 1)\n        .attr('stroke-dasharray',4)\n\n        //create y line and append\n        const yHoverLine = hoverLineGroup.append('line')\n        .attr('stroke','#aaa')\n        .attr('stroke-width', 1)\n        .attr('stroke-dasharray',4)\n\n        //add group for x axis and move it to the bottom\n        const xAxisGroup = chartArea.append('g')\n            .attr('transform', `translate(0,${height})`);\n      \n        //add group for y axis\n        const yAxisGroup = chartArea.append('g')\n            .attr(\"transform\", `translate(0, 0)`)\n\n        //scales\n        const xScale = xScaleTime(chartData, width)\n        const yScale = yScaleLinear(chartData, height)\n\n        //d3 line path generator\n        const pathGenerator = d3.line()\n          .x(function(d){ return xScale(d.x) })\n          .y(function(d){ return yScale(d.y) })\n\n\n        //build each line dynamically\n        chartData.lines.forEach(line => {\n\n          //tooltip\n          const ttip = getToolTip()\n          graph.call(ttip);\n\n          const path = graph.append('path')\n              .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n\n          //add circles\n          const circs = graph.selectAll('circle.' + line.name)\n              .data(line.data)\n              \n          const circSize = chartData.dotSize ? chartData.dotSize : 5\n\n          //remove exit selction for circles\n          circs.exit().remove()\n\n          //update current circs\n          circs.attr('r', circSize)\n              .attr('fill', 'black')\n              .attr('cx', d => xScale(d.x))\n              .attr('cy', d => yScale(d.y))\n              .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n              .on('mouseover', ttip.show)\n              .on('mouseout', ttip.hide)\n\n\n\n          //append the enter selection to the DOM\n          circs.enter()\n              .append('circle')\n              .attr('fill', 'black')\n              .attr('cx', d => xScale(d.x))\n              .attr('cy', d => yScale(d.y))\n              .attr('r', circSize)\n              .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n              .attr('opacity',1)\n              .on('mouseover.tip', ttip.show)\n              .on('mouseover.lines', (e,d) => {\n              xHoverLine\n                  .attr('x1',xScale(d.x))\n                  .attr('x2',xScale(d.x))\n                  .attr('y1',yScale(d.y))\n                  .attr('y2',height)\n\n              yHoverLine\n                  .attr('x1',0)\n                  .attr('x2',xScale(d.x))\n                  .attr('y1',yScale(d.y))\n                  .attr('y2',yScale(d.y))\n\n              hoverLineGroup.style('opacity', 1)\n              })\n              .on('mouseout.tip', ttip.hide)\n              .on('mouseout.lines', (e,d) => {\n                  hoverLineGroup.style('opacity', 0)\n              })\n          \n              const pathLength = path.node().getTotalLength();\n\n          // update path data\n          path.data([line.data])\n              .attr('fill', 'none')\n              .attr('stroke', 'black')\n              .attr('stroke-width', 2)\n              .attr('d', pathGenerator)\n              .style('opacity',0.75)\n              .attr(\"stroke-dasharray\", pathLength + \" \" + pathLength)\n\n        \n\n        })\n\n        const xTicks = chartData.xTicks ? chartData.xTicks : 5\n        const yTicks = chartData.yTicks ? chartData.yTicks : 5\n\n        //axis label formatting functions\n        var xFormat = chartData ? dateFormatter : (d) => d\n        var yFormat = chartData ? decimalFormatter : (d) => d\n\n        //create and call the axes\n        const xAxis = d3.axisBottom(xScale)\n            .tickFormat(d => xFormat(d))\n            .ticks(xTicks)\n\n        const yAxis = d3.axisLeft(yScale)\n            .tickFormat(d => yFormat(d))\n            .ticks(yTicks)\n\n\n        xAxisGroup.call(xAxis)\n            .attr('class','chartAxis')\n        yAxisGroup.call(yAxis)\n            .attr('class','chartAxis')\n\n      }\n    }, [FBuser, chartData])\n\n    return (\n        <div className=\"flex justify-center\">\n          <div className={chartClass + ' w-full'}>\n              <svg ref={ref}>\n                  <g className=\"chartArea\">\n\n                  </g>\n              </svg>\n          </div>\n        </div>\n    )\n  }\n \nexport default LineChart;","import React, { useContext, useEffect, useState } from 'react'\nimport { FbContext } from '../store/fbContext';\nimport { logHistory } from '../store/actions'\nimport LineChart from './LineChart'\n\nconst TotalScore = () => {\n\n  const { items, oneOffs, weights, FBuser } = useContext(FbContext)\n  const oneOffWeight = weights ? weights.oneOff : 0;\n  const [totalScore, setTotalScore] = useState(0)\n  const [showChart, setShowChart] = useState(false)\n\n  const chartClass = showChart ? 'block' : 'hidden'\n\n  useEffect(() => {\n   var newScore = 0\n   var hydrated = false;\n    if(items && oneOffs){\n      for(var i = 0; i < items.length; i++){\n        newScore += items[i].score\n      }\n      if(newScore > 0) hydrated = true;\n      newScore = newScore + (oneOffs.length * oneOffWeight)\n    }\n\n\n    if(newScore !== totalScore && items && oneOffs && hydrated && FBuser){\n      logHistory(newScore)\n    }\n\n    setTotalScore(newScore)\n  }, [items, oneOffs, oneOffWeight, totalScore, FBuser])\n\n  const toggleChart = (e) => {\n    setShowChart(!showChart)\n  }\n\n  return ( \n    <div className=\"my-5\">\n      <div className=\"flex justify-center space-x-1\">\n        <h1 className=\"text-center text-4xl scoreLabel\">{ totalScore.toFixed(2) }</h1>\n        <svg onClick={toggleChart} className=\"w-5 cursor-pointer\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z\" />\n        </svg>\n      </div>\n      <LineChart chartClass={chartClass} />\n    </div>\n   );\n}\n \nexport default TotalScore;","import React, { useState } from 'react'\nimport AddItem from './AddItem'\nimport Login from './auth/Login'\nimport OneOffs from './OneOffs/OneOffs'\nimport Config from './todoConfig/Config'\nimport TotalScore from './TotalScore'\n\n\nconst LeftBar = () => {\n\n  const [showConfig, setShowConfig] = useState(false)\n\n  const click = (e) => {\n    setShowConfig(!showConfig)\n  }\n\n  return ( \n    <div className=\"col-span-3 h-screen overflow-hidden\" >\n      <div className=\"h-full overflow-scroll hideBar pb-10\">\n        <Login />\n        <AddItem />\n        <TotalScore />\n        <OneOffs />\n        <p className=\"mt-10 cursor-pointer underline m-auto w-48\" onClick={click}>{showConfig ? 'Hide Config' : 'Show Config'}</p>\n        { showConfig ? (\n          <div>\n            <Config />\n          </div>\n        ) : null}\n      </div>\n    </div>\n   );\n}\n \nexport default LeftBar;","import React, { useContext } from 'react'\nimport { FbContext } from '../../store/fbContext'\n\n\nconst ActionTypeFilter = () => {\n\n  const { dispatch, status } = useContext(FbContext)\n\n\n\n  const onCheck = (e) => {\n\n    dispatch({type: 'SET_ACTION_FILTER', actionType: e.target.id, value: e.target.checked})\n  }\n\n  const selectAll = (e) => {\n    dispatch({type: 'ALL_ACTION', value: true})\n  }\n\n  const deSelectAll = (e) => {\n    dispatch({type: 'ALL_ACTION', value: false})\n  }\n\n  return ( \n    <div className=\"mt-5\">\n      <p className=\"text-xl font-bold\">Filter Action Type</p>\n      <div className=\"flex flex-col\">\n        <div className=\"flex space-x-1\">\n          <input className=\"self-center\" id={1} onChange={onCheck} checked={status.actionFilters[1]} type=\"checkbox\" />\n          <label className=\"self-center\">ToDo</label>\n        </div>\n        <div className=\"flex space-x-1\">\n          <input className=\"self-center\" id={2} onChange={onCheck} checked={status.actionFilters[2]} type=\"checkbox\" />\n          <label className=\"self-center\">Wait for Meeting</label>\n        </div>\n        <div className=\"flex space-x-1\">\n          <input className=\"self-center\" id={3} onChange={onCheck} checked={status.actionFilters[3]} type=\"checkbox\" />\n          <label className=\"self-center\">Wait for Response</label>\n        </div>\n        <div className=\"flex space-x-1\">\n          <input className=\"self-center\" id={4} onChange={onCheck} checked={status.actionFilters[4]} type=\"checkbox\" />\n          <label className=\"self-center\">Follow-up</label>\n        </div>\n        <div className=\"flex space-x-1\">\n          <input className=\"self-center\" id={5} onChange={onCheck} checked={status.actionFilters[5]} type=\"checkbox\" />\n          <label className=\"self-center\">Nothing Yet</label>\n        </div>\n        <div className=\"flex space-x-1\">\n          <input className=\"self-center\" id={6} onChange={onCheck} checked={status.actionFilters[6]} type=\"checkbox\" />\n          <label className=\"self-center\">Fully Done</label>\n        </div>\n      </div>\n      <div className=\"flex space-x-2\">\n        <button className=\"btn mt-2\" onClick={selectAll}>Select All</button>\n        <button className=\"btn mt-2\" onClick={deSelectAll}>De-select All</button>\n      </div>\n    </div>\n   );\n}\n \nexport default ActionTypeFilter;","import React, { useContext, useEffect, useState } from 'react'\nimport { FbContext } from '../../store/fbContext'\n\n\nconst DayFilter = () => {\n\n  const { status, dispatch } = useContext(FbContext)\n  const [value, setValue] = useState('all')\n\n  useEffect(() => {\n    if(status){\n      setValue(status.dayFilter)\n    }\n  }, [status])\n\n  const change = (e) => {\n    dispatch({type: 'SET_DAY_FILTER', value: e.target.value})\n  }\n\n  return ( \n    <div className=\"mt-5\">\n      <p className=\"text-xl font-bold\">Filter Date</p>\n      <div>\n        <div>\n          <input onChange={change} type=\"radio\" name=\"dateFilter\" value=\"all\" id=\"all\" checked={value === 'all'}></input>\n          <label>All</label>\n        </div>\n        <div>\n          <input onChange={change} type=\"radio\" name=\"dateFilter\" value=\"today\" checked={value === 'today'}></input>\n          <label>Today</label>\n        </div>\n        <div>\n          <input onChange={change} type=\"radio\" name=\"dateFilter\" value=\"nextThree\" checked={value === 'nextThree'}></input>\n          <label>Next 3 Days</label>\n        </div>\n        <div>\n          <input onChange={change} type=\"radio\" name=\"dateFilter\" value=\"overdue\" checked={value === 'overdue'}></input>\n          <label>Overdue</label>\n        </div>\n      </div>\n    </div>\n   );\n}\n \nexport default DayFilter;","import React, { useContext } from 'react';\nimport { FbContext } from '../../store/fbContext';\n\n\n\nconst ImportanceFilters = () => {\n\n  const { dispatch, status } = useContext(FbContext)\n\n\n  const onCheck = (e) => {\n    dispatch({type: 'SET_IMPORTANCE_FILTER', importance: e.target.id, value: e.target.checked})\n  }\n\n  const selectAll = (e) => {\n    dispatch({type: 'ALL_IMPORTANCE', value: true})\n  }\n\n  return ( \n    <div>\n      <p className=\"text-xl font-bold\">Filter Importance</p>\n      <div className=\"flex space-x-2\">\n        <div className=\"flex space-x-1\">\n          <input className=\"self-center\" id={1} onChange={onCheck} checked={status.importanceFilters[1]} type=\"checkbox\" />\n          <label className=\"self-center\">High</label>\n        </div>\n        <div className=\"flex space-x-1\">\n          <input className=\"self-center\" id={2} onChange={onCheck} checked={status.importanceFilters[2]} type=\"checkbox\" />\n          <label className=\"self-center\">Medium</label>\n        </div>\n        <div className=\"flex space-x-1\">\n          <input className=\"self-center\" id={3} onChange={onCheck} checked={status.importanceFilters[3]} type=\"checkbox\" />\n          <label className=\"self-center\">Low</label>\n        </div>\n      </div>\n      <button className=\"btn mt-2\" onClick={selectAll}>Select All</button>\n    </div>\n   );\n}\n \nexport default ImportanceFilters;","import React, { useContext } from 'react';\nimport { FbContext } from '../../store/fbContext';\nimport ActionTypeFilter from './ActionTypeFilter';\nimport DayFilter from './DayFilter';\nimport ImportanceFilters from './ImportanceFilters';\n\nconst RightBar = () => {\n\n  const { dispatch } = useContext(FbContext)\n\n  const removeAllFilters = (e) => {\n    dispatch({type: 'ALL_IMPORTANCE', value: true})\n    dispatch({type: 'ALL_ACTION', value: true})\n    dispatch({type: 'SET_DAY_FILTER', value: 'all'})\n  }\n\n\n  return ( \n    <div className=\"col-span-3 p-5 h-screen overflow-hidden\">\n      <ImportanceFilters />\n      <DayFilter />\n      <ActionTypeFilter />\n      <button onClick={removeAllFilters} className=\"importantBtn mt-10\">Remove All Filters</button>\n    </div>\n   );\n}\n \nexport default RightBar;","import CardCollection from \"./components/CardCollection\";\nimport EditSheet from \"./components/EditSheet/EditSheet\";\nimport { FbProvider } from './store/fbContext.js'\nimport LeftBar from \"./components/LeftBar\";\nimport RightBar from \"./components/rightBar/RightBar\";\n\n\nfunction App() {\n  return (\n    <FbProvider>\n      <div className=\"App\">\n        <div className=\"grid grid-cols-12\">\n          <LeftBar />\n          <CardCollection />\n          <RightBar />\n        </div>\n        <EditSheet />\n      </div>\n    </FbProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/tailwind.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}