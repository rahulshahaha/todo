{"version":3,"sources":["store/reducers/modalReducer.js","store/contexts/modalContext.js","components/modals/EditSheet/EditAction.js","config/fbConfig.js","store/hydrateItem.js","store/hydrateWeights.js","store/contexts/fbContext.js","components/modals/EditSheet/EditActionType.js","components/modals/EditSheet/EditExpectedUpdate.js","store/actions.js","hooks/useProjectScore.js","components/modals/EditSheet/EditProject.js","components/icons/ExitIcon.js","components/modals/EditSheet/EditModal.js","components/modals/EditSheet/EditSheet.js","components/leftBar/AddItem.js","components/auth/Login.js","components/leftBar/OneOffs/AddOneOff.js","components/leftBar/OneOffs/OneOffItem.js","components/leftBar/OneOffs/OneOffs.js","components/leftBar/todoConfig/ActionConfig.js","components/leftBar/todoConfig/ImportanceConfig.js","components/leftBar/todoConfig/Config.js","chartHelper.js","components/leftBar/LineChart.js","components/leftBar/TotalScore.js","components/icons/ImportanceIcon.js","components/leftBar/ProjectListItem.js","components/icons/PlusIcon.js","components/leftBar/ProjectList.js","components/leftBar/LeftBar.js","store/reducers/filterReducer.js","store/contexts/filterContext.js","components/itemCards/ItemCardData.js","components/itemCards/ItemCardProject.js","components/itemCards/ItemCardContainer.js","components/centerColumn/CardCollection.js","components/rightBar/ActionTypeFilter.js","components/rightBar/DayFilter.js","components/rightBar/ImportanceFilters.js","components/rightBar/RightBar.js","components/Main.js","components/modals/projectEdit/EditDescription.js","components/modals/projectEdit/EditImportance.js","components/modals/projectEdit/EditName.js","hooks/useItemsInProject.js","components/modals/projectEdit/ProjectEditModal.js","components/modals/projectEdit/ProjectEditSheet.js","components/EscDetect.js","App.js","index.js"],"names":["modalReducer","state","action","type","showSheet","itemID","itemProjectID","showProjectSheet","projectID","ModalContext","React","createContext","ModalProvider","children","useReducer","modalStatus","modalDispatch","Provider","value","EditAction","change","className","id","onChange","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","weekDaysBetween","timestamp","expectedUpdate","moment","unix","seconds","startOf","now","end","start","multiplier","dailyInfo","totalDays","isSame","isBefore","add","day","itemColorClass","item","Date","getFullYear","getMonth","getDate","actionType","importanceArray","importanceTypes","Object","keys","key","push","sort","a","b","actionTypeArray","actionTypes","FbContext","FbProvider","useAuthState","auth","FBuser","userID","uid","useCollectionData","collection","where","idField","oneOffs","useDocumentData","doc","transform","d","weights","hydrateWeights","dayDrop","oneOff","projects","project","filter","proj","itemDeleted","importance","iType","aType","daysTo","score","Math","max","weight","colorClass","deleted","importanceName","name","importanceWeight","actionTypeName","actionTypeWeight","hydrateItem","items","orderBy","history","EditActionType","useContext","map","EditExpectedUpdate","toDate","isClearable","selected","newDate","g","updateImportanceTypes","newITypes","oldITypes","isNaN","parseFloat","currentUserID","get","then","userDoc","update","updateActionTypes","newATypes","oldATypes","currentUser","useProjectScore","itemsInProj","projScore","forEach","totalScore","EditProject","projectScores","sortedProjects","disabled","ExitIcon","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","EditModal","node","useRef","useState","newItem","setNewItem","changed","setChanged","isNew","setNew","useEffect","e","target","ref","onClick","parseInt","addNewItem","updateItem","window","confirm","EditSheet","AddItem","Login","email","pass","creds","setCreds","signOut","handleChange","onSubmit","preventDefault","signInWithEmailAndPassword","AddOneOff","newOneOff","setNewOneOff","done","created","addOneOff","placeholder","OneOffItem","OneOffs","sortedOneOffs","ActionConfig","setNewATypes","inputChangeWeight","attributes","actionid","nodeValue","inputChangeName","onBlurWeight","newValue","onBlurName","actionArray","onBlur","newID","length","newKey","addActionType","ImportanceConfig","setNewITypes","importanceid","addImportance","Config","d3","d3module","tip","d3tip","removeDuplicates","newHistory","i","buildChartData","lineData","hist","date","dateFormatter","format","decimalFormatter","toFixed","yScaleLinear","chartData","height","yRange","maxY","minY","lines","line","data","point","y","min","yMinMax","scaleLinear","range","domain","xScaleTime","width","xRange","minX","maxX","x","xMinMax","scaleTime","getToolTip","attr","html","xLabel","yLabel","xTimeLabel","timeOnlyFormatter","content","LineChart","chartClass","cleanHistory","margin","chartArea","select","current","selectAll","remove","graph","append","hoverLineGroup","style","xHoverLine","yHoverLine","xAxisGroup","yAxisGroup","xScale","yScale","pathGenerator","ttip","call","path","circs","circSize","dotSize","exit","on","show","hide","enter","pathLength","getTotalLength","xTicks","yTicks","xFormat","yFormat","xAxis","axisBottom","tickFormat","ticks","yAxis","axisLeft","TotalScore","oneOffWeight","setTotalScore","showChart","setShowChart","newScore","hydrated","currentScore","console","log","t","logHistory","interpolate","require","ImportanceIcon","importances","colors","color","totalImportances","sortedImportances","numberOfDots","dots","dot","cx","cy","r","ProjectListItem","PlusIcon","ProjectList","newProjects","LeftBar","showConfig","setShowConfig","filterReducer","importanceFilters","newImportanceFilters","actionFilters","newActionFilters","dayFilter","FilterContext","FilterContextProvider","filterData","filterDispatch","ItemCardData","description","ItemCardProject","ItemCardContainer","showProject","CardCollection","sortedItems","undefined","isSameOrBefore","ActionTypeFilter","filters","onCheck","checked","filt","DayFilter","setValue","label","ImportanceFilters","RightBar","Main","EditDescription","EditImportance","EditName","useItemsInProject","ProjectEditModal","newProject","setNewProject","addProject","updateProject","itemSnap","batch","docs","itemDoc","itemRef","commit","ProjectEditSheet","EscDetect","keyEvent","code","document","addEventListener","removeEventListener","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"8JACaA,EAAe,SAACC,EAAOC,GAClC,OAAOA,EAAOC,MACZ,IAAK,aACH,OAAO,2BACFF,GADL,IAEEG,WAAW,EACXC,OAAQH,EAAOG,OACfC,cAAeJ,EAAOI,gBAE1B,IAAK,qBACH,OAAO,2BACFL,GADL,IAEEM,kBAAkB,EAClBC,UAAWN,EAAOM,YAEtB,IAAK,aACH,kCACKP,GADL,IAEEG,WAAW,EACXC,OAAQ,KACRC,cAAe,OAEnB,IAAK,qBACH,kCACKL,GADL,IAEEM,kBAAkB,EAClBC,UAAW,OAEf,QACE,OAAOP,I,OC3BAQ,EAAeC,IAAMC,gBAGrBC,EAAgB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EAERC,qBAAWd,EAAc,CAC5DI,WAAW,EACXG,kBAAkB,EAClBF,OAAQ,OALmC,mBAEtCU,EAFsC,KAEzBC,EAFyB,KAW7C,OACE,cAACP,EAAaQ,SAAd,CAAuBC,MAAO,CAAEH,cAAaC,iBAA7C,SAA+DH,K,gBCLpDM,EATI,SAAC,GAAqB,IAApBD,EAAmB,EAAnBA,MAAOE,EAAY,EAAZA,OAC1B,OACE,sBAAKC,UAAU,OAAf,UACE,uCACA,cAAC,IAAD,CAAkBC,GAAG,SAASC,SAAUH,EAAQC,UAAW,4CAA6CH,MAAOA,Q,4BCOrHM,IAASC,cATI,CACXC,OAAQ,0CACRC,WAAY,6BACZC,UAAW,aACXC,cAAe,yBACfC,kBAAmB,eACnBC,MAAO,8CAITP,IAASQ,YAEMR,QAAf,E,iBCiBMS,EAAkB,SAACC,GACvB,GAAiB,OAAdA,EAAoB,OAAO,EAC9B,IAAMC,EAAiBC,IAAOC,KAAKH,EAAUI,SAASC,QAAQ,QACxDC,EAAMJ,MAASG,QAAQ,QACzBE,EAAML,IAAOD,GACbO,EAAQN,IAAOI,GACfG,EAAa,EACXC,EAAY,EAAC,GAAO,GAAM,GAAM,GAAM,GAAM,GAAM,GACpDC,EAAY,EAEhB,GAAGV,EAAeW,OAAON,GACvB,OAAO,EAQT,IANGL,EAAeY,SAASP,KACzBE,EAAQN,IAAOD,GACfM,EAAML,IAAOI,GACbG,GAAc,IAGTD,EAAMI,OAAOL,IAClBC,EAAMM,IAAI,EAAE,KACTJ,EAAUF,EAAMO,QACjBJ,IAIJ,OAAOA,EAAYF,GAIfO,EAAiB,SAACC,GACtB,GAA2B,OAAxBA,EAAKhB,eAAyB,MAAO,WACxC,IAAMK,EAAMJ,IAAO,IAAIgB,MAAK,IAAIA,MAAOC,eAAc,IAAID,MAAOE,YAAa,IAAIF,MAAOG,YAClFpB,EAAiBC,IAAOC,KAAKc,EAAKhB,eAAeG,SAEvD,OAAGH,EAAeY,SAASP,IAA4B,IAApBW,EAAKK,YAAwC,IAApBL,EAAKK,WACxD,yBACArB,EAAeW,OAAON,IAA6B,IAApBW,EAAKK,YAAwC,IAApBL,EAAKK,YAE7DrB,EAAeW,OAAON,IAA6B,IAApBW,EAAKK,YAAwC,IAApBL,EAAKK,WAEzC,IAApBL,EAAKK,YAAwC,IAApBL,EAAKK,WAC9B,gBACoB,IAApBL,EAAKK,YAAwC,IAApBL,EAAKK,WAC9B,cAGF,cAPE,yBAFA,4B,gBChELC,EAAkB,SAACC,GAGvB,IAFA,IACID,EAAkB,GACtB,MAFaE,OAAOC,KAAKF,GAEzB,eAAwB,CAAnB,IAAMG,EAAG,KACZJ,EAAgBK,KAAKJ,EAAgBG,IAMvC,OAJAJ,EAAkBA,EAAgBM,MAAK,SAACC,EAAEC,GACxC,OAAOD,EAAE1C,GAAK2C,EAAE3C,MAGXmC,GAGHS,EAAkB,SAACC,GAGvB,IAFA,IACID,EAAkB,GACtB,MAFaP,OAAOC,KAAKO,GAEzB,eAAsB,CAAlB,IAAMN,EAAG,KACXK,EAAgBJ,KAAKK,EAAYN,IAKnC,OAHAK,EAAkBA,EAAgBH,MAAK,SAACC,EAAEC,GACxC,OAAOD,EAAE1C,GAAK2C,EAAE3C,MAEX4C,GCxBIE,EAAY1D,IAAMC,gBAGlB0D,EAAa,SAAC,GAAkB,IAAhBxD,EAAe,EAAfA,SAAe,EAEzByD,YAAa9C,EAAS+C,QAAhCC,EAFmC,oBAGpCC,EAASD,EAASA,EAAOE,IAAM,KAHK,EAKxBC,YAAkBnD,EAASQ,YAAY4C,WAAW,SAAUH,EAAQ,YAAYI,MAAM,OAAO,MAAK,GAAQ,CAC1HC,QAAS,OADJC,EALmC,sBAUxBC,YAAgBxD,EAASQ,YAAY4C,WAAW,SAASK,IAAI,IAAMR,GAAS,CAC5FS,UAAW,SAAWC,GACpB,ODpBwB,SAACC,GAG7B,OAFAA,EAAQ3B,gBAAkBA,EAAgB2B,EAAQ1B,iBAClD0B,EAAQlB,gBAAkBA,EAAgBkB,EAAQjB,aAC3CiB,ECiBIC,CAAe,CACpB3B,gBAAiByB,EAAEzB,gBACnBS,YAAagB,EAAEhB,YACfmB,QAASH,EAAEG,QACXC,OAAQJ,EAAEI,YANTH,EAVmC,sBAqBvBT,YAAkBnD,EAASQ,YAAY4C,WAAW,SAAWH,EAAS,aAAaI,MAAM,UAAU,MAAK,GAAO,CAChIC,QAAS,OADJU,EArBmC,sBAyB1Bb,YAAkBnD,EAASQ,YAAY4C,WAAW,SAAWH,EAAS,UAAUI,MAAM,UAAU,MAAK,GAAO,CAC1HC,QAAS,KACTI,UAAW,SAAWC,GACpB,OFnCqB,SAAChC,EAAMiC,EAASI,GAGzC,GAAGJ,GAAWjC,GAAQqC,EAAS,CAC7B,IAAMC,EAAUD,EAASE,QAAO,SAAAC,GAC9B,OAAOA,EAAKrE,KAAO6B,EAAK3C,aACvB,GAEGoF,GAAcH,EACpB,GAAGG,EAAa,OAAO,KAEvB,IAAMC,EAAaT,EAAQ3B,gBAAgBiC,QAAO,SAAAI,GAChD,OAAOA,EAAMxE,KAAOmE,EAAQI,cAC3B,GAEGrC,EAAa4B,EAAQlB,gBAAgBwB,QAAO,SAAAK,GAChD,OAAOA,EAAMzE,KAAO6B,EAAKK,cACxB,GAEGwC,EAAS/D,EAAgBkB,EAAKhB,gBAC9B8D,EAAQ9C,EAAKhB,eAAiB+D,KAAKC,IAAI,EAAG,EAAIN,EAAWO,OAAS5C,EAAW4C,OAAWJ,EAASZ,EAAQE,SAAY,EAGrHe,EAAanD,EAAeC,GAElC,OAAO,2BAAIA,GAAX,IAAiBmD,QAASV,EAAaW,eAAgBV,EAAWW,KAAMC,iBAAkBZ,EAAWO,OAAQM,eAAgBlD,EAAWgD,KAAMG,iBAAkBnD,EAAW4C,OAAQJ,SAAQC,QAAOI,aAAYZ,YAGhN,OAAOtC,EEOIyD,CAAY,2BAAIzB,GAAL,IAAQc,MAAO,IAAIb,EAASI,MAH3CqB,EAzBmC,sBAgCxBlC,YAAkBnD,EAASQ,YAAY4C,WAAW,SAAWH,EAAS,YAAYqC,QAAQ,OAAO,QAA5GC,EAhCmC,oBAmC1C,OACE,cAAC3C,EAAUnD,SAAX,CAAoBC,MAAO,CAAE2F,QAAO9B,UAASK,UAASZ,SAAQuC,UAASvB,YAAvE,SAAoF3E,KCpBzEmG,EAvBQ,SAAC,GAAqB,IAApB9F,EAAmB,EAAnBA,MAAOE,EAAY,EAAZA,OAEtBgE,EAAY6B,qBAAW7C,GAAvBgB,QAEJjB,EAAciB,EAAUA,EAAQlB,gBAAkB,KAOtD,OANGC,IACDA,EAAcA,EAAYJ,MAAK,SAACC,EAAEC,GAChC,OAAOA,EAAEmC,OAASpC,EAAEoC,WAKtB,sBAAK/E,UAAU,OAAf,UACE,4CACA,wBAAQA,UAAU,wBAAwBE,SAAUH,EAAQE,GAAG,aAAaJ,MAAOA,EAAnF,SACIiD,GAAeA,EAAY+C,KAAI,SAAAnB,GAC/B,OAAO,wBAAuB7E,MAAO6E,EAAMzE,GAApC,SAAyCyE,EAAMS,MAAlCT,EAAMzE,a,iBCMrB6F,G,MAnBY,SAAC,GAAqB,IAApBjG,EAAmB,EAAnBA,MAAOE,EAAY,EAAZA,OAE5Be,EAAiBjB,GAASA,EAAMoB,QAAUF,IAAOC,KAAKnB,EAAMoB,SAAS8E,SAAWlG,GAAgB,KAStG,OACE,sBAAKG,UAAU,OAAf,UACE,gDACA,cAAC,IAAD,CAAYC,GAAG,iBAAiB+F,aAAa,EAAOhG,UAAU,YAAYiG,SAAUnF,EAAgBZ,SAVrF,SAACgG,EAAQC,GAER,OADDD,GAEfnG,EAFemG,WC8ERE,EAAwB,SAACC,EAAWC,GAE/C,IADA,IACA,MADahE,OAAOC,KAAK8D,GACzB,eAAwB,CAAnB,IAAM7D,EAAG,KACR+D,MAAMC,WAAWH,EAAU7D,GAAKuC,WAClCuB,EAAU9D,GAAV,2BACK6D,EAAU7D,IADf,IAEEuC,OAAQyB,WAAWH,EAAU7D,GAAKuC,WAIxC5E,EAASQ,YAAY4C,WAAW,SAASK,IAAI6C,KAAiBC,MAAMC,MAAK,SAAAC,GACvEzG,EAASQ,YAAY4C,WAAW,SAASK,IAAI6C,KAAiBI,OAAO,CACnExE,gBAAiBiE,QAKVQ,EAAoB,SAACC,EAAWC,GAE3C,IADA,IACA,MADa1E,OAAOC,KAAKwE,GACzB,eAAwB,CAAnB,IAAMvE,EAAG,KACR+D,MAAMC,WAAWO,EAAUvE,GAAKuC,WAClCiC,EAAUxE,GAAV,2BACKuE,EAAUvE,IADf,IAEEuC,OAAQyB,WAAWO,EAAUvE,GAAKuC,WAIxC5E,EAASQ,YAAY4C,WAAW,SAASK,IAAI6C,KAAiBC,MAAMC,MAAK,SAAAC,GACvEzG,EAASQ,YAAY4C,WAAW,SAASK,IAAI6C,KAAiBI,OAAO,CACnE/D,YAAakE,QAuFbP,EAAgB,WACpB,OAAOtG,EAAS+C,OAAO+D,YAAY5D,KCzLtB6D,MApBf,SAAyB/C,EAAUqB,GAGjC,OAAGrB,GAAYqB,EACCrB,EAAS0B,KAAI,SAAAvB,GACzB,IAAM6C,EAAc3B,EAAMnB,QAAO,SAAAvC,GAC/B,QAAIA,EAAKsC,SACFtC,EAAKsC,QAAQnE,KAAOqE,EAAKrE,MAE9BmH,EAAY,EAEhB,OADAD,EAAYE,SAAQ,SAAAvF,GAAI,OAAIsF,GAAatF,EAAK8C,SACvC,2BAAIN,GAAX,IAAiBgD,WAAYF,OAGxBjD,GCcIoD,EAzBK,SAAC,GAAqB,IAApB1H,EAAmB,EAAnBA,MAAOE,EAAY,EAAZA,OAAY,EAEX6F,qBAAW7C,GAA/BoB,EAF+B,EAE/BA,SAAUqB,EAFqB,EAErBA,MACZgC,EAAgBN,EAAgB/C,EAAUqB,GAE5CiC,EAAiB,GAOrB,OANGD,IACDC,EAAkBD,EAAc9E,MAAK,SAACC,EAAEC,GACtC,OAAOA,EAAE0E,WAAa3E,EAAE2E,eAK1B,sBAAKtH,UAAU,OAAf,UACE,wCACA,yBAAQA,UAAU,wBAAwBC,GAAG,YAAYJ,MAAOA,EAAOK,SAAUH,EAAjF,UACI,wBAAQ2H,UAAQ,EAAC7H,MAAO,GAAxB,8BACA4H,GAAkBA,EAAe5B,KAAI,SAAAzB,GACrC,OAAO,wBAAyBvE,MAAOuE,EAAQnE,GAAxC,SAA6CmE,EAAQe,MAAxCf,EAAQnE,cCXvB0H,EARE,WACf,OACE,qBAAK3H,UAAU,iBAAiB4H,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,YAAYC,OAAO,eAA1G,SACE,sBAAMC,cAAc,QAAQC,eAAe,QAAQC,YAAY,IAAIpE,EAAE,4BC2H5DqE,EAtHG,WAEhB,IAAMC,EAAOC,iBAAO,MACZ7C,EAAUI,qBAAW7C,GAArByC,MAHc,EAIiBI,qBAAWxG,GAA1CM,EAJc,EAIdA,YAAaC,EAJC,EAIDA,cAJC,EAMQ2I,mBAAS,CACrCzJ,OAAQ,GACRsD,WAAY,EACZrB,eAAgB,IAAIiB,KACpB5C,UAAW,KAVS,mBAMfoJ,EANe,KAMNC,EANM,OAaQF,oBAAS,GAbjB,mBAafG,EAbe,KAaNC,EAbM,OAeEJ,oBAAS,GAfX,mBAefK,EAfe,KAeRC,EAfQ,KAiBtBC,qBAAU,WACLnJ,GAAeA,EAAYV,SACzBwG,GACDgD,EAAWhD,EAAMnB,QAAO,SAAAvC,GAAS,OAAOA,EAAK7B,KAAOP,EAAYV,UAAS,IACzE4J,GAAO,IAEPA,GAAO,IAGRlJ,EAAYT,eACbuJ,EAAW,CACT3J,OAAQ,GACRsD,WAAY,EACZrB,eAAgB,IAAIiB,KACpB5C,UAAWO,EAAYT,kBAG1B,CAACS,EAAa8F,IAGjBqD,qBAAU,WACiB,KAAtBN,EAAQpJ,WAAuC,KAAnBoJ,EAAQ1J,OACrC6J,GAAW,GAEXA,GAAW,KAEb,CAACH,EAAQpJ,UAAWoJ,EAAQ1J,SAE9B,IAAMkB,EAAS,SAAC+I,GACdN,EAAW,2BACND,GADK,kBAEPO,EAAEC,OAAO9I,GAAK6I,EAAEC,OAAOlJ,UAoC5B,OACI,sBAAKmJ,IAAKZ,EAAMnI,GAAG,QAAQD,UAAU,oDAArC,UACE,qBAAKiJ,QA3BO,SAACH,GACjBnJ,EAAc,CAACb,KAAK,gBA0BSkB,UAAU,mCAAnC,SACE,cAAC,EAAD,MAEA2I,EACA,mBAAG3I,UAAU,oBAAb,sBAEA,mBAAGA,UAAU,oBAAb,uBAEF,cAAC,EAAD,CAAaH,MAAO0I,EAAQpJ,UAAWY,OAAQA,IAC/C,cAAC,EAAD,CAAgBF,MAAO0I,EAAQpG,WAAYpC,OAAQA,IACnD,cAAC,EAAD,CAAoBF,MAAO0I,EAAQzH,eAAgBf,OA5CtC,SAACmG,GAClBsC,EAAW,2BACND,GADK,IAERzH,eAAgBoF,QA0Cd,cAAC,EAAD,CAAYrG,MAAO0I,EAAQ1J,OAAQkB,OAAQA,IAEzC4I,EACE,qBAAK3I,UAAU,sBAAf,SACE,wBAAQiJ,QAxBH,SAACH,GACZL,KJhBkB,SAACF,GACzBpI,EAASQ,YAAY4C,WAAW,SAAWkD,IAAkB,UAAU9E,IAAI,CACzE9C,OAAQ0J,EAAQ1J,OAChBsD,WAAY+G,SAASX,EAAQpG,YAC7BrB,eAAgByH,EAAQzH,eACxBmE,SAAS,EACT9F,UAAWoJ,EAAQpJ,YIWnBgK,CAAWZ,GACX5I,EAAc,CAACb,KAAK,iBAqBiBkB,UAAWyI,EAAU,UAAY,cAA5D,mBAGF,gCACE,sBAAKzI,UAAU,sBAAf,UACE,wBAAQiJ,QAnCJ,SAACH,GACbL,KJ0DkB,SAACF,GACzBpI,EAASQ,YAAY4C,WAAW,SAAWkD,IAAkB,UAAU7C,IAAI2E,EAAQtI,IAAI4G,OAAO,CAC5FhI,OAAQ0J,EAAQ1J,OAChBsD,WAAY+G,SAASX,EAAQpG,YAC7BrB,eAAgByH,EAAQzH,eACxB3B,UAAWoJ,EAAQpJ,YI9DnBiK,CAAWb,GACX5I,EAAc,CAACb,KAAK,iBAgCoBkB,UAAWyI,EAAU,UAAY,cAA7D,kBACA,wBAAQQ,QA5CA,SAACH,GJSC,IAAC9J,GIRmC,IAAvDqK,OAAOC,QAAQ,sCJQKtK,EIPVuJ,EAAQtI,GJQvBE,EAASQ,YAAY4C,WAAW,SAAWkD,IAAkB,UAAU7C,IAAI5E,GAAQ6H,OAAO,CACxF5B,SAAS,IIRPtF,EAAc,CAACb,KAAK,iBAyCsBkB,UAAU,eAA1C,4BAEF,+BC3FCuJ,EAtBG,WAAO,IAAD,EAEiB3D,qBAAWxG,GAA1CM,EAFc,EAEdA,YAAaC,EAFC,EAEDA,cASrB,OAA6B,IAA1BD,EAAYX,UACN,KAIP,qBAAKkK,QAZS,SAACH,GACI,YAAhBA,EAAEC,OAAO9I,IACVN,EAAc,CAACb,KAAK,gBAUCmB,GAAG,UAAUD,UAAU,gFAA9C,SACE,cAAC,EAAD,OCJSwJ,EAhBC,WAAO,IAEbrG,EAAWyC,qBAAW7C,GAAtBI,OACAxD,EAAkBiG,qBAAWxG,GAA7BO,cAMR,OAAc,OAAXwD,GAGD,wBAAQnD,UAAU,uBAAuBiJ,QAP3B,WACdtJ,EAAc,CAACb,KAAK,gBAMpB,uBCiCW2K,EA7CD,WAAO,IAEXtG,EAAWyC,qBAAW7C,GAAtBI,OAFU,EAGQmF,mBAAS,CACjCoB,MAAO,GACPC,KAAM,KALU,mBAGXC,EAHW,KAGJC,EAHI,KAYlB,GAAG1G,EACD,OACE,wBAAQ8F,QANQ,SAACH,GP0DrB3I,EAAS+C,OAAO4G,WOpDkB9J,UAAU,MAAxC,oBAIJ,IASM+J,EAAe,SAACjB,GACpBe,EAAS,2BACJD,GADG,kBAELd,EAAEC,OAAO9I,GAAM6I,EAAEC,OAAOlJ,UAI7B,OACE,8BACE,uBAAMmK,SAlBK,SAAClB,GPwCG,IAACY,EAAOC,EOvCzBb,EAAEmB,iBPuCgBP,EOtCZE,EAAMF,MPsCaC,EOtCNC,EAAMD,KPuC3BxJ,EAAS+C,OAAOgH,2BACdR,EACAC,GOxCAE,EAAS,CACPH,MAAO,GACPC,KAAM,MAaN,UACE,uBAAOzJ,SAAU6J,EAAclK,MAAO+J,EAAMF,MAAOzJ,GAAG,QAAQD,UAAU,YAAYlB,KAAK,UACzF,uBAAOoB,SAAU6J,EAAclK,MAAO+J,EAAMD,KAAM1J,GAAG,OAAOD,UAAU,YAAYlB,KAAK,aACvF,wBAAQkB,UAAU,MAAMlB,KAAK,SAA7B,yBCnBOqL,EArBG,WAAO,IAAD,EAEY7B,mBAAS,IAFrB,mBAEf8B,EAFe,KAEJC,EAFI,KActB,OACE,sBAAML,SAPO,SAAClB,GACdA,EAAEmB,iBRuCmB,SAAC/F,GACxB,IAAMd,EAASqD,IACTtF,EAAM,IAAIY,KAChB5B,EAASQ,YAAY4C,WAAW,SAAWkD,IAAkB,YAAY9E,IAAI,CAC3EwD,KAAMjB,EACNoG,MAAM,EACNlH,SACAmH,QAASpJ,IQ7CTqJ,CAAUJ,GACVC,EAAa,KAIb,SACE,uBAAOrK,UAAU,iBAAiByK,YAAY,cAAc5K,MAAOuK,EAAWlK,SAZnE,SAAC4I,GACduB,EAAavB,EAAEC,OAAOlJ,aCSX6K,EAdI,SAAC,GAAc,IAAbxG,EAAY,EAAZA,OAMnB,OACE,sBAAKlE,UAAU,iBAAf,UACE,uBAAOA,UAAU,cAAcE,SANnB,WTwCY,IAACD,ISvCZiE,EAAOjE,GTwCxBE,EAASQ,YAAY4C,WAAW,SAAWkD,IAAkB,YAAY7C,IAAI3D,GAAI4G,OAAO,CACtFyD,MAAM,KSpC8CxL,KAAK,aACvD,uBAAOkB,UAAU,cAAjB,SAAgCkE,EAAOiB,WCmB9BwF,EAzBC,WAAO,IAEbjH,EAAYkC,qBAAW7C,GAAvBW,QAEJkH,EAAgBlH,EAAUA,EAAQhB,MAAK,SAACC,EAAEC,GAC5C,OAAOD,EAAE4H,QAAU3H,EAAE2H,WAClB,KAIL,OACE,qBAAKvK,UAAU,SAAf,SACE,sBAAKA,UAAU,cAAf,UACE,oBAAIA,UAAU,oBAAd,2BACE4K,GAAiBA,EAAc/E,KAAI,SAAA3B,GACnC,OACE,cAAC,EAAD,CAAYA,OAAQA,GAAaA,EAAOjE,OAG5C,cAAC,EAAD,UCkEO4K,EAxFM,SAAC,GAAmB,IAAlB/H,EAAiB,EAAjBA,YAAiB,EAEJwF,mBAAS,IAFL,mBAE/BvB,EAF+B,KAEpB+D,EAFoB,KAItCjC,qBAAU,WACL/F,GACDgI,EAAahI,KAEf,CAACA,IAsDH,IAnDA,IAAMiI,EAAoB,SAACjC,GACzBgC,EAAa,2BACR/D,GADO,kBAET+B,EAAEC,OAAOiC,WAAWC,SAASC,UAFpB,YAAC,eAGNnE,EAAU+B,EAAEC,OAAOiC,WAAWC,SAASC,YAHlC,IAIRnG,OAAQ+D,EAAEC,OAAOlJ,YAKjBsL,EAAkB,SAACrC,GACvBgC,EAAa,2BACR/D,GADO,kBAET+B,EAAEC,OAAOiC,WAAWC,SAASC,UAFpB,YAAC,eAGNnE,EAAU+B,EAAEC,OAAOiC,WAAWC,SAASC,YAHlC,IAIR/F,KAAM2D,EAAEC,OAAOlJ,YAKfuL,EAAe,SAACtC,GACpB,IAAMuC,EAAW9E,MAAMC,WAAWsC,EAAEC,OAAOlJ,QAAUiD,EAAYgG,EAAEC,OAAOiC,WAAWC,SAASC,WAAWnG,OAASyB,WAAWsC,EAAEC,OAAOlJ,OACtIiH,EAAkB,2BACbC,GADY,kBAEd+B,EAAEC,OAAOiC,WAAWC,SAASC,UAFf,YAAC,eAGXnE,EAAU+B,EAAEC,OAAOiC,WAAWC,SAASC,YAH7B,IAIbnG,OAAQsG,MAETvI,IAGCwI,EAAa,SAACxC,GAClB,IAAMuC,EAA8B,KAAnBvC,EAAEC,OAAOlJ,MAAeiD,EAAYgG,EAAEC,OAAOiC,WAAWC,SAASC,WAAW/F,KAAO2D,EAAEC,OAAOlJ,MAC1GwL,IAAavI,EAAYgG,EAAEC,OAAOiC,WAAWC,SAASC,WAAW/F,MAClE2B,EAAkB,2BACbC,GADY,kBAEd+B,EAAEC,OAAOiC,WAAWC,SAASC,UAFf,YAAC,eAGXnE,EAAU+B,EAAEC,OAAOiC,WAAWC,SAASC,YAH7B,IAIb/F,KAAMkG,MAEPvI,IAUHyI,EAAc,GAClB,MAFajJ,OAAOC,KAAKwE,GAEzB,eAAwB,CAAnB,IAAMvE,EAAG,KACZ+I,EAAY9I,KAAKsE,EAAUvE,IAM7B,OAJA+I,EAAcA,EAAY7I,MAAK,SAACC,EAAEC,GAChC,OAAOA,EAAEmC,OAASpC,EAAEoC,UAIpB,sBAAK/E,UAAU,oBAAf,UACE,mBAAGA,UAAU,oBAAb,iCACA,qBAAKA,UAAU,0BAAf,SACIuL,GAAeA,EAAY1F,KAAI,SAAAnB,GAC/B,OACE,sBAAoB1E,UAAU,oBAA9B,UAEE,uBAAOwL,OAAQF,EAAYpL,SAAUiL,EAAiBF,SAAUvG,EAAMzE,GAAIJ,MAAO6E,EAAMS,KAAMnF,UAAU,yBACvG,uBAAOwL,OAAQJ,EAAcvL,MAAO6E,EAAMK,OAAQkG,SAAUvG,EAAMzE,GAAIA,GAAIyE,EAAMzE,GAAIC,SAAU6K,EAAmB/K,UAAU,4CAHnH0E,EAAMzE,SAQtB,wBAAQD,UAAU,WAAWiJ,QA3Bf,SAACH,IXoGQ,SAAChG,GAC5B,IACM2I,EADOnJ,OAAOC,KAAKO,GACN4I,OAAS,EACtBC,EAAS,eAAiBF,EAChCtL,EAASQ,YAAY4C,WAAW,SAASK,IAAI6C,KAAiBI,OAA9D,eACG8E,EAAS,CAAC1L,GAAIwL,EAAOtG,KAAM,MAAOJ,OAAQ,KWxG3C6G,CAAc9I,IA0BZ,qBCAS+I,EAnFU,SAAC,GAAuB,IAAtBxJ,EAAqB,EAArBA,gBAAqB,EAEZiG,mBAAS,IAFG,mBAEvCjC,EAFuC,KAE5ByF,EAF4B,KAI9CjD,qBAAU,WACLxG,GACDyJ,EAAazJ,KAEf,CAACA,IAkDH,IAhDA,IAAM0I,EAAoB,SAACjC,GACzBgD,EAAa,2BACRzF,GADO,kBAETyC,EAAEC,OAAOiC,WAAWe,aAAab,UAFxB,YAAC,eAGN7E,EAAUyC,EAAEC,OAAOiC,WAAWe,aAAab,YAHtC,IAIRnG,OAAQ+D,EAAEC,OAAOlJ,YAKjBsL,EAAkB,SAACrC,GACvBgD,EAAa,2BACRzF,GADO,kBAETyC,EAAEC,OAAOiC,WAAWe,aAAab,UAFxB,YAAC,eAGN7E,EAAUyC,EAAEC,OAAOiC,WAAWe,aAAab,YAHtC,IAIR/F,KAAM2D,EAAEC,OAAOlJ,YAKfuL,EAAe,SAACtC,GACpB,IAAMuC,EAAW9E,MAAMC,WAAWsC,EAAEC,OAAOlJ,QAAUwC,EAAgByG,EAAEC,OAAOiC,WAAWe,aAAab,WAAWnG,OAASyB,WAAWsC,EAAEC,OAAOlJ,OAC9IuG,EAAsB,2BACjBC,GADgB,kBAElByC,EAAEC,OAAOiC,WAAWe,aAAab,UAFf,YAAC,eAGf7E,EAAUyC,EAAEC,OAAOiC,WAAWe,aAAab,YAH7B,IAIjBnG,OAAQsG,MAEThJ,IAGCiJ,EAAa,SAACxC,GAClB,IAAMuC,EAA8B,KAAnBvC,EAAEC,OAAOlJ,MAAewC,EAAgByG,EAAEC,OAAOiC,WAAWe,aAAab,WAAW/F,KAAO2D,EAAEC,OAAOlJ,MACrHuG,EAAsB,2BACjBC,GADgB,kBAElByC,EAAEC,OAAOiC,WAAWe,aAAab,UAFf,YAAC,eAGf7E,EAAUyC,EAAEC,OAAOiC,WAAWe,aAAab,YAH7B,IAIjB/F,KAAMkG,MAEPhJ,IAQDD,EAAkB,GACtB,MAFaE,OAAOC,KAAK8D,GAEzB,eAAwB,CAAnB,IAAM7D,EAAG,KACZJ,EAAgBK,KAAK4D,EAAU7D,IAMjC,OAJAJ,EAAkBA,EAAgBM,MAAK,SAACC,EAAEC,GACxC,OAAOA,EAAEmC,OAASpC,EAAEoC,UAIpB,sBAAK/E,UAAU,oBAAf,UACE,mBAAGA,UAAU,oBAAb,gCACA,qBAAKA,UAAU,0BAAf,SACIoC,GAAmBA,EAAgByD,KAAI,SAAApB,GACvC,OACE,sBAAoBzE,UAAU,oBAA9B,UACE,uBAAOwL,OAAQF,EAAYzL,MAAO4E,EAAMU,KAAMjF,SAAUiL,EAAiBY,aAActH,EAAMxE,GAAID,UAAU,yBAC3G,uBAAOwL,OAAQJ,EAAcvL,MAAO4E,EAAMM,OAAQgH,aAActH,EAAMxE,GAAIC,SAAU6K,EAAmB/K,UAAU,4CAFzGyE,EAAMxE,SAOtB,wBAAQgJ,QA1BG,SAACH,IZ+FW,SAACzG,GAC5B,IACMoJ,EADOnJ,OAAOC,KAAKF,GACNqJ,OAAS,EACtBC,EAAS,mBAAqBF,EACpCtL,EAASQ,YAAY4C,WAAW,SAASK,IAAI6C,KAAiBI,OAA9D,eACG8E,EAAS,CAAC1L,GAAIwL,EAAOtG,KAAM,MAAOJ,OAAQ,KYnG3CiH,CAAc3J,IAyBarC,UAAU,WAAnC,qBCvDSiM,EApBA,WAAO,IAEZlI,EAAY6B,qBAAW7C,GAAvBgB,QAER,OACE,qBAAK/D,UAAU,SAAf,SACE,8BAEI+D,EACE,gCACE,cAAC,EAAD,CAAkB1B,gBAAiB0B,EAAQ1B,kBAC3C,cAAC,EAAD,CAAcS,YAAaiB,EAAQjB,iBAEnC,U,gBCfRoJ,EAAE,2BACHC,GADG,IAENC,IAAKC,MAaDC,EAAmB,SAAC5G,GACxB,IAAI6G,EAAa,GACjBA,EAAW9J,KAAKiD,EAAQ,IACxB,IAAI,IAAI8G,EAAI,EAAGA,EAAI9G,EAAQgG,OAAQc,IAC9B9G,EAAQ8G,GAAG5H,QAAUc,EAAQ8G,EAAE,GAAG5H,OACnC2H,EAAW9J,KAAKiD,EAAQ8G,IAG5B,OAAOD,GAGHE,EAAiB,SAAC/G,GACtB,IAAIgH,EAAW,GAQf,OAPAhH,EAAQ2B,SAAQ,SAAAsF,GACdD,EAASjK,KAAK,CACZ,EAAK1B,IAAOC,KAAK2L,EAAKC,KAAK3L,SAAS8E,SACpC,EAAK4G,EAAK/H,WAIP,CACL,MAAQ,CACN,CACE,KAAQ,gBACR,KAAQ8H,IAGZ,KAAO,EACP,OAAS,EACT,OAAS,EACT,MAAO,EACP,QAAU,IAKDG,EAAgB,SAAC/I,GAC5B,OAAO/C,IAAO+C,GAAGgJ,OAAO,aAGbC,GAAmB,SAACjJ,GAC/B,OAAOA,EAAEkJ,QAAQ,IAyCNC,GAAe,SAACC,EAAWC,GACtC,IAAMC,EAnBQ,SAACF,GACf,IAAIG,EAAO,EACPC,EAAO,KASX,OARAJ,EAAUK,MAAMlG,SAAQ,SAAAmG,GACtBA,EAAKC,KAAKpG,SAAQ,SAAAqG,GACdL,EAAOxI,KAAKC,IAAI4I,EAAMC,EAAEN,GACxBC,EAAOA,EAAOzI,KAAK+I,IAAIF,EAAMC,EAAEL,GAAQI,EAAMC,QAK5C,CACL,IAAON,EACP,IAJFC,GAA+B,IAAfD,EAAOC,IAURO,CAAQX,GAEvB,OAAOhB,EAAG4B,cACPC,MAAM,CAAC,EAAEZ,IACTa,OAAO,CAACZ,EAAOtI,IAAIsI,EAAOQ,OAGlBK,GAAa,SAACf,EAAWgB,GACpC,IAAMC,EA1CQ,SAACjB,GACf,IAAIkB,EAAO,IAAIrM,KACXsM,EAAO,EAOX,OANAnB,EAAUK,MAAMlG,SAAQ,SAAAmG,GACtBA,EAAKC,KAAKpG,SAAQ,SAAAqG,GACdW,EAAOxJ,KAAKC,IAAI4I,EAAMY,EAAED,GACxBD,EAAOvJ,KAAK+I,IAAIF,EAAMY,EAAEF,SAGvB,CACL,IAAOC,EACP,IAAOD,GA+BMG,CAAQrB,GAEvB,OAAOhB,EAAGsC,YACPT,MAAM,CAAC,EAAEG,IACTF,OAAO,CAACG,EAAOP,IAAIO,EAAOrJ,OAIlB2J,GAAa,WACxB,OAAOvC,EAAGE,MACPsC,KAAK,QAAS,YACdC,MAAK,SAAC7F,EAAEhF,GACL,IAAM8K,EAAS/B,EAAc/I,EAAEwK,GACzBO,EAAS9B,GAAiBjJ,EAAE6J,GAC5BmB,EA7DmB,SAAChL,GAChC,OAAO/C,IAAO+C,GAAGgJ,OAAO,UA4DCiC,CAAkBjL,EAAEwK,GACnCU,EAAU,GAId,OAHAA,GAAO,6BAA0BH,EAA1B,UACPG,GAAO,4BAAyBJ,EAAzB,UACPI,GAAO,4BAAyBF,EAAzB,cC1HT5C,GAAE,2BACHC,GADG,IAENC,IAAKC,MAqMQ4C,GAjMG,SAAC,GAAkB,IAAjBC,EAAgB,EAAhBA,WAAgB,EAENtJ,qBAAW7C,GAA9B2C,EAFyB,EAEzBA,QAASvC,EAFgB,EAEhBA,OACZ+J,EAAY,KAGhBA,EDRwB,SAACxH,GAC3B,OAAGA,GAAWA,EAAQgG,OAAS,EACtBe,EAAeH,EAAiB5G,IAEhC,KCIKyJ,CAAazJ,GAGzB,IAAMsD,EAAMX,mBA2KZ,OAxKAQ,qBAAU,WAGR,IAEMuG,EAAgB,GAAhBA,EAAsC,GACtClB,EAFa,IAEQkB,EAD4B,GAEjDjC,EAJc,IAISiC,EAFK,GAS5BC,EAJMnD,GAAGoD,OAAOtG,EAAIuG,SACrBb,KAAK,UADE,cANO,IAMP,YAPQ,MAWEY,OAAO,cACxBZ,KAAK,SAZU,KAafA,KAAK,QAAQ,aACbA,KAAK,QAbS,KAcdA,KAAK,YAJQ,oBAIkBU,EAJlB,YAIiCA,EAJjC,MAMlBC,EAAUG,UAAU,KAAKC,SAGzB,IAAMC,EAAQL,EACbM,OAAO,KACPjB,KAAK,YAFQ,qBAEmBU,EAFnB,aAEmCA,EAFnC,MAQd,GAHAM,EAAMF,UAAU,KAAKC,SACrBC,EAAMF,UAAU,QAAQC,SAErBvC,EAAU,CAGX,IAAM0C,EAAiBF,EAAMC,OAAO,KAC/BE,MAAM,UAAU,GAChBnB,KAAK,YAFa,oBAEaU,EAFb,YAE4BA,EAF5B,MAKjBU,EAAaF,EAAeD,OAAO,QACxCjB,KAAK,SAAS,QACdA,KAAK,eAAgB,GACrBA,KAAK,mBAAmB,GAGnBqB,EAAaH,EAAeD,OAAO,QACxCjB,KAAK,SAAS,QACdA,KAAK,eAAgB,GACrBA,KAAK,mBAAmB,GAGnBsB,EAAaX,EAAUM,OAAO,KAC/BjB,KAAK,YADS,sBACmBvB,EADnB,MAIb8C,EAAaZ,EAAUM,OAAO,KAC/BjB,KAAK,YADS,mBAIbwB,EAASjC,GAAWf,EAAWgB,GAC/BiC,EAASlD,GAAaC,EAAWC,GAGjCiD,EAAgBlE,GAAGsB,OACtBc,GAAE,SAASxK,GAAI,OAAOoM,EAAOpM,EAAEwK,MAC/BX,GAAE,SAAS7J,GAAI,OAAOqM,EAAOrM,EAAE6J,MAIlCT,EAAUK,MAAMlG,SAAQ,SAAAmG,GAGtB,IAAM6C,EAAO5B,KACbiB,EAAMY,KAAKD,GAEX,IAAME,EAAOb,EAAMC,OAAO,QACrBjB,KAAK,YADG,oBACuBU,EADvB,YACsCA,EADtC,MAIPoB,EAAQd,EAAMF,UAAU,UAAYhC,EAAKrI,MAC1CsI,KAAKD,EAAKC,MAETgD,EAAWvD,EAAUwD,QAAUxD,EAAUwD,QAAU,EAGzDF,EAAMG,OAAOlB,SAGbe,EAAM9B,KAAK,IAAK+B,GACX/B,KAAK,OAAQ,SACbA,KAAK,MAAM,SAAA5K,GAAC,OAAIoM,EAAOpM,EAAEwK,MACzBI,KAAK,MAAM,SAAA5K,GAAC,OAAIqM,EAAOrM,EAAE6J,MACzBe,KAAK,YAJV,oBAIoCU,EAJpC,YAImDA,EAJnD,MAKKwB,GAAG,YAAaP,EAAKQ,MACrBD,GAAG,WAAYP,EAAKS,MAKzBN,EAAMO,QACDpB,OAAO,UACPjB,KAAK,OAAQ,SACbA,KAAK,MAAM,SAAA5K,GAAC,OAAIoM,EAAOpM,EAAEwK,MACzBI,KAAK,MAAM,SAAA5K,GAAC,OAAIqM,EAAOrM,EAAE6J,MACzBe,KAAK,IAAK+B,GACV/B,KAAK,YANV,oBAMoCU,EANpC,YAMmDA,EANnD,MAOKV,KAAK,UAAU,GACfkC,GAAG,gBAAiBP,EAAKQ,MACzBD,GAAG,mBAAmB,SAAC9H,EAAEhF,GAC1BgM,EACKpB,KAAK,KAAKwB,EAAOpM,EAAEwK,IACnBI,KAAK,KAAKwB,EAAOpM,EAAEwK,IACnBI,KAAK,KAAKyB,EAAOrM,EAAE6J,IACnBe,KAAK,KAAKvB,GAEf4C,EACKrB,KAAK,KAAK,GACVA,KAAK,KAAKwB,EAAOpM,EAAEwK,IACnBI,KAAK,KAAKyB,EAAOrM,EAAE6J,IACnBe,KAAK,KAAKyB,EAAOrM,EAAE6J,IAExBiC,EAAeC,MAAM,UAAW,MAE/Be,GAAG,eAAgBP,EAAKS,MACxBF,GAAG,kBAAkB,SAAC9H,EAAEhF,GACrB8L,EAAeC,MAAM,UAAW,MAGpC,IAAMmB,EAAaT,EAAKnI,OAAO6I,iBAGnCV,EAAK9C,KAAK,CAACD,EAAKC,OACXiB,KAAK,OAAQ,QACbA,KAAK,SAAU,SACfA,KAAK,eAAgB,GACrBA,KAAK,IAAK0B,GACVP,MAAM,UAAU,KAChBnB,KAAK,mBAAoBsC,EAAa,IAAMA,MAMnD,IAAME,EAAShE,EAAUgE,OAAShE,EAAUgE,OAAS,EAC/CC,EAASjE,EAAUiE,OAASjE,EAAUiE,OAAS,EAGjDC,EAAUlE,EAAYL,EAAgB,SAAC/I,GAAD,OAAOA,GAC7CuN,EAAUnE,EAAYH,GAAmB,SAACjJ,GAAD,OAAOA,GAG9CwN,EAAQpF,GAAGqF,WAAWrB,GACvBsB,YAAW,SAAA1N,GAAC,OAAIsN,EAAQtN,MACxB2N,MAAMP,GAELQ,EAAQxF,GAAGyF,SAASxB,GACrBqB,YAAW,SAAA1N,GAAC,OAAIuN,EAAQvN,MACxB2N,MAAMN,GAGXnB,EAAWM,KAAKgB,GACX5C,KAAK,QAAQ,aAClBuB,EAAWK,KAAKoB,GACXhD,KAAK,QAAQ,gBAGnB,CAACvL,EAAQ+J,IAGR,qBAAKlN,UAAU,sBAAf,SACE,qBAAKA,UAAWkP,EAAa,UAA7B,SACI,qBAAKlG,IAAKA,EAAV,SACI,mBAAGhJ,UAAU,qBClJhB4R,GA7CI,WAAO,IAAD,EAEqBhM,qBAAW7C,GAA/CyC,EAFe,EAEfA,MAAO9B,EAFQ,EAERA,QAASK,EAFD,EAECA,QAASZ,EAFV,EAEUA,OAC3B0O,EAAe9N,EAAUA,EAAQG,OAAS,EAHzB,EAIaoE,mBAAS,GAJtB,mBAIhBhB,EAJgB,KAIJwK,EAJI,OAKWxJ,oBAAS,GALpB,mBAKhByJ,EALgB,KAKLC,EALK,KAOjB9C,EAAa6C,EAAY,QAAU,SAEzClJ,qBAAU,WACT,IAAIoJ,EAAW,EACXC,GAAW,EACd,GAAG1M,GAAS9B,EAAQ,CAClB,IAAI,IAAI8I,EAAI,EAAGA,EAAIhH,EAAMkG,OAAQc,IAC/ByF,GAAYzM,EAAMgH,GAAG5H,MAEpBqN,EAAW,IAAGC,GAAW,GAC5BD,GAAuBvO,EAAQgI,OAASmG,EAIvCI,IAAa3K,GAAc9B,GAAS9B,GAAWwO,GAAY/O,GhBiGxC,SAAC8O,GACzB,IAAM9Q,EAAM,IAAIY,KAChB5B,EAASQ,YAAY4C,WAAW,SAASK,IAAI6C,KAAiBC,MAAMC,MAAK,SAAAC,GACpEA,EAAQ6G,OAAO0E,aAAanF,QAAQ,KAAOiF,EAASjF,QAAQ,KAC7DoF,QAAQC,IAAI,wBAAyBzL,EAAQ6G,OAAO0E,aAAc,MAAOF,GACzE9R,EAASQ,YAAY4C,WAAW,SAASK,IAAI6C,KAAiBI,OAAO,CACnEsL,aAAc3L,WAAWyL,EAASjF,QAAQ,MACzCrG,MAAK,SAAA2L,GACNnS,EAASQ,YAAY4C,WAAW,SAAWkD,IAAkB,YAAY9E,IAAI,CAC3EiL,KAAMzL,EACNyD,MAAO4B,WAAWyL,EAASjF,QAAQ,agB1GvCuF,CAAWN,GAGbH,EAAcG,KACb,CAACzM,EAAO9B,EAASmO,EAAcvK,EAAYnE,IAM9C,OACE,sBAAKnD,UAAU,OAAf,UACE,sBAAKA,UAAU,gCAAf,UACE,oBAAIA,UAAU,kCAAd,SAAkDsH,EAAW0F,QAAQ,KACrE,qBAAK/D,QARS,SAACH,GACnBkJ,GAAcD,IAOiB/R,UAAU,qBAAqB4H,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,YAAYC,OAAO,eAApI,SACE,sBAAMC,cAAc,QAAQC,eAAe,QAAQC,YAAY,IAAIpE,EAAE,wFAGzE,cAAC,GAAD,CAAWoL,WAAYA,QC3CvBsD,GAAcC,EAAQ,KA+CbC,GA7CQ,SAAC,GAetB,IAfwC,IAAjBlO,EAAgB,EAAhBA,WAEfT,EAAY6B,qBAAW7C,GAAvBgB,QACF4O,EAAc5O,EAAUA,EAAQ3B,gBAAkB,KAGlDwQ,EAASJ,GAAY,CAAC,CAAC,IAAK,IAAK,KAAK,CAAC,IAAI,EAAE,KAC/CK,EAAQD,EAAO,GACbE,EAAmBH,EAAYjH,OAE/BqH,EAAoBJ,EAAYjQ,MAAK,SAACC,EAAEC,GAC5C,OAAOD,EAAEoC,OAASnC,EAAEmC,UAGlBiO,EAAe,EACXxG,EAAI,EAAGA,GAAKuG,EAAkBrH,OAAQc,IACzCuG,EAAkBvG,EAAE,GAAGvM,KAAOuE,IAC/BwO,EAAexG,EACfqG,EAAQD,GAAQpG,EAAE,IAAIsG,EAAiB,KAO3C,IADA,IAAIG,EAAO,GACFzG,EAAI,EAAGA,GAAKwG,EAAcxG,IACjCyG,EAAKxQ,KAAK+J,GAIZ,OACE,qBAAKxM,UAAU,OAAf,SACIiT,GAAQA,EAAKpN,KAAI,SAAAqN,GACjB,OACE,qBAAKlT,UAAU,UAAf,SACE,qBAAK4H,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,YAAYC,OAAO,eAA/E,SACE,wBAAQoL,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKtL,OAAO,QAAQG,YAAY,IAAIL,KAAMgL,OAF1CK,SCfzBI,GAlBS,SAAC,GAAqB,IAApBhP,EAAmB,EAAnBA,KAAMP,EAAa,EAAbA,QAEtBpE,EAAkBiG,qBAAWxG,GAA7BO,cAMR,OACE,sBAAKsJ,QALO,SAACH,GACbnJ,EAAc,CAACb,KAAM,qBAAsBK,UAAWmF,EAAKrE,MAItCD,UAAU,iKAA/B,UACE,oBAAGA,UAAU,oCAAb,UAAkDsE,EAAKgD,WAAW0F,QAAQ,GAA1E,MAAiF1I,EAAKa,QACtF,qBAAKnF,UAAU,cAAf,SACE,cAAC,GAAD,CAAgBwE,WAAYF,EAAKE,WAAYmO,YAAa5O,EAAQ3B,wBCN3DmR,GARE,WACf,OACE,qBAAK3L,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,YAAYC,OAAO,eAA/E,SACE,sBAAMC,cAAc,QAAQC,eAAe,QAAQC,YAAY,IAAIpE,EAAE,kCC8C5D0P,GA9CK,WAAO,IAAD,EAEa5N,qBAAW7C,GAAxCoB,EAFgB,EAEhBA,SAAUqB,EAFM,EAENA,MAAOzB,EAFD,EAECA,QACjBpE,EAAkBiG,qBAAWxG,GAA7BO,cAEJ8T,EAAc,GACftP,GAAYqB,IACbiO,EAActP,EAAS0B,KAAI,SAAAvB,GACzB,IAAM6C,EAAc3B,EAAMnB,QAAO,SAAAvC,GAC/B,QAAIA,EAAKsC,SACFtC,EAAKsC,QAAQnE,KAAOqE,EAAKrE,MAE9BmH,EAAY,EAEhB,OADAD,EAAYE,SAAQ,SAAAvF,GAAI,OAAIsF,GAAatF,EAAK8C,SACvC,2BAAIN,GAAX,IAAiBgD,WAAYF,QAIjCqM,EAAY/Q,MAAK,SAACC,EAAEC,GAClB,OAAOA,EAAE0E,WAAa3E,EAAE2E,cAQ1B,OACE,sBAAKtH,UAAU,oBAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,mBAAGA,UAAU,gCAAb,sBACA,qBAAKiJ,QATQ,SAACH,GAClBnJ,EAAc,CAACb,KAAM,qBAAsBK,UAAW,QAQxBa,UAAU,qCAApC,SACE,cAAC,GAAD,SAGJ,qBAAKA,UAAU,0BAAf,SACIyT,GAAeA,EAAY5N,KAAI,SAAAvB,GAC/B,OACE,cAAC,GAAD,CAA+BA,KAAMA,EAAMP,QAASA,GAA9BO,EAAKrE,aCRxByT,GA3BC,WAAO,IAAD,EAEgBpL,oBAAS,GAFzB,mBAEbqL,EAFa,KAEDC,EAFC,KAQpB,OACE,qBAAK5T,UAAU,sCAAf,SACE,sBAAKA,UAAU,uCAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,GAAD,IACA,cAAC,EAAD,IACA,cAAC,GAAD,IACA,mBAAGA,UAAU,6CAA6CiJ,QAZlD,SAACH,GACb8K,GAAeD,IAWX,SAA2EA,EAAa,cAAgB,gBACtGA,EACA,8BACE,cAAC,EAAD,MAEA,WC7BCE,GAAgB,SAACjV,EAAOC,GACnC,OAAOA,EAAOC,MACZ,IAAK,2BACH,IAAIgV,EAAoB,GAIxB,OAHAjV,EAAO8T,YAAYtL,SAAQ,SAAA7C,GACzBsP,EAAkBtP,EAAWvE,KAAM,KAErC,2BACKrB,GADL,IAEEkV,sBAEJ,IAAK,wBACH,kCACKlV,GADL,IAEEkV,kBAAkB,2BACblV,EAAMkV,mBADM,kBAEdjV,EAAO2F,WAAa3F,EAAOgB,UAGlC,IAAK,iBAGH,IAFA,IAAIkU,EAAuB,GAE3B,MADczR,OAAOC,KAAK1D,EAAO8T,aACjC,eAAyB,CACvBoB,EADY,MACgBlV,EAAOgB,MAErC,kCACKjB,GADL,IAEEkV,kBAAmBC,IAEvB,IAAK,oBACH,kCACKnV,GADL,IAEEoV,cAAc,2BACTpV,EAAMoV,eADE,kBAEVnV,EAAOsD,WAAatD,EAAOgB,UAGlC,IAAK,aAGH,IAFA,IAAIoU,EAAmB,GAEvB,MADc3R,OAAOC,KAAK1D,EAAOiE,aACjC,eAAyB,CACvBmR,EADY,MACYpV,EAAOgB,MAEjC,kCACKjB,GADL,IAEEoV,cAAeC,IAEnB,IAAK,iBACH,kCACKrV,GADL,IAEEsV,UAAWrV,EAAOgB,QAEtB,QACE,OAAOjB,IClDAuV,GAAgB9U,IAAMC,gBAGtB8U,GAAwB,SAAC,GAAkB,IAAhB5U,EAAe,EAAfA,SAAe,EAGhBC,qBAAWoU,GAAe,CAC7DK,UAAW,QAJwC,mBAG9CG,EAH8C,KAGlCC,EAHkC,KAQrD,OACE,cAACH,GAAcvU,SAAf,CAAwBC,MAAO,CAAEwU,aAAYC,kBAA7C,SAAgE9U,KCsBrD+U,GAhCM,SAAC,GAAY,IAAXzS,EAAU,EAAVA,KAEfnC,EAAkBiG,qBAAWxG,GAA7BO,cAEFmB,EAAiBgB,EAAKhB,eAAiBC,IAAOC,KAAKc,EAAKhB,eAAeG,SAAS6L,OAAO,YAAc,KAUzG,OACE,sBAAK9M,UAAW,mEAAhB,UACE,sBAAKiJ,QANU,SAACH,GACpBnJ,EAAc,CAACb,KAAM,qBAAsBK,UAAW2C,EAAK3C,aAK3Ba,UAAU,gFAAtC,UACE,mBAAGA,UAAU,UAAb,SAAwB8B,EAAK8C,MAAQ9C,EAAK8C,MAAMoI,QAAQ,GAAK,IAC7D,mBAAGhN,UAAU,UAAb,SAAwB8B,EAAKsC,QAAUtC,EAAKsC,QAAQe,KAAO,KAE3D,cAAC,GAAD,CAAgBX,WAAY1C,EAAKsC,QAAUtC,EAAKsC,QAAQI,WAAa,IACrE,mBAAGxE,UAAU,UAAb,SAAwB8B,EAAKsC,QAAUtC,EAAKsC,QAAQoQ,YAAc,QAEpE,sBAAKvL,QAjBO,SAACH,GACjBnJ,EAAc,CAACb,KAAM,aAAcE,OAAQ8C,EAAK7B,MAgBnBD,UAAW,sCAAwC8B,EAAKkD,WAAjF,UACE,mBAAGhF,UAAU,UAAb,SAAwB8B,EAAKuD,iBAC7B,mBAAGrF,UAAU,UAAb,SAAwBc,IACxB,mBAAGd,UAAU,YAAb,SAA0B8B,EAAKjD,gBCHxB4V,GAxBS,SAAC,GAAY,IAAX3S,EAAU,EAAVA,KAElBnC,EAAkBiG,qBAAWxG,GAA7BO,cAEFmB,EAAiBgB,EAAKhB,eAAiBC,IAAOC,KAAKc,EAAKhB,eAAeG,SAAS6L,OAAO,YAAc,KAMzG,OACE,sBAAK7D,QALK,SAACH,GACbnJ,EAAc,CAACb,KAAM,aAAcE,OAAQ8C,EAAK7B,MAIzBD,UAAW,mEAAhC,UACE,qBAAKA,UAAU,2EAAf,SACE,mBAAGA,UAAU,sBAAb,SAAoC8B,EAAK8C,MAAQ9C,EAAK8C,MAAMoI,QAAQ,GAAK,MAE3E,sBAAKhN,UAAW,mBAAqB8B,EAAKkD,WAA1C,UACE,mBAAGhF,UAAU,UAAb,SAAwB8B,EAAKuD,iBAC7B,mBAAGrF,UAAU,UAAb,SAAwBc,IACxB,mBAAGd,UAAU,YAAb,SAA0B8B,EAAKjD,gBCNxB6V,GAbW,SAAC,GAAyB,IAAxB5S,EAAuB,EAAvBA,KAAM6S,EAAiB,EAAjBA,YAEhC,OACE,qBAAK3U,UAAU,iBAAf,SACI2U,EACA,cAAC,GAAD,CAAc7S,KAAMA,IAEpB,cAAC,GAAD,CAAiBA,KAAMA,OCmDhB8S,GAvDQ,WAAO,IAEpBpP,EAAUI,qBAAW7C,GAArByC,MACA6O,EAAezO,qBAAWuO,IAA1BE,WAEJQ,EAAcrP,EAAQA,EAAM9C,MAAK,SAACC,EAAEC,GACtC,OAAwB,OAArBD,EAAE7B,eAAgC,EACb,OAArB8B,EAAE9B,gBAAiC,EAC/B8B,EAAEgC,MAAQjC,EAAEiC,SAChB,KAEL,GAAGyP,GAAcA,EAAWP,mBAAqBe,EAAY,CAC3D,IAAMf,EAAoBO,EAAWP,kBACrCe,EAAcA,EAAYxQ,QAAO,SAAAvC,GAC/B,YAAkDgT,IAA/ChB,EAAkBhS,EAAKsC,QAAQI,aAC3BsP,EAAkBhS,EAAKsC,QAAQI,eAoB1C,GAhBG6P,GAAcQ,IACa,UAAzBR,EAAWH,UACZW,EAAcA,EAAYxQ,QAAO,SAAAvC,GAC/B,OAAOf,IAAOC,KAAKc,EAAKhB,eAAeG,SAASC,QAAQ,OAAO6T,eAAehU,MAASG,QAAQ,WAEjE,cAAzBmT,EAAWH,UAClBW,EAAcA,EAAYxQ,QAAO,SAAAvC,GAC/B,OAAOf,IAAOC,KAAKc,EAAKhB,eAAeG,SAASC,QAAQ,OAAO6T,eAAehU,MAASY,IAAI,EAAE,QAAQT,QAAQ,WAE/E,YAAzBmT,EAAWH,YAClBW,EAAcA,EAAYxQ,QAAO,SAAAvC,GAC/B,OAAOf,IAAOC,KAAKc,EAAKhB,eAAeG,SAASC,QAAQ,OAAOQ,SAASX,MAASG,QAAQ,aAK5FmT,GAAcA,EAAWL,eAAiBa,EAAY,CACvD,IAAMb,EAAgBK,EAAWL,cACjCa,EAAcA,EAAYxQ,QAAO,SAAAvC,GAC/B,YAAsCgT,IAAnCd,EAAclS,EAAKK,aACf6R,EAAclS,EAAKK,eAK9B,OACE,qBAAKnC,UAAU,2EAAf,SACE,qBAAKA,UAAU,iCAAf,SACI6U,GAAeA,EAAYhP,KAAI,SAAA/D,GAC/B,OAAO,cAAC,GAAD,CAAmB6S,aAAa,EAAoB7S,KAAMA,GAAfA,EAAK7B,YCElD+U,GApDU,WAAO,IAEtBjR,EAAY6B,qBAAW7C,GAAvBgB,QAFqB,EAGU6B,qBAAWuO,IAA1CE,EAHqB,EAGrBA,WAAYC,EAHS,EAGTA,eAGhBW,EAAU,GACd,IAAGlR,EAQD,OAAO,KAPPA,EAAQlB,gBAAgBwE,SAAQ,SAAA3C,GAC9BuQ,EAAQxS,KAAK,CACXxC,GAAIyE,EAAMzE,GACVkF,KAAMT,EAAMS,UAQlB,IAAM+P,EAAU,SAACpM,GACfwL,EAAe,CAACxV,KAAM,oBAAqBqD,WAAY2G,EAAEC,OAAO9I,GAAIJ,MAAOiJ,EAAEC,OAAOoM,WAWtF,OACE,sBAAKnV,UAAU,OAAf,UACE,mBAAGA,UAAU,oBAAb,gCACA,qBAAKA,UAAU,gBAAf,SACIiV,EAAQpP,KAAI,SAAAuP,GACZ,OACE,sBAAKpV,UAAU,iBAAf,UACE,uBAAOA,UAAU,cAAcC,GAAImV,EAAKnV,GAAIC,SAAUgV,EAASC,SAAUd,EAAWL,oBAAuDc,IAAtCT,EAAWL,cAAcoB,EAAKnV,KAA2BoU,EAAWL,cAAcoB,EAAKnV,IAAKnB,KAAK,aACtM,uBAAOkB,UAAU,cAAjB,SAAgCoV,EAAKjQ,SAFFiQ,EAAKnV,SAOhD,sBAAKD,UAAU,iBAAf,UACE,wBAAQA,UAAU,WAAWiJ,QAtBjB,SAACH,GACjBwL,EAAe,CAACxV,KAAM,aAAce,OAAO,EAAMiD,YAAaiB,EAAQjB,eAqBlE,wBACA,wBAAQ9C,UAAU,WAAWiJ,QAnBf,SAACH,GACnBwL,EAAe,CAACxV,KAAM,aAAce,OAAO,EAAOiD,YAAaiB,EAAQjB,eAkBnE,kCCROuS,GAvCG,WAAO,IAAD,EAEiBzP,qBAAWuO,IAA1CE,EAFc,EAEdA,WAAYC,EAFE,EAEFA,eAFE,EAGIhM,mBAAS,OAHb,mBAGfzI,EAHe,KAGRyV,EAHQ,KAKtBzM,qBAAU,WACLwL,GACDiB,EAASjB,EAAWH,aAErB,CAACG,IAEJ,IAAMtU,EAAS,SAAC+I,GACdwL,EAAe,CAACxV,KAAM,iBAAkBe,MAAOiJ,EAAEC,OAAOlJ,SAU1D,OACE,sBAAKG,UAAU,OAAf,UACE,mBAAGA,UAAU,oBAAb,yBACA,8BAVgB,CAClB,CAACmF,KAAK,aAActF,MAAM,MAAO0V,MAAM,OACvC,CAACpQ,KAAK,aAActF,MAAM,QAAS0V,MAAM,SACzC,CAACpQ,KAAK,aAActF,MAAM,YAAa0V,MAAM,eAC7C,CAACpQ,KAAK,aAActF,MAAM,UAAW0V,MAAM,YAOzB1P,KAAI,SAAAuP,GAChB,OACE,sBAAsBpV,UAAU,iBAAhC,UACE,uBAAOA,UAAU,cAAcE,SAAUH,EAAQjB,KAAK,QAAQqG,KAAMiQ,EAAKjQ,KAAMtF,MAAOuV,EAAKvV,MAAOI,GAAImV,EAAKvV,MAAOsV,QAAStV,IAAUuV,EAAKvV,QAC1I,uBAAOG,UAAU,cAAjB,SAAgCoV,EAAKG,UAF7BH,EAAKvV,gBC8BZ2V,GAxDW,WAAO,IAEvBzR,EAAY6B,qBAAW7C,GAAvBgB,QAFsB,EAGS6B,qBAAWuO,IAA1CG,EAHsB,EAGtBA,eAAgBD,EAHM,EAGNA,WACpBY,EAAU,GAGd,IAAGlR,EAYD,OAAO,KAXPA,EAAQ3B,gBAAgBiF,SAAQ,SAAA7C,GAC9ByQ,EAAQxS,KAAK,CACXxC,GAAIuE,EAAWvE,GACfkF,KAAMX,EAAWW,KACjBJ,OAAQP,EAAWO,YAGvBkQ,EAAUA,EAAQvS,MAAK,SAACC,EAAEC,GACxB,OAAOA,EAAEmC,OAASpC,EAAEoC,UAMxB,IAAMmQ,EAAU,SAACpM,GACfwL,EAAe,CAACxV,KAAM,wBAAyB0F,WAAYsE,EAAEC,OAAO9I,GAAIJ,MAAOiJ,EAAEC,OAAOoM,WAY1F,OACE,gCACE,mBAAGnV,UAAU,oBAAb,+BACA,qBAAKA,UAAU,gBAAf,SACIiV,EAAQpP,KAAI,SAAAuP,GACZ,OACE,sBAAKpV,UAAU,iBAAf,UACE,uBAAOA,UAAU,cAAcC,GAAImV,EAAKnV,GAAIC,SAAUgV,EAASC,SAAUd,EAAWP,wBAA+DgB,IAA1CT,EAAWP,kBAAkBsB,EAAKnV,KAA2BoU,EAAWP,kBAAkBsB,EAAKnV,IAAKnB,KAAK,aAClN,uBAAOkB,UAAU,cAAjB,SAAgCoV,EAAKjQ,SAFFiQ,EAAKnV,SAOhD,sBAAKD,UAAU,iBAAf,UACE,wBAAQA,UAAU,WAAWiJ,QAvBjB,SAACH,GACjBwL,EAAe,CAACxV,KAAM,iBAAkBe,OAAO,EAAM8S,YAAa5O,EAAQ1B,mBAsBtE,wBACA,wBAAQrC,UAAU,WAAWiJ,QApBf,SAACH,GACnBwL,EAAe,CAACxV,KAAM,iBAAkBe,OAAO,EAAO8S,YAAa5O,EAAQ1B,mBAmBvE,kCCxBOoT,GAzBE,WAAO,IAEd1R,EAAY6B,qBAAW7C,GAAvBgB,QACAuQ,EAAmB1O,qBAAWuO,IAA9BG,eACF3B,EAAc5O,EAAUA,EAAQ1B,gBAAkB,GAClDS,EAAciB,EAAUA,EAAQjB,YAAc,GAUpD,OACE,sBAAK9C,UAAU,0CAAf,UACE,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,wBAAQiJ,QAZa,SAACH,GACxBwL,EAAe,CAACxV,KAAM,iBAAkBe,OAAO,EAAM8S,gBACrD2B,EAAe,CAACxV,KAAM,aAAce,OAAO,EAAMiD,gBACjDwR,EAAe,CAACxV,KAAM,iBAAkBe,MAAO,SASVG,UAAU,qBAA7C,oCCXS0V,GAXF,WAEX,OACE,sBAAK1V,UAAU,oBAAf,UACE,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,QCGS2V,GAVS,SAAC,GAAqB,IAApB9V,EAAmB,EAAnBA,MAAOE,EAAY,EAAZA,OAE/B,OACE,sBAAKC,UAAU,OAAf,UACE,4CACA,cAAC,IAAD,CAAkBC,GAAG,cAAcC,SAAUH,EAAQC,UAAW,4CAA6CH,MAAOA,QCoB3G+V,GAzBQ,SAAC,GAAqB,IAApB/V,EAAmB,EAAnBA,MAAOE,EAAY,EAAZA,OAEtBgE,EAAY6B,qBAAW7C,GAAvBgB,QAEJ4O,EAAc5O,EAAUA,EAAQ3B,gBAAkB,KAOtD,OANGuQ,IACDA,EAAcA,EAAYjQ,MAAK,SAACC,EAAEC,GAChC,OAAOA,EAAEmC,OAASpC,EAAEoC,WAKtB,sBAAK/E,UAAU,OAAf,UACE,2CACA,wBAAQA,UAAU,wBAAwBC,GAAG,aAAaC,SAAUH,EAAQF,MAAOA,EAAnF,SACE8S,GAAeA,EAAY9M,KAAI,SAAArB,GAC/B,OACE,wBAA4B3E,MAAO2E,EAAWvE,GAA9C,SAAmDuE,EAAWW,MAAjDX,EAAWvE,aCTnB4V,GATE,SAAC,GAAqB,IAApBhW,EAAmB,EAAnBA,MAAOE,EAAY,EAAZA,OACxB,OACE,gCACE,qCACA,uBAAOC,UAAU,YAAYE,SAAUH,EAAQE,GAAG,OAAOJ,MAAOA,QCQvDiW,OAdf,SAA2B1R,EAASoB,EAAOmD,GAEzC,OAAGA,EAAc,KAEdvE,GAAWoB,EACLA,EAAMnB,QAAO,SAAAvC,GAClB,OAAOA,EAAK3C,YAAciF,EAAQnE,MAG7B,MC6HI8V,GA3HU,WAAO,IAAD,EAGDnQ,qBAAW7C,GAA/BoB,EAHqB,EAGrBA,SAAUqB,EAHW,EAGXA,MAHW,EAIUI,qBAAWxG,GAA1CM,EAJqB,EAIrBA,YAAaC,EAJQ,EAIRA,cAJQ,EAMO2I,mBAAS,CAC3CnD,KAAM,GACNqP,YAAY,GACZhQ,WAAY,IATe,mBAMtBwR,EANsB,KAMVC,EANU,OAYC3N,oBAAS,GAZV,mBAYtBG,EAZsB,KAYbC,EAZa,OAcLJ,oBAAS,GAdJ,mBActBK,EAdsB,KAcfC,EAde,KAgBvBzB,EAAc2O,GAAkBE,EAAYxQ,EAAOmD,GAEzDE,qBAAU,WACLnJ,GAAeA,EAAYP,YACzBgF,GACD8R,EAAc9R,EAASE,QAAO,SAAAC,GAAS,OAAOA,EAAKrE,KAAOP,EAAYP,aAAY,IAClFyJ,GAAO,IAEPA,GAAO,MAGV,CAAClJ,EAAayE,IAGjB0E,qBAAU,WACe,KAApBmN,EAAW7Q,KACZuD,GAAW,GAEXA,GAAW,KAEb,CAACsN,EAAW7Q,OAId,IAAMpF,EAAS,SAAC+I,GACdmN,EAAc,2BACTD,GADQ,kBAEVlN,EAAEC,OAAO9I,GAAK6I,EAAEC,OAAOlJ,UAgC5B,OACE,sBAAKG,UAAU,0DAAf,UACE,qBAAKiJ,QAXS,SAACH,GACjBnJ,EAAc,CAACb,KAAK,wBAUOkB,UAAU,mCAAnC,SACE,cAAC,EAAD,MAEA2I,EACA,mBAAG3I,UAAU,oBAAb,yBAEA,mBAAGA,UAAU,oBAAb,0BAEF,cAAC,GAAD,CAAUH,MAAOmW,EAAW7Q,KAAMpF,OAAQA,IAC1C,cAAC,GAAD,CAAiBF,MAAOmW,EAAWxB,YAAazU,OAAQA,IACxD,cAAC,GAAD,CAAgBF,MAAOmW,EAAWxR,WAAYzE,OAAQA,IAEpD4I,EACE,qBAAK3I,UAAU,sBAAf,SACE,wBAAQiJ,QA/BD,SAACH,GACZL,KrCuGkB,SAACuN,GACzB7V,EAASQ,YAAY4C,WAAW,SAAWkD,IAAkB,aAAa9E,IAAI,CAC5E6S,YAAawB,EAAWxB,YACxBhQ,WAAY0E,SAAS8M,EAAWxR,YAChCW,KAAM6Q,EAAW7Q,KACjBF,SAAS,IqC3GTiR,CAAWF,GACXrW,EAAc,CAACb,KAAK,yBA4BekB,UAAWyI,EAAU,UAAY,cAA5D,mBAGF,gCACE,sBAAKzI,UAAU,sBAAf,UACE,wBAAQiJ,QA1CF,SAACH,GACbL,KrCqGqB,SAACuN,GAC5B7V,EAASQ,YAAY4C,WAAW,SAAWkD,IAAkB,aAAa7C,IAAIoS,EAAW/V,IAAI4G,OAAO,CAClG2N,YAAawB,EAAWxB,YACxBhQ,WAAY0E,SAAS8M,EAAWxR,YAChCW,KAAM6Q,EAAW7Q,OqCxGjBgR,CAAcH,GACdrW,EAAc,CAACb,KAAK,yBAuCkBkB,UAAWyI,EAAU,UAAY,cAA7D,kBACA,wBAAQQ,QAlDE,SAACH,GrC8HI,IAAC3J,GqC7H8G,IAArIkK,OAAOC,QAAQ,oHrC6HQnK,EqC5HV6W,EAAW/V,GrC6HVE,EAASQ,YAAY4C,WAAW,SAAWkD,IAAkB,aAAa7C,IAAIzE,GACtF0H,OAAO,CAChB5B,SAAS,IACR0B,MAAK,SAAA2L,GACNnS,EAASQ,YAAY4C,WAAW,SAAWkD,IAAkB,UAAUjD,MAAM,UAAU,KAAKrE,GAAWqE,MAAM,UAAU,MAAK,GAAMkD,MAAMC,MAAK,SAAAyP,GAE3I,IAAIC,EAAQlW,EAASQ,YAAY0V,QAEjCD,EAASE,KAAKjP,SAAQ,SAAAkP,GACpB,IAAIC,EAAUrW,EAASQ,YAAY4C,WAAW,SAAWkD,IAAkB,UAAU7C,IAAI2S,EAAQtW,IACjGoW,EAAMxP,OAAO2P,EAAS,CAAC,SAAW,OAIpCH,EAAMI,eqC1IN9W,EAAc,CAACb,KAAK,yBA+CoBkB,UAAU,eAA1C,uBAEF,2BAKJ2I,EAAQ,KACR,gCACE,sBAAK3I,UAAU,uBAAf,UACE,mBAAGA,UAAU,gCAAb,gCACA,qBAAKiJ,QAtCC,SAACH,GACfnJ,EAAc,CAACb,KAAM,aAAcG,cAAe+W,EAAW/V,MAqC9BD,UAAU,qCAAjC,SACE,cAAC,GAAD,SAGFmH,GAAeA,EAAYtB,KAAI,SAAA/D,GAC/B,OACE,cAAC,GAAD,CAAmB6S,aAAa,EAAqB7S,KAAMA,GAAfA,EAAK7B,cCpGhDyW,GAtBU,WAAO,IAAD,EAEU9Q,qBAAWxG,GAA1CM,EAFqB,EAErBA,YAAaC,EAFQ,EAERA,cAQrB,OAAoC,IAAjCD,EAAYR,iBACN,KAKP,qBAAK+J,QAZS,SAACH,GACI,eAAhBA,EAAEC,OAAO9I,IACVN,EAAc,CAACb,KAAK,wBAUCmB,GAAG,aAAaD,UAAU,gFAAjD,SACE,cAAC,GAAD,OCSS2W,GA1BG,WAAO,IAAD,EAEiB/Q,qBAAWxG,GAA1CM,EAFc,EAEdA,YAAaC,EAFC,EAEDA,cAqBrB,OAnBAkJ,qBAAU,WAER,IAAM+N,EAAW,SAAC9N,GACF,WAAXA,EAAE+N,OACAnX,EAAYX,UACbY,EAAc,CAACb,KAAK,eACbY,EAAYR,kBACnBS,EAAc,CAACb,KAAK,yBAO1B,OAFAgY,SAASC,iBAAiB,QAASH,GAE5B,WACLE,SAASE,oBAAoB,QAASJ,OAInC,MCAMK,OAjBf,WACE,OACE,cAAC,EAAD,UACE,cAAC,GAAD,UACE,cAAC,EAAD,UACE,sBAAKjX,UAAU,MAAf,UACE,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,EAAD,IACA,cAAC,GAAD,cCdZkX,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFN,SAASO,eAAe,U","file":"static/js/main.07625ceb.chunk.js","sourcesContent":["\nexport const modalReducer = (state, action) => {\n  switch(action.type){\n    case 'SHOW_SHEET':\n      return {\n        ...state,\n        showSheet: true,\n        itemID: action.itemID,\n        itemProjectID: action.itemProjectID\n      }\n    case 'SHOW_PROJECT_SHEET':\n      return {\n        ...state,\n        showProjectSheet: true,\n        projectID: action.projectID\n      }\n    case 'HIDE_SHEET':\n      return{\n        ...state,\n        showSheet: false,\n        itemID: null,\n        itemProjectID: null\n      }\n    case 'HIDE_PROJECT_SHEET':\n      return{\n        ...state,\n        showProjectSheet: false,\n        projectID: null\n      }\n    default: \n      return state\n  }\n}","import React, { useReducer } from \"react\";\nimport { modalReducer } from '../reducers/modalReducer'\n\nexport const ModalContext = React.createContext();\n\n\nexport const ModalProvider = ({ children }) => {\n\n  const [modalStatus, modalDispatch] = useReducer(modalReducer, {\n    showSheet: false,\n    showProjectSheet: false,\n    itemID: null\n  });\n\n\n\n\n  return (\n    <ModalContext.Provider value={{ modalStatus, modalDispatch }}>{children}</ModalContext.Provider>\n  );\n};\n\n","import React from 'react'\nimport TextareaAutosize from 'react-textarea-autosize';\n\n\nconst EditAction = ({value, change}) => {\n  return ( \n    <div className=\"mt-2\">\n      <p>Action</p>\n      <TextareaAutosize id='action' onChange={change} className={'focus:outline-none border-2 border-black '} value={value}></TextareaAutosize>\n    </div>\n   );\n}\n \nexport default EditAction;","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport 'firebase/analytics'\n\n// Replace this with your own config details\nvar config = {\n  apiKey: \"AIzaSyCSu3ggsS66Mo1OullwbFJIg9mibC9E9wY\",\n  authDomain: \"todo-8303f.firebaseapp.com\",\n  projectId: \"todo-8303f\",\n  storageBucket: \"todo-8303f.appspot.com\",\n  messagingSenderId: \"928128254937\",\n  appId: \"1:928128254937:web:a3f32fafc7ca5ba6c40fc8\"\n};\n\nfirebase.initializeApp(config);\nfirebase.firestore()\n\nexport default firebase ","import moment from 'moment';\n\n\nexport const hydrateItem = (item, weights, projects) =>{\n\n\n  if(weights && item && projects){\n    const project = projects.filter(proj => {\n      return proj.id === item.projectID\n    })[0]\n\n    const itemDeleted = project ? false : true;\n    if(itemDeleted) return null\n\n    const importance = weights.importanceArray.filter(iType => {\n      return iType.id === project.importance\n    })[0]\n\n    const actionType = weights.actionTypeArray.filter(aType => {\n      return aType.id === item.actionType\n    })[0]\n\n    const daysTo = weekDaysBetween(item.expectedUpdate)\n    const score = item.expectedUpdate ? Math.max(0,(1 * importance.weight * actionType.weight) - (daysTo * weights.dayDrop)) : 0;\n\n\n    const colorClass = itemColorClass(item)\n  \n    return {...item, deleted: itemDeleted, importanceName: importance.name, importanceWeight: importance.weight, actionTypeName: actionType.name, actionTypeWeight: actionType.weight, daysTo, score, colorClass, project}\n    \n  }\n  return item\n}\n\n\nconst weekDaysBetween = (timestamp) => {\n  if(timestamp === null) return 0;\n  const expectedUpdate = moment.unix(timestamp.seconds).startOf('days')\n  const now = moment().startOf('days');\n  var end = moment(expectedUpdate)\n  var start = moment(now)\n  var multiplier = 1\n  const dailyInfo = [false, true, true, true, true, true, false]\n  let totalDays = 0;\n\n  if(expectedUpdate.isSame(now)){\n    return 0;\n  }\n  if(expectedUpdate.isBefore(now)){\n    start = moment(expectedUpdate)\n    end = moment(now)\n    multiplier = -1;\n  }\n\n  while(!start.isSame(end)){\n    start.add(1,'d')\n    if(dailyInfo[start.day()]){\n      totalDays++;\n    }\n  }\n\n  return totalDays * multiplier\n\n}\n\nconst itemColorClass = (item) => {\n  if(item.expectedUpdate === null) return 'bg-white'\n  const now = moment(new Date(new Date().getFullYear(),new Date().getMonth() , new Date().getDate()));\n  const expectedUpdate = moment.unix(item.expectedUpdate.seconds)\n\n  if(expectedUpdate.isBefore(now) && item.actionType !== 5 && item.actionType !== 6){\n    return 'bg-red-600 text-white'\n  }else if(expectedUpdate.isSame(now) && (item.actionType === 1 || item.actionType === 4)){\n    return 'bg-purple-700 text-white'\n  }else if(expectedUpdate.isSame(now) && (item.actionType === 2 || item.actionType === 3)){\n    return 'bg-gray-600 text-white'\n  }else if(item.actionType === 1 || item.actionType === 4){\n    return 'bg-purple-300'\n  }else if(item.actionType === 2 || item.actionType === 3){\n    return 'bg-gray-400'\n  }\n\n  return 'bg-gray-300'\n\n}","\n\nexport const hydrateWeights = (weights) => {\n  weights.importanceArray = importanceArray(weights.importanceTypes)\n  weights.actionTypeArray = actionTypeArray(weights.actionTypes)\n  return weights\n}\n\n\nconst importanceArray = (importanceTypes) => {\n  const keys = Object.keys(importanceTypes)\n  var importanceArray = []\n  for (const key of keys) {\n    importanceArray.push(importanceTypes[key])\n  }\n  importanceArray = importanceArray.sort((a,b) => {\n    return a.id - b.id\n  })\n  \n  return importanceArray\n}\n\nconst actionTypeArray = (actionTypes) => {\n  const keys = Object.keys(actionTypes)\n  var actionTypeArray = []\n  for(const key of keys){\n    actionTypeArray.push(actionTypes[key])\n  }\n  actionTypeArray = actionTypeArray.sort((a,b) => {\n    return a.id - b.id\n  })\n  return actionTypeArray\n}","import React from \"react\";\nimport firebase from '../../config/fbConfig'\nimport {hydrateItem} from '../hydrateItem'\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { useCollectionData, useDocumentData } from 'react-firebase-hooks/firestore';\nimport { hydrateWeights } from '../hydrateWeights'\n\nexport const FbContext = React.createContext();\n\n\nexport const FbProvider = ({ children }) => {\n\n  const [FBuser] = useAuthState(firebase.auth());\n  const userID = FBuser ? FBuser.uid : null\n\n  const [oneOffs] = useCollectionData(firebase.firestore().collection('users/'+ userID +'/oneOffs').where('done','==',false), {\n    idField: 'id'\n  });\n\n\n  const [weights] = useDocumentData(firebase.firestore().collection('users').doc(\"/\" + userID), {\n    transform: function t(d){\n      return hydrateWeights({\n        importanceTypes: d.importanceTypes,\n        actionTypes: d.actionTypes,\n        dayDrop: d.dayDrop,\n        oneOff: d.oneOff\n      })\n    }\n  })\n\n  const [projects] = useCollectionData(firebase.firestore().collection('users/' + userID + '/projects').where('deleted','==',false),{\n    idField: 'id'\n  })\n\n  const [items] = useCollectionData(firebase.firestore().collection('users/' + userID + '/items').where('deleted','==',false),{\n    idField: 'id',\n    transform: function t(d){\n      return hydrateItem({...d, score: 0}, weights, projects)\n    }\n  })\n\n  const [history] = useCollectionData(firebase.firestore().collection('users/' + userID + '/history').orderBy('date','asc'))\n\n\n  return (\n    <FbContext.Provider value={{ items, oneOffs, weights, FBuser, history, projects }}>{children}</FbContext.Provider>\n  );\n};\n\n","import React, { useContext } from 'react';\nimport { FbContext } from '../../../store/contexts/fbContext';\n\nconst EditActionType = ({value, change}) => {\n\n  const { weights } = useContext(FbContext)\n\n  var actionTypes = weights ? weights.actionTypeArray : null\n  if(actionTypes){\n    actionTypes = actionTypes.sort((a,b) => {\n      return b.weight - a.weight\n    })\n  }\n\n  return ( \n    <div className=\"mt-2\">\n      <p>Action Type</p>\n      <select className='border-2 border-black' onChange={change} id='actionType' value={value}>\n        { actionTypes && actionTypes.map(aType => {\n          return <option key={aType.id} value={aType.id}>{aType.name}</option> \n        })}\n      </select>\n    </div>\n   );\n}\n \nexport default EditActionType;","import React from 'react'\nimport moment from 'moment'\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\n\nconst EditExpectedUpdate = ({value, change}) => {\n\n  const expectedUpdate = value && value.seconds ? moment.unix(value.seconds).toDate() : value ? value : null\n\n  const dateChange = (newDate,g) => {\n    var dateToSend = newDate\n    if(dateToSend !== null){\n      change(dateToSend)\n    }\n  }\n\n  return ( \n    <div className=\"mt-2\">\n      <p>Expected Update</p>\n      <DatePicker id='expectedUpdate' isClearable={false} className='formInput' selected={expectedUpdate} onChange={dateChange} />\n    </div>\n   );\n}\n \nexport default EditExpectedUpdate;","import firebase from '../config/fbConfig'\n\n\nexport const updateName = (newName, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    name: newName\n  })\n}\n\nexport const updateImportance = (importance, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    importance: parseInt(importance)\n  })\n}\n\nexport const updateDescription = (newDesription, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    description: newDesription\n  })\n}\n\nexport const updateNotes = (newNotes, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    notes: newNotes\n  })\n}\n\nexport const updateActionType = (newActionType, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    actionType: parseInt(newActionType)\n  })\n}\n\nexport const updateAction = (newAction, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    action: newAction\n  })\n}\n\nexport const updateExpectedUpdate = (newExpectedUpdate, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    expectedUpdate: newExpectedUpdate\n  })\n}\n\nexport const completeOneOff = (id) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/oneOffs').doc(id).update({\n    done: true\n  })\n}\n\nexport const addOneOff = (oneOff) => {\n  const userID = currentUserID()\n  const now = new Date()\n  firebase.firestore().collection('users/' + currentUserID() + '/oneOffs').add({\n    name: oneOff,\n    done: false,\n    userID,\n    created: now\n  })\n}\n\nexport const login = (email, pass) => {\n  firebase.auth().signInWithEmailAndPassword(\n    email,\n    pass\n  )\n}\n\nexport const logout = () => {\n  firebase.auth().signOut()\n}\n\nexport const addNewItem = (newItem) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').add({\n    action: newItem.action,\n    actionType: parseInt(newItem.actionType),\n    expectedUpdate: newItem.expectedUpdate,\n    deleted: false,\n    projectID: newItem.projectID\n  })\n}\n\nexport const deleteItem = (itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    deleted: true\n  })\n}\n\nexport const updateImportanceTypes = (newITypes, oldITypes) => {\n  const keys = Object.keys(newITypes)\n  for (const key of keys) {\n    if(!isNaN(parseFloat(newITypes[key].weight))){\n      oldITypes[key] = {\n        ...newITypes[key],\n        weight: parseFloat(newITypes[key].weight)\n      }\n    }\n  }\n  firebase.firestore().collection('users').doc(currentUserID()).get().then(userDoc => {\n    firebase.firestore().collection('users').doc(currentUserID()).update({\n      importanceTypes: oldITypes\n    })\n  })\n}\n\nexport const updateActionTypes = (newATypes, oldATypes) => {\n  const keys = Object.keys(newATypes)\n  for (const key of keys) {\n    if(!isNaN(parseFloat(newATypes[key].weight))){\n      oldATypes[key] = {\n        ...newATypes[key],\n        weight: parseFloat(newATypes[key].weight)\n      }\n    }\n  }\n  firebase.firestore().collection('users').doc(currentUserID()).get().then(userDoc => {\n    firebase.firestore().collection('users').doc(currentUserID()).update({\n      actionTypes: oldATypes\n    })\n  })\n}\n\nexport const logHistory = (newScore) => {\n  const now = new Date()\n  firebase.firestore().collection('users').doc(currentUserID()).get().then(userDoc => {\n    if(userDoc.data().currentScore.toFixed(2) !== newScore.toFixed(2)){\n      console.log('log history. current:', userDoc.data().currentScore, 'new', newScore)\n      firebase.firestore().collection('users').doc(currentUserID()).update({\n        currentScore: parseFloat(newScore.toFixed(2))\n      }).then(t => {\n        firebase.firestore().collection('users/' + currentUserID() + '/history').add({\n          date: now,\n          score: parseFloat(newScore.toFixed(2))\n        })\n      })\n    }\n  })\n\n}\n\nexport const updateItem = (newItem) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(newItem.id).update({\n    action: newItem.action,\n    actionType: parseInt(newItem.actionType),\n    expectedUpdate: newItem.expectedUpdate,\n    projectID: newItem.projectID\n  })\n}\n\nexport const addImportance = (importanceTypes) => {\n  const keys = Object.keys(importanceTypes)\n  const newID = keys.length + 1;\n  const newKey = \"importanceTypes.\" + newID\n  firebase.firestore().collection('users').doc(currentUserID()).update({\n    [newKey]: {id: newID, name: \"New\", weight: 0}\n  })\n}\n\nexport const addActionType = (actionTypes) => {\n  const keys = Object.keys(actionTypes)\n  const newID = keys.length + 1;\n  const newKey = \"actionTypes.\" + newID\n  firebase.firestore().collection('users').doc(currentUserID()).update({\n    [newKey]: {id: newID, name: \"New\", weight: 0}\n  })\n}\n\nexport const updateProject = (newProject) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/projects').doc(newProject.id).update({\n    description: newProject.description,\n    importance: parseInt(newProject.importance),\n    name: newProject.name\n  })\n}\n\nexport const addProject = (newProject) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/projects').add({\n    description: newProject.description,\n    importance: parseInt(newProject.importance),\n    name: newProject.name,\n    deleted: false\n  })\n}\n\nexport const deleteProject = (projectID) => {\n  const projectRef = firebase.firestore().collection('users/' + currentUserID() + '/projects').doc(projectID)\n  projectRef.update({\n    deleted: true\n  }).then(t => {\n    firebase.firestore().collection('users/' + currentUserID() + '/items').where('project','==',projectID).where('deleted','!=',true).get().then(itemSnap => {\n\n      var batch = firebase.firestore().batch();\n\n      itemSnap.docs.forEach(itemDoc => {\n        var itemRef = firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemDoc.id)\n        batch.update(itemRef, {\"deleted\": true});\n      })\n\n      // Commit the batch\n      batch.commit()\n    })\n  })\n}\n\nconst currentUserID = () => {\n  return firebase.auth().currentUser.uid\n}","\nfunction useProjectScore(projects, items) {\n\n  var newProjects = [];\n  if(projects && items){\n    newProjects = projects.map(proj => {\n      const itemsInProj = items.filter(item => {\n        if(!item.project) return false\n        return item.project.id === proj.id\n      })\n      var projScore = 0;\n      itemsInProj.forEach(item => projScore += item.score)\n      return {...proj, totalScore: projScore}\n    })\n  }else{\n    return projects\n  }\n\n  return newProjects;\n}\n\nexport default useProjectScore","import React, { useContext } from 'react'\nimport useProjectScore from '../../../hooks/useProjectScore'\nimport { FbContext } from '../../../store/contexts/fbContext'\n\nconst EditProject = ({value, change}) => {\n\n  const { projects, items } = useContext(FbContext)\n  const projectScores = useProjectScore(projects, items)\n\n  var sortedProjects = []\n  if(projectScores){\n    sortedProjects  = projectScores.sort((a,b) => {\n      return b.totalScore - a.totalScore\n    })\n  }\n\n  return ( \n    <div className=\"mt-2\">\n      <p>Project</p>\n      <select className='border-2 border-black' id='projectID' value={value} onChange={change}>\n          <option disabled value={''}>Select a Project</option>\n        { sortedProjects && sortedProjects.map(project => {\n          return <option key={project.id} value={project.id}>{project.name}</option> \n        })}\n      </select>\n    </div>\n   );\n}\n \nexport default EditProject;","import React from 'react'\n\n\nconst ExitIcon = () => {\n  return ( \n    <svg className=\"cursor-pointer\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n    </svg>\n   );\n}\n \nexport default ExitIcon;","import React, { useState, useContext, useEffect, useRef } from 'react'\nimport EditAction from './EditAction';\nimport EditActionType from './EditActionType';\nimport EditExpectedUpdate from './EditExpectedUpdate';\nimport { updateItem, deleteItem, addNewItem } from '../../../store/actions';\nimport { FbContext } from '../../../store/contexts/fbContext';\nimport EditProject from './EditProject';\nimport ExitIcon from '../../icons/ExitIcon';\nimport { ModalContext } from '../../../store/contexts/modalContext';\n\n\nconst EditModal = () => {\n\n  const node = useRef(null)\n  const { items } = useContext(FbContext)\n  const { modalStatus, modalDispatch } = useContext(ModalContext)\n\n  const [newItem, setNewItem] = useState({\n    action: '',\n    actionType: 1,\n    expectedUpdate: new Date(),\n    projectID: ''\n  })\n\n  const [changed, setChanged] = useState(false)\n\n  const [isNew, setNew] = useState(true)\n\n  useEffect(() => {\n    if(modalStatus && modalStatus.itemID){\n      if(items){\n        setNewItem(items.filter(item => {return item.id === modalStatus.itemID})[0])\n        setNew(false)\n      }else{\n        setNew(true)\n      }\n    }\n    if(modalStatus.itemProjectID){\n      setNewItem({\n        action: '',\n        actionType: 1,\n        expectedUpdate: new Date(),\n        projectID: modalStatus.itemProjectID\n      })\n    }\n  }, [modalStatus, items])\n\n\n  useEffect(() => {\n    if(newItem.projectID === '' || newItem.action === ''){\n      setChanged(false)\n    }else{\n      setChanged(true)\n    }\n  },[newItem.projectID, newItem.action])\n\n  const change = (e) => {\n    setNewItem({\n      ...newItem,\n      [e.target.id]: e.target.value\n    })\n  }\n\n  const dateChange = (newDate) => {\n    setNewItem({\n      ...newItem,\n      expectedUpdate: newDate\n    })\n  }\n\n  const exitClick = (e) => {\n    modalDispatch({type:'HIDE_SHEET'})\n  }\n\n  const deleteClicked = (e) => {\n    if(window.confirm('Are you sure you want to delete?') === true){\n      deleteItem(newItem.id)\n      modalDispatch({type:'HIDE_SHEET'})\n    }\n  }\n\n\n  const doneClick = (e) => {\n    if(!changed) return;\n    updateItem(newItem)\n    modalDispatch({type:'HIDE_SHEET'})\n  }\n\n  const addClick = (e) => {\n    if(!changed) return;\n    addNewItem(newItem)\n    modalDispatch({type:'HIDE_SHEET'})\n  }\n\n\n  return ( \n      <div ref={node} id=\"modal\" className=\"relative overflow-scroll bg-white h-5/6 mt-10 p-5\">\n        <div onClick={exitClick} className=\"h-10 w-10 absolute top-0 right-0\">\n          <ExitIcon />\n        </div>\n        { isNew ? (\n          <p className=\"text-xl font-bold\">New Item</p>\n        ) : (\n          <p className=\"text-xl font-bold\">Edit Item</p>\n        )}\n        <EditProject value={newItem.projectID} change={change} />\n        <EditActionType value={newItem.actionType} change={change} />\n        <EditExpectedUpdate value={newItem.expectedUpdate} change={dateChange} />\n        <EditAction value={newItem.action} change={change} />\n        {\n          isNew ? (\n            <div className=\"flex space-x-2 mt-5\">\n              <button onClick={addClick} className={changed ? \"doneBtn\" : \"inactiveBtn\"}>Add</button>\n            </div>\n          ) : (\n            <div>\n              <div className=\"flex space-x-2 mt-5\">\n                <button onClick={doneClick} className={changed ? \"doneBtn\" : \"inactiveBtn\"}>Save</button>\n                <button onClick={deleteClicked} className=\"importantBtn\">Delete Item</button>\n              </div>\n              <div>\n              </div>\n            </div>\n          )\n        }\n      </div>\n   );\n}\n \nexport default EditModal;","import React, { useContext } from 'react'\nimport { ModalContext } from '../../../store/contexts/modalContext';\nimport EditModal from './EditModal';\n\n\n\n\nconst EditSheet = () => {\n\n  const { modalStatus, modalDispatch } = useContext(ModalContext)\n\n  const onClick = (e) => {\n    if(e.target.id === \"edit-bg\"){\n      modalDispatch({type:'HIDE_SHEET'})\n    }\n  }\n\n\n  if(modalStatus.showSheet === false){\n    return null\n  }\n\n  return ( \n    <div onClick={onClick} id=\"edit-bg\" className='flex justify-center w-screen h-screen bg-gray-400 bg-opacity-40 fixed inset-0'>\n      <EditModal />\n    </div>\n   );\n}\n \nexport default EditSheet;","import React, { useContext } from 'react'\nimport { FbContext } from '../../store/contexts/fbContext'\nimport { ModalContext } from '../../store/contexts/modalContext'\n\nconst AddItem = () => {\n\n  const { FBuser } = useContext(FbContext)\n  const { modalDispatch } = useContext(ModalContext)\n\n  const addItem = () => {\n    modalDispatch({type:'SHOW_SHEET'})\n  }\n\n  if(FBuser === null) return false\n\n  return ( \n    <button className=\"ml-10 mt-5 mb-10 btn\" onClick={addItem}>Add Item</button>\n   );\n}\n \nexport default AddItem;","import React, { useState, useContext } from 'react'\nimport { FbContext } from '../../store/contexts/fbContext';\nimport { login, logout } from '../../store/actions'\n\nconst Login = () => {\n\n  const { FBuser } = useContext(FbContext)\n  const [creds, setCreds] = useState({\n    email: '',\n    pass: ''\n  })\n\n  const logoutClick = (e) => {\n    logout();\n  }\n\n  if(FBuser){\n    return(\n      <button onClick={logoutClick} className=\"btn\">Logout</button>\n    )\n  }\n\n  const submit = (e) => {\n    e.preventDefault();\n    login(creds.email, creds.pass)\n    setCreds({\n      email: '',\n      pass: ''\n    })\n  }\n\n  const handleChange = (e) => {\n    setCreds({\n      ...creds,\n      [e.target.id] : e.target.value\n    })\n  }\n\n  return ( \n    <div>\n      <form onSubmit={submit}>\n        <input onChange={handleChange} value={creds.email} id=\"email\" className=\"formInput\" type=\"email\"></input>\n        <input onChange={handleChange} value={creds.pass} id=\"pass\" className=\"formInput\" type=\"password\"></input>\n        <button className=\"btn\" type=\"submit\">Login</button>\n      </form>\n    </div>\n   );\n}\n \nexport default Login;","import React, { useState } from 'react'\nimport { addOneOff } from '../../../store/actions'\n\nconst AddOneOff = () => {\n\n  const [newOneOff, setNewOneOff] = useState('')\n\n  const change = (e) => {\n    setNewOneOff(e.target.value)\n  }\n\n  const submit = (e) => {\n    e.preventDefault()\n    addOneOff(newOneOff)\n    setNewOneOff('')\n  }\n\n  return ( \n    <form onSubmit={submit}>\n      <input className=\"formInput mt-2\" placeholder=\"Add One Off\" value={newOneOff} onChange={change}></input>\n    </form>\n   );\n}\n \nexport default AddOneOff;","import React from 'react'\nimport { completeOneOff } from '../../../store/actions'\n\nconst OneOffItem = ({oneOff}) => {\n\n  const onCheck = () => {\n    completeOneOff(oneOff.id)\n  }\n\n  return (\n    <div className=\"flex space-x-2\">\n      <input className='self-center' onChange={onCheck} type=\"checkbox\" />\n      <label className='self-center'>{oneOff.name}</label>\n    </div>\n   );\n}\n \nexport default OneOffItem;","import React, { useContext } from 'react'\nimport { FbContext } from '../../../store/contexts/fbContext';\nimport AddOneOff from './AddOneOff';\nimport OneOffItem from './OneOffItem';\n\n\nconst OneOffs = () => {\n\n  const { oneOffs } = useContext(FbContext)\n\n  var sortedOneOffs = oneOffs ? oneOffs.sort((a,b) => {\n    return a.created - b.created\n  }) : null\n\n\n\n  return ( \n    <div className=\"w-full\">\n      <div className=\"m-auto w-48\">\n        <h1 className=\"text-lg font-bold\">One Off Items</h1>\n        { sortedOneOffs && sortedOneOffs.map(oneOff => {\n          return (\n            <OneOffItem oneOff={oneOff} key={oneOff.id} />\n          )\n        })}\n        <AddOneOff />\n      </div>\n    </div>\n   );\n}\n \nexport default OneOffs;","import React, { useState, useEffect } from 'react'\nimport { updateActionTypes, addActionType } from '../../../store/actions'\n\nconst ActionConfig = ({actionTypes}) => {\n\n  const [newATypes, setNewATypes] = useState([])\n\n  useEffect(() => {\n    if(actionTypes){\n      setNewATypes(actionTypes)\n    }\n  },[actionTypes])\n\n\n  const inputChangeWeight = (e) => {\n    setNewATypes({\n      ...newATypes,\n      [e.target.attributes.actionid.nodeValue]: {\n        ...newATypes[e.target.attributes.actionid.nodeValue],\n        weight: e.target.value\n      }\n    })\n  }\n\n  const inputChangeName = (e) => {\n    setNewATypes({\n      ...newATypes,\n      [e.target.attributes.actionid.nodeValue]: {\n        ...newATypes[e.target.attributes.actionid.nodeValue],\n        name: e.target.value\n      }\n    })\n  }\n\n  const onBlurWeight = (e) => {\n    const newValue = isNaN(parseFloat(e.target.value)) ? actionTypes[e.target.attributes.actionid.nodeValue].weight : parseFloat(e.target.value)\n    updateActionTypes({\n      ...newATypes,\n      [e.target.attributes.actionid.nodeValue]: {\n        ...newATypes[e.target.attributes.actionid.nodeValue],\n        weight: newValue\n      }\n    }, actionTypes)\n  }\n\n  const onBlurName = (e) => {\n    const newValue = e.target.value === '' ? actionTypes[e.target.attributes.actionid.nodeValue].name : e.target.value\n    if(newValue !== actionTypes[e.target.attributes.actionid.nodeValue].name){\n      updateActionTypes({\n        ...newATypes,\n        [e.target.attributes.actionid.nodeValue]: {\n          ...newATypes[e.target.attributes.actionid.nodeValue],\n          name: newValue\n        }\n      }, actionTypes)\n    }\n  }\n\n\n  const addAction = (e) => {\n    addActionType(actionTypes)\n  }\n\n  const keys = Object.keys(newATypes)\n  var actionArray = []\n  for (const key of keys) {\n    actionArray.push(newATypes[key])\n  }\n  actionArray = actionArray.sort((a,b) => {\n    return b.weight - a.weight\n  })\n\n  return ( \n    <div className='m-auto w-56 mt-10'>\n      <p className=\"text-lg font-bold\">Action Type Weights</p>\n      <div className=\"flex flex-col space-y-1\">\n        { actionArray && actionArray.map(aType => {\n          return(\n            <div key={aType.id} className=\"grid grid-cols-12\">\n              {/* <p className=\"col-span-8\">{aType.name}</p> */}\n              <input onBlur={onBlurName} onChange={inputChangeName} actionid={aType.id} value={aType.name} className=\"col-span-7 formInput\"></input>\n              <input onBlur={onBlurWeight} value={aType.weight} actionid={aType.id} id={aType.id} onChange={inputChangeWeight} className=\"formInputSmall col-span-4 col-start-9\" />\n            </div>\n          )\n        })}\n      </div>\n      <button className=\"btn mt-2\" onClick={addAction}>Add</button>\n    </div>\n   );\n}\n \nexport default ActionConfig;","import React, { useState, useEffect } from 'react';\nimport { updateImportanceTypes, addImportance } from '../../../store/actions'\n\nconst ImportanceConfig = ({importanceTypes}) => {\n\n  const [newITypes, setNewITypes] = useState([])\n\n  useEffect(() => {\n    if(importanceTypes){\n      setNewITypes(importanceTypes)\n    }\n  },[importanceTypes])\n\n  const inputChangeWeight = (e) => {\n    setNewITypes({\n      ...newITypes,\n      [e.target.attributes.importanceid.nodeValue]: {\n        ...newITypes[e.target.attributes.importanceid.nodeValue],\n        weight: e.target.value\n      }\n    })\n  }\n\n  const inputChangeName = (e) => {\n    setNewITypes({\n      ...newITypes,\n      [e.target.attributes.importanceid.nodeValue]: {\n        ...newITypes[e.target.attributes.importanceid.nodeValue],\n        name: e.target.value\n      }\n    })\n  }\n\n  const onBlurWeight = (e) => {\n    const newValue = isNaN(parseFloat(e.target.value)) ? importanceTypes[e.target.attributes.importanceid.nodeValue].weight : parseFloat(e.target.value)\n    updateImportanceTypes({\n      ...newITypes,\n      [e.target.attributes.importanceid.nodeValue]: {\n        ...newITypes[e.target.attributes.importanceid.nodeValue],\n        weight: newValue\n      }\n    }, importanceTypes)\n  }\n\n  const onBlurName = (e) => {\n    const newValue = e.target.value === '' ? importanceTypes[e.target.attributes.importanceid.nodeValue].name : e.target.value\n    updateImportanceTypes({\n      ...newITypes,\n      [e.target.attributes.importanceid.nodeValue]: {\n        ...newITypes[e.target.attributes.importanceid.nodeValue],\n        name: newValue\n      }\n    }, importanceTypes)\n  }\n\n  const addNew = (e) => {\n    addImportance(importanceTypes)\n  }\n\n  const keys = Object.keys(newITypes)\n  var importanceArray = []\n  for (const key of keys) {\n    importanceArray.push(newITypes[key])\n  }\n  importanceArray = importanceArray.sort((a,b) => {\n    return b.weight - a.weight\n  })\n\n  return ( \n    <div className='m-auto w-56 mt-10'>\n      <p className=\"text-lg font-bold\">Importance Weights</p>\n      <div className=\"flex flex-col space-y-1\">\n        { importanceArray && importanceArray.map(iType => {\n          return(\n            <div key={iType.id} className=\"grid grid-cols-12\">\n              <input onBlur={onBlurName} value={iType.name} onChange={inputChangeName} importanceid={iType.id} className=\"col-span-7 formInput\"></input>\n              <input onBlur={onBlurWeight} value={iType.weight} importanceid={iType.id} onChange={inputChangeWeight} className=\"formInputSmall col-span-4 col-start-9\" />\n            </div>\n          )\n        })}\n      </div>\n      <button onClick={addNew} className=\"btn mt-2\">Add</button>\n    </div>\n   );\n}\n \nexport default ImportanceConfig;","import React, { useContext } from 'react'\nimport { FbContext } from '../../../store/contexts/fbContext';\nimport ActionConfig from './ActionConfig';\nimport ImportanceConfig from './ImportanceConfig';\n\n\nconst Config = () => {\n\n  const { weights } = useContext(FbContext)\n   \n  return ( \n    <div className=\"w-full\">\n      <div>\n        {\n          weights ? (\n            <div>\n              <ImportanceConfig importanceTypes={weights.importanceTypes} />\n              <ActionConfig actionTypes={weights.actionTypes} />\n            </div>\n          ) : null\n        }\n      </div>\n    </div>\n   );\n} \n \nexport default Config;","import moment from 'moment'\nimport * as d3module from 'd3'\nimport d3tip from 'd3-tip'\n\nconst d3 = {\n  ...d3module,\n  tip: d3tip\n}\n\n\nexport const cleanHistory = (history) => {\n  if(history && history.length > 0){\n    return buildChartData(removeDuplicates(history))\n  }else{\n    return null\n  }\n}\n\n\nconst removeDuplicates = (history) => {\n  var newHistory = []\n  newHistory.push(history[0])\n  for(var i = 1; i < history.length; i++){\n    if(history[i].score !== history[i-1].score){\n      newHistory.push(history[i])\n    }\n  }\n  return newHistory\n}\n\nconst buildChartData = (history) => {\n  var lineData = []\n  history.forEach(hist => {\n    lineData.push({\n      \"x\": moment.unix(hist.date.seconds).toDate(),\n      \"y\": hist.score\n    })\n  })\n\n  return {\n    \"lines\":[\n      {\n        \"name\": \"Score History\",\n        \"data\": lineData\n      }\n    ],\n    \"minY\":0,\n    \"xTicks\":6,\n    \"yTicks\":7,\n    \"dots\":true,\n    \"dotSize\":2\n  }\n}\n\n\nexport const dateFormatter = (d) => {\n  return moment(d).format('MM/DD/YY')\n}\n\nexport const decimalFormatter = (d) => {\n  return d.toFixed(2)\n}\n\nexport const timeOnlyFormatter = (d) => {\n  return moment(d).format('h:mm a')\n}\n\n\nconst xMinMax = (chartData) => {\n  var minX = new Date();\n  var maxX = 0\n  chartData.lines.forEach(line => {\n    line.data.forEach(point => {\n        maxX = Math.max(point.x,maxX)\n        minX = Math.min(point.x,minX)\n    })\n  });\n  return {\n    \"max\": maxX,\n    \"min\": minX\n  }\n}\n\nconst yMinMax = (chartData) => {\n  var maxY = 0\n  var minY = null\n  chartData.lines.forEach(line => {\n    line.data.forEach(point => {\n        maxY = Math.max(point.y,maxY)\n        minY = minY ? Math.min(point.y,minY) : point.y\n    })\n  });\n  minY = minY - ((maxY - minY) * 0.1)\n\n  return {\n    \"max\": maxY,\n    \"min\": minY\n  }\n}\n\n\nexport const yScaleLinear = (chartData, height) => {\n  const yRange = yMinMax(chartData)\n\n  return d3.scaleLinear()\n    .range([0,height])\n    .domain([yRange.max,yRange.min])\n}\n\nexport const xScaleTime = (chartData, width) => {\n  const xRange = xMinMax(chartData)\n\n  return d3.scaleTime()\n    .range([0,width])\n    .domain([xRange.min,xRange.max])\n}\n\n\nexport const getToolTip = () => {\n  return d3.tip()\n    .attr('class', 'tip card')\n    .html((e,d) => {\n        const xLabel = dateFormatter(d.x)\n        const yLabel = decimalFormatter(d.y)\n        const xTimeLabel = timeOnlyFormatter(d.x)\n        let content = ''\n        content += `<div class=\"score\">${yLabel}</div>`;\n        content += `<div class=\"name\">${xLabel}</div>`;\n        content += `<div class=\"cost\">${xTimeLabel}</div>`;\n        return content;\n    });\n}","import React, { useRef, useEffect, useContext } from 'react';\nimport * as d3module from 'd3'\nimport d3tip from 'd3-tip'\nimport { FbContext } from '../../store/contexts/fbContext';\nimport { cleanHistory, dateFormatter, decimalFormatter, xScaleTime, yScaleLinear, getToolTip } from '../../chartHelper'\n\nconst d3 = {\n  ...d3module,\n  tip: d3tip\n}\n\n\nconst LineChart = ({chartClass}) => {\n\n    const {history, FBuser} = useContext(FbContext)\n    var chartData = null\n\n    //clean history and add chart configs\n    chartData = cleanHistory(history)\n \n    //ref to root svg\n    const ref = useRef()\n\n\n    useEffect(() => {\n\n      //graph size\n      const graphHeight = 200\n      const graphWidth = 500\n      const margin = { top: 10, bottom: 20, left: 35, right: 20 };\n      const width = graphWidth - margin.left - margin.right;\n      const height = graphHeight - margin.top - margin.bottom;\n\n      //select root svg\n      const svg = d3.select(ref.current)\n          .attr(\"viewBox\", `0 0 ${graphWidth} ${graphHeight}`)\n          \n      //select group for graph\n      const chartArea = svg.select('.chartArea')\n          .attr('height', graphHeight)\n          .attr('class','chartArea')\n          .attr('width', graphWidth)\n          .attr(\"transform\", `translate(${margin.left},${margin.top})`);\n      \n      chartArea.selectAll('g').remove();\n\n      //add group for data points\n      const graph = chartArea\n      .append(\"g\")\n      .attr(\"transform\", `translate(-${margin.left},-${margin.top})`);\n\n      //remove all current groups within graph\n      graph.selectAll('g').remove();\n      graph.selectAll('path').remove();\n\n      if(chartData){\n\n        //create dotted line group and append to graph\n        const hoverLineGroup = graph.append('g')\n            .style('opacity',0)\n            .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n\n        //create x line and append\n        const xHoverLine = hoverLineGroup.append('line')\n        .attr('stroke','#aaa')\n        .attr('stroke-width', 1)\n        .attr('stroke-dasharray',4)\n\n        //create y line and append\n        const yHoverLine = hoverLineGroup.append('line')\n        .attr('stroke','#aaa')\n        .attr('stroke-width', 1)\n        .attr('stroke-dasharray',4)\n\n        //add group for x axis and move it to the bottom\n        const xAxisGroup = chartArea.append('g')\n            .attr('transform', `translate(0,${height})`);\n      \n        //add group for y axis\n        const yAxisGroup = chartArea.append('g')\n            .attr(\"transform\", `translate(0, 0)`)\n\n        //scales\n        const xScale = xScaleTime(chartData, width)\n        const yScale = yScaleLinear(chartData, height)\n\n        //d3 line path generator\n        const pathGenerator = d3.line()\n          .x(function(d){ return xScale(d.x) })\n          .y(function(d){ return yScale(d.y) })\n\n\n        //build each line dynamically\n        chartData.lines.forEach(line => {\n\n          //tooltip\n          const ttip = getToolTip()\n          graph.call(ttip);\n\n          const path = graph.append('path')\n              .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n\n          //add circles\n          const circs = graph.selectAll('circle.' + line.name)\n              .data(line.data)\n              \n          const circSize = chartData.dotSize ? chartData.dotSize : 5\n\n          //remove exit selction for circles\n          circs.exit().remove()\n\n          //update current circs\n          circs.attr('r', circSize)\n              .attr('fill', 'black')\n              .attr('cx', d => xScale(d.x))\n              .attr('cy', d => yScale(d.y))\n              .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n              .on('mouseover', ttip.show)\n              .on('mouseout', ttip.hide)\n\n\n\n          //append the enter selection to the DOM\n          circs.enter()\n              .append('circle')\n              .attr('fill', 'black')\n              .attr('cx', d => xScale(d.x))\n              .attr('cy', d => yScale(d.y))\n              .attr('r', circSize)\n              .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n              .attr('opacity',1)\n              .on('mouseover.tip', ttip.show)\n              .on('mouseover.lines', (e,d) => {\n              xHoverLine\n                  .attr('x1',xScale(d.x))\n                  .attr('x2',xScale(d.x))\n                  .attr('y1',yScale(d.y))\n                  .attr('y2',height)\n\n              yHoverLine\n                  .attr('x1',0)\n                  .attr('x2',xScale(d.x))\n                  .attr('y1',yScale(d.y))\n                  .attr('y2',yScale(d.y))\n\n              hoverLineGroup.style('opacity', 1)\n              })\n              .on('mouseout.tip', ttip.hide)\n              .on('mouseout.lines', (e,d) => {\n                  hoverLineGroup.style('opacity', 0)\n              })\n          \n              const pathLength = path.node().getTotalLength();\n\n          // update path data\n          path.data([line.data])\n              .attr('fill', 'none')\n              .attr('stroke', 'black')\n              .attr('stroke-width', 2)\n              .attr('d', pathGenerator)\n              .style('opacity',0.75)\n              .attr(\"stroke-dasharray\", pathLength + \" \" + pathLength)\n\n        \n\n        })\n\n        const xTicks = chartData.xTicks ? chartData.xTicks : 5\n        const yTicks = chartData.yTicks ? chartData.yTicks : 5\n\n        //axis label formatting functions\n        var xFormat = chartData ? dateFormatter : (d) => d\n        var yFormat = chartData ? decimalFormatter : (d) => d\n\n        //create and call the axes\n        const xAxis = d3.axisBottom(xScale)\n            .tickFormat(d => xFormat(d))\n            .ticks(xTicks)\n\n        const yAxis = d3.axisLeft(yScale)\n            .tickFormat(d => yFormat(d))\n            .ticks(yTicks)\n\n\n        xAxisGroup.call(xAxis)\n            .attr('class','chartAxis')\n        yAxisGroup.call(yAxis)\n            .attr('class','chartAxis')\n\n      }\n    }, [FBuser, chartData])\n\n    return (\n        <div className=\"flex justify-center\">\n          <div className={chartClass + ' w-full'}>\n              <svg ref={ref}>\n                  <g className=\"chartArea\">\n\n                  </g>\n              </svg>\n          </div>\n        </div>\n    )\n  }\n \nexport default LineChart;","import React, { useContext, useEffect, useState } from 'react'\nimport { FbContext } from '../../store/contexts/fbContext';\nimport { logHistory } from '../../store/actions'\nimport LineChart from './LineChart'\n\nconst TotalScore = () => {\n\n  const { items, oneOffs, weights, FBuser } = useContext(FbContext)\n  const oneOffWeight = weights ? weights.oneOff : 0;\n  const [totalScore, setTotalScore] = useState(0)\n  const [showChart, setShowChart] = useState(false)\n\n  const chartClass = showChart ? 'block' : 'hidden'\n\n  useEffect(() => {\n   var newScore = 0\n   var hydrated = false;\n    if(items && oneOffs){\n      for(var i = 0; i < items.length; i++){\n        newScore += items[i].score\n      }\n      if(newScore > 0) hydrated = true;\n      newScore = newScore + (oneOffs.length * oneOffWeight)\n    }\n\n\n    if(newScore !== totalScore && items && oneOffs && hydrated && FBuser){\n      logHistory(newScore)\n    }\n\n    setTotalScore(newScore)\n  }, [items, oneOffs, oneOffWeight, totalScore, FBuser])\n\n  const toggleChart = (e) => {\n    setShowChart(!showChart)\n  }\n\n  return ( \n    <div className=\"my-5\">\n      <div className=\"flex justify-center space-x-1\">\n        <h1 className=\"text-center text-4xl scoreLabel\">{ totalScore.toFixed(2) }</h1>\n        <svg onClick={toggleChart} className=\"w-5 cursor-pointer\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z\" />\n        </svg>\n      </div>\n      <LineChart chartClass={chartClass} />\n    </div>\n   );\n}\n \nexport default TotalScore;","import React, { useContext } from 'react';\nimport { FbContext } from '../../store/contexts/fbContext';\nconst interpolate = require('color-interpolate');\n\nconst ImportanceIcon = ({importance}) => {\n\n  const { weights } = useContext(FbContext)\n  const importances = weights ? weights.importanceArray : null\n\n  // const colors = interpolate([[0, 255, 0],[127,255,0],[255,255,0],[255,127,0],[255,0,0]])\n  const colors = interpolate([[255, 255, 255],[255,0,0]])\n  var color = colors(0)\n  const totalImportances = importances.length\n\n  const sortedImportances = importances.sort((a,b) => {\n    return a.weight - b.weight\n  })\n  \n  var numberOfDots = 1;\n  for(var i = 1; i <= sortedImportances.length; i++){\n    if(sortedImportances[i-1].id === importance){\n      numberOfDots = i;\n      color = colors((i-1)/(totalImportances-1))\n    }\n  }\n\n  \n\n  var dots = []\n  for (let i = 1; i <= numberOfDots; i++) {\n    dots.push(i);\n  }\n\n\n  return ( \n    <div className=\"flex\">\n      { dots && dots.map(dot => {\n        return(\n          <div className=\"h-3 w-3\" key={dot}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"black\" strokeWidth=\"1\" fill={color} />\n            </svg>\n          </div>\n        )\n      })}\n    </div>\n   );\n}\n \nexport default ImportanceIcon;","import React, { useContext } from 'react'\nimport { ModalContext } from '../../store/contexts/modalContext'\nimport ImportanceIcon from '../icons/ImportanceIcon'\n\n\nconst ProjectListItem = ({proj, weights}) => {\n\n  const { modalDispatch } = useContext(ModalContext)\n\n  const click = (e) => {\n    modalDispatch({type: 'SHOW_PROJECT_SHEET', projectID: proj.id})\n  }\n\n  return ( \n    <div onClick={click} className=\"transform hover:scale-110 transition ease-out duration-300 flex justify-between whitespace-nowrap px-2 space-x-2 text-white bg-black rounded-lg cursor-pointer\">\n      <p className=\"overflow-hidden overflow-ellipsis\">{proj.totalScore.toFixed(2)} - {proj.name}</p>\n      <div className=\"self-center\">\n        <ImportanceIcon importance={proj.importance} importances={weights.importanceArray} />\n      </div>\n    </div>\n   );\n}\n \nexport default ProjectListItem;","import React from 'react'\n\n\nconst PlusIcon = () => {\n  return ( \n    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n    </svg>\n   );\n}\n \nexport default PlusIcon;","import React, { useContext } from 'react'\nimport { FbContext } from '../../store/contexts/fbContext';\nimport ProjectListItem from './ProjectListItem';\nimport PlusIcon from '../icons/PlusIcon'\nimport { ModalContext } from '../../store/contexts/modalContext';\n\nconst ProjectList = () => {\n\n  const { projects, items, weights } = useContext(FbContext)\n  const { modalDispatch } = useContext(ModalContext)\n\n  var newProjects = [];\n  if(projects && items){\n    newProjects = projects.map(proj => {\n      const itemsInProj = items.filter(item => {\n        if(!item.project) return false\n        return item.project.id === proj.id\n      })\n      var projScore = 0;\n      itemsInProj.forEach(item => projScore += item.score)\n      return {...proj, totalScore: projScore}\n    })\n  }\n\n  newProjects.sort((a,b) => {\n    return b.totalScore - a.totalScore\n  })\n\n  const addProject = (e) => {\n    modalDispatch({type: 'SHOW_PROJECT_SHEET', projectID: null})\n  }\n  \n\n  return ( \n    <div className=\"m-auto w-60 mt-10\">\n      <div className=\"flex space-x-1\">\n        <p className='self-center text-xl font-bold'>Projects</p>\n        <div onClick={addProject} className=\"self-center w-8 h-8 cursor-pointer\">\n          <PlusIcon />\n        </div>\n      </div>\n      <div className=\"flex flex-col space-y-1\">\n        { newProjects && newProjects.map(proj => {\n          return (\n            <ProjectListItem key={proj.id} proj={proj} weights={weights} />\n          )\n        })}\n      </div>\n    </div>\n   );\n}\n \nexport default ProjectList;","import React, { useState } from 'react'\nimport AddItem from './AddItem'\nimport Login from '../auth/Login'\nimport OneOffs from './OneOffs/OneOffs'\nimport Config from './todoConfig/Config'\nimport TotalScore from './TotalScore'\nimport ProjectList from './ProjectList'\n\n\nconst LeftBar = () => {\n\n  const [showConfig, setShowConfig] = useState(false)\n\n  const click = (e) => {\n    setShowConfig(!showConfig)\n  }\n\n  return ( \n    <div className=\"col-span-3 h-screen overflow-hidden\" >\n      <div className=\"h-full overflow-scroll hideBar pb-10\">\n        <Login />\n        <AddItem />\n        <TotalScore />\n        <OneOffs />\n        <ProjectList />\n        <p className=\"mt-10 cursor-pointer underline m-auto w-56\" onClick={click}>{showConfig ? 'Hide Config' : 'Show Config'}</p>\n        { showConfig ? (\n          <div>\n            <Config />\n          </div>\n        ) : null}\n      </div>\n    </div>\n   );\n}\n \nexport default LeftBar;","\nexport const filterReducer = (state, action) => {\n  switch(action.type){\n    case 'SETUP_IMPORTANCE_FILTERS':\n      var importanceFilters = {}\n      action.importances.forEach(importance => {\n        importanceFilters[importance.id] = true\n      })\n      return{\n        ...state,\n        importanceFilters\n      }\n    case 'SET_IMPORTANCE_FILTER':\n      return{\n        ...state,\n        importanceFilters:{\n          ...state.importanceFilters,\n          [action.importance]: action.value\n        }\n      }\n    case 'ALL_IMPORTANCE':\n      var newImportanceFilters = {}\n      const ikeys = Object.keys(action.importances)\n      for (const key of ikeys) {\n        newImportanceFilters[key] = action.value\n      }\n      return{\n        ...state,\n        importanceFilters: newImportanceFilters\n      }\n    case 'SET_ACTION_FILTER':\n      return{\n        ...state,\n        actionFilters:{\n          ...state.actionFilters,\n          [action.actionType]: action.value\n        }\n      }\n    case 'ALL_ACTION':\n      var newActionFilters = {}\n      const akeys = Object.keys(action.actionTypes)\n      for (const key of akeys) {\n        newActionFilters[key] = action.value\n      }\n      return{\n        ...state,\n        actionFilters: newActionFilters\n      }\n    case 'SET_DAY_FILTER':\n      return{\n        ...state,\n        dayFilter: action.value\n      }\n    default: \n      return state\n  }\n}","import React, { useReducer } from \"react\";\nimport { filterReducer } from '../reducers/filterReducer'\n\n\nexport const FilterContext = React.createContext();\n\n\nexport const FilterContextProvider = ({ children }) => {\n\n\n  const [filterData, filterDispatch] = useReducer(filterReducer, {\n    dayFilter: 'all'\n  });\n\n\n  return (\n    <FilterContext.Provider value={{ filterData, filterDispatch }}>{children}</FilterContext.Provider>\n  );\n};\n\n","import React, { useContext } from 'react'\nimport moment from 'moment'\nimport ImportanceIcon from '../icons/ImportanceIcon'\nimport { ModalContext } from '../../store/contexts/modalContext'\n\n\nconst ItemCardData = ({item}) => {\n\nconst { modalDispatch } = useContext(ModalContext)\n\nconst expectedUpdate = item.expectedUpdate ? moment.unix(item.expectedUpdate.seconds).format('MM/DD/YY') : null\n\nconst itemClick = (e) => {\n  modalDispatch({type: 'SHOW_SHEET', itemID: item.id})\n}\n\nconst projectClick = (e) => {\n  modalDispatch({type: 'SHOW_PROJECT_SHEET', projectID: item.projectID})\n}\n\n  return ( \n    <div className={'border-2 border-black my-2 w-full self-center grid grid-cols-12 '}>\n      <div onClick={projectClick} className='hover:bg-opacity-50 mainInfo flex flex-col col-span-4 p-2 bg-black text-white'>\n        <p className='text-xs'>{item.score ? item.score.toFixed(2) : 0}</p>\n        <p className='text-xl'>{item.project ? item.project.name : ''}</p>\n        {/* <p className='text-xs'>{item.importanceName}</p> */}\n        <ImportanceIcon importance={item.project ? item.project.importance : 3} />\n        <p className='text-sm'>{item.project ? item.project.description : ''}</p>\n      </div>\n      <div onClick={itemClick} className={\"hover:bg-opacity-75 col-span-8 p-2 \" + item.colorClass}>\n        <p className='text-xl'>{item.actionTypeName}</p>\n        <p className='text-sm'>{expectedUpdate}</p>\n        <p className='text-base'>{item.action}</p>\n      </div>\n    </div>\n   );\n}\n \nexport default ItemCardData;","import React, { useContext } from 'react'\nimport moment from 'moment'\nimport { ModalContext } from '../../store/contexts/modalContext'\n\n\nconst ItemCardProject = ({item}) => {\n\nconst { modalDispatch } = useContext(ModalContext)\n\nconst expectedUpdate = item.expectedUpdate ? moment.unix(item.expectedUpdate.seconds).format('MM/DD/YY') : null\n\nconst click = (e) => {\n  modalDispatch({type: 'SHOW_SHEET', itemID: item.id})\n}\n\n  return ( \n    <div onClick={click} className={'border-2 border-black my-2 w-full self-center grid grid-cols-12 '}>\n      <div className='mainInfo justify-center flex flex-col col-span-2 p-2 bg-black text-white'>\n        <p className='text-xl self-center'>{item.score ? item.score.toFixed(2) : 0}</p>\n      </div>\n      <div className={\"col-span-10 p-2 \" + item.colorClass}>\n        <p className='text-xl'>{item.actionTypeName}</p>\n        <p className='text-sm'>{expectedUpdate}</p>\n        <p className='text-base'>{item.action}</p>\n      </div>\n    </div>\n   );\n}\n \nexport default ItemCardProject;","import React from 'react'\nimport ItemCardData from './ItemCardData'\nimport ItemCardProject from './ItemCardProject'\n\nconst ItemCardContainer = ({item, showProject}) => {\n\n  return ( \n    <div className='cursor-pointer'>\n      { showProject ? (\n        <ItemCardData item={item} />\n      ): (\n        <ItemCardProject item={item} />\n      )}\n    </div>\n   );\n}\n \nexport default ItemCardContainer;","import moment from 'moment';\nimport React, { useContext } from 'react'\nimport { FbContext } from '../../store/contexts/fbContext';\nimport { FilterContext } from '../../store/contexts/filterContext';\nimport ItemCardContainer from '../itemCards/ItemCardContainer';\n\n\nconst CardCollection = () => {\n\n  const { items } = useContext(FbContext)\n  const { filterData } = useContext(FilterContext)\n\n  var sortedItems = items ? items.sort((a,b) => {\n    if(a.expectedUpdate === null) return 1\n    if(b.expectedUpdate === null) return -1\n    return b.score - a.score\n  }) : null;\n\n  if(filterData && filterData.importanceFilters && sortedItems){\n    const importanceFilters = filterData.importanceFilters\n    sortedItems = sortedItems.filter(item => {\n      if(importanceFilters[item.project.importance] === undefined) return true\n      return importanceFilters[item.project.importance]\n    })\n  }\n\n  if(filterData && sortedItems){\n    if(filterData.dayFilter === 'today'){\n      sortedItems = sortedItems.filter(item => {\n        return moment.unix(item.expectedUpdate.seconds).startOf('day').isSameOrBefore(moment().startOf('day'))\n      })\n    }else if(filterData.dayFilter === 'nextThree'){\n      sortedItems = sortedItems.filter(item => {\n        return moment.unix(item.expectedUpdate.seconds).startOf('day').isSameOrBefore(moment().add(3,'days').startOf('day'))\n      })\n    }else if(filterData.dayFilter === 'overdue'){\n      sortedItems = sortedItems.filter(item => {\n        return moment.unix(item.expectedUpdate.seconds).startOf('day').isBefore(moment().startOf('day'))\n      })\n    }\n  }\n\n  if(filterData && filterData.actionFilters && sortedItems){\n    const actionFilters = filterData.actionFilters\n    sortedItems = sortedItems.filter(item => {\n      if(actionFilters[item.actionType] === undefined) return true\n      return actionFilters[item.actionType]\n    })\n  }\n\n\n  return ( \n    <div className='flex flex-col w-full col-span-6 col-start-4 p-2 h-screen overflow-hidden'>\n      <div className=\"overflow-scroll h-full hideBar\">\n        { sortedItems && sortedItems.map(item => {\n          return <ItemCardContainer showProject={true} key={item.id} item={item} />\n        })}\n      </div>\n    </div>\n   );\n}\n \nexport default CardCollection;","import React, { useContext } from 'react'\nimport { FbContext } from '../../store/contexts/fbContext'\nimport { FilterContext } from '../../store/contexts/filterContext'\n\n\nconst ActionTypeFilter = () => {\n\n  const { weights } = useContext(FbContext)\n  const { filterData, filterDispatch } = useContext(FilterContext)\n\n\n  var filters = []\n  if(weights){\n    weights.actionTypeArray.forEach(aType => {\n      filters.push({\n        id: aType.id,\n        name: aType.name\n      })\n    })\n  }else{\n    return null\n  }\n\n\n  const onCheck = (e) => {\n    filterDispatch({type: 'SET_ACTION_FILTER', actionType: e.target.id, value: e.target.checked})\n  }\n\n  const selectAll = (e) => {\n    filterDispatch({type: 'ALL_ACTION', value: true, actionTypes: weights.actionTypes})\n  }\n\n  const deSelectAll = (e) => {\n    filterDispatch({type: 'ALL_ACTION', value: false, actionTypes: weights.actionTypes})\n  }\n\n  return ( \n    <div className=\"mt-5\">\n      <p className=\"text-xl font-bold\">Filter Action Type</p>\n      <div className=\"flex flex-col\">\n        { filters.map(filt => {\n          return(\n            <div className=\"flex space-x-1\" key={filt.id}>\n              <input className=\"self-center\" id={filt.id} onChange={onCheck} checked={!filterData.actionFilters || filterData.actionFilters[filt.id] === undefined ? true : filterData.actionFilters[filt.id]} type=\"checkbox\" />\n              <label className=\"self-center\">{filt.name}</label>\n            </div>\n          )\n        })}\n      </div>\n      <div className=\"flex space-x-2\">\n        <button className=\"btn mt-2\" onClick={selectAll}>Select All</button>\n        <button className=\"btn mt-2\" onClick={deSelectAll}>De-select All</button>\n      </div>\n    </div>\n   );\n}\n \nexport default ActionTypeFilter;","import React, { useContext, useEffect, useState } from 'react'\nimport { FilterContext } from '../../store/contexts/filterContext'\n\n\nconst DayFilter = () => {\n\n  const { filterData, filterDispatch } = useContext(FilterContext)\n  const [value, setValue] = useState('all')\n\n  useEffect(() => {\n    if(filterData){\n      setValue(filterData.dayFilter)\n    }\n  }, [filterData])\n\n  const change = (e) => {\n    filterDispatch({type: 'SET_DAY_FILTER', value: e.target.value})\n  }\n\n  const filterTypes = [\n    {name:\"dateFilter\", value:\"all\", label:\"All\"},\n    {name:\"dateFilter\", value:\"today\", label:\"Today\"},\n    {name:\"dateFilter\", value:\"nextThree\", label:\"Next 3 Days\"},\n    {name:\"dateFilter\", value:\"overdue\", label:\"Overdue\"}\n  ]\n\n  return ( \n    <div className=\"mt-5\">\n      <p className=\"text-xl font-bold\">Filter Date</p>\n      <div>\n        { filterTypes.map(filt => {\n          return (\n            <div key={filt.value} className=\"flex space-x-1\">\n              <input className=\"self-center\" onChange={change} type=\"radio\" name={filt.name} value={filt.value} id={filt.value} checked={value === filt.value}></input>\n              <label className=\"self-center\">{filt.label}</label>\n            </div>\n          )\n        })}\n      </div>\n    </div>\n   );\n}\n \nexport default DayFilter;","import React, { useContext } from 'react';\nimport { FbContext } from '../../store/contexts/fbContext';\nimport { FilterContext } from '../../store/contexts/filterContext';\n\n\n\nconst ImportanceFilters = () => {\n\n  const { weights } = useContext(FbContext)\n  const { filterDispatch, filterData } = useContext(FilterContext)\n  var filters = []\n\n\n  if(weights){\n    weights.importanceArray.forEach(importance => {\n      filters.push({\n        id: importance.id,\n        name: importance.name,\n        weight: importance.weight\n      })\n    })\n    filters = filters.sort((a,b) => {\n      return b.weight - a.weight\n    })\n  }else{\n    return null\n  }\n\n  const onCheck = (e) => {\n    filterDispatch({type: 'SET_IMPORTANCE_FILTER', importance: e.target.id, value: e.target.checked})\n  }\n\n  const selectAll = (e) => {\n    filterDispatch({type: 'ALL_IMPORTANCE', value: true, importances: weights.importanceTypes})\n  }\n\n  const deSelectAll = (e) => {\n    filterDispatch({type: 'ALL_IMPORTANCE', value: false, importances: weights.importanceTypes})\n  }\n\n\n  return ( \n    <div>\n      <p className=\"text-xl font-bold\">Filter Importance</p>\n      <div className=\"flex flex-col\">\n        { filters.map(filt => {\n          return(\n            <div className=\"flex space-x-1\" key={filt.id}>\n              <input className=\"self-center\" id={filt.id} onChange={onCheck} checked={!filterData.importanceFilters || filterData.importanceFilters[filt.id] === undefined ? true : filterData.importanceFilters[filt.id]} type=\"checkbox\" />\n              <label className=\"self-center\">{filt.name}</label>\n            </div>\n          )\n        })}\n      </div>\n      <div className=\"flex space-x-2\">\n        <button className=\"btn mt-2\" onClick={selectAll}>Select All</button>\n        <button className=\"btn mt-2\" onClick={deSelectAll}>De-select All</button>\n      </div>\n    </div>\n   );\n}\n \nexport default ImportanceFilters;","import React, { useContext } from 'react';\nimport { FbContext } from '../../store/contexts/fbContext';\nimport { FilterContext } from '../../store/contexts/filterContext';\nimport ActionTypeFilter from './ActionTypeFilter';\nimport DayFilter from './DayFilter';\nimport ImportanceFilters from './ImportanceFilters';\n\nconst RightBar = () => {\n\n  const { weights } = useContext(FbContext)\n  const { filterDispatch } = useContext(FilterContext)\n  const importances = weights ? weights.importanceTypes : {}\n  const actionTypes = weights ? weights.actionTypes : {}\n\n\n  const removeAllFilters = (e) => {\n    filterDispatch({type: 'ALL_IMPORTANCE', value: true, importances})\n    filterDispatch({type: 'ALL_ACTION', value: true, actionTypes})\n    filterDispatch({type: 'SET_DAY_FILTER', value: 'all'})\n  }\n\n\n  return ( \n    <div className=\"col-span-3 p-5 h-screen overflow-hidden\">\n      <ImportanceFilters />\n      <DayFilter />\n      <ActionTypeFilter />\n      <button onClick={removeAllFilters} className=\"importantBtn mt-10\">Remove All Filters</button>\n    </div>\n   );\n}\n \nexport default RightBar;","import React from 'react'\nimport LeftBar from './leftBar/LeftBar'\nimport CardCollection from './centerColumn/CardCollection'\nimport RightBar from './rightBar/RightBar'\n\nconst Main = () => {\n\n  return ( \n    <div className=\"grid grid-cols-12\">\n      <LeftBar />\n      <CardCollection />\n      <RightBar />\n    </div>\n   );\n}\n \nexport default Main;","import React from 'react'\nimport TextareaAutosize from 'react-textarea-autosize';\n\n\nconst EditDescription = ({value, change}) => {\n\n  return ( \n    <div className=\"mt-2\">\n      <p>Description</p>\n      <TextareaAutosize id='description' onChange={change} className={'focus:outline-none border-2 border-black '} value={value}></TextareaAutosize>\n    </div>\n   );\n}\n \nexport default EditDescription;","import React, { useContext } from 'react'\nimport { FbContext } from '../../../store/contexts/fbContext';\n\n\nconst EditImportance = ({value, change}) => {\n\n  const { weights } = useContext(FbContext)\n\n  var importances = weights ? weights.importanceArray : null\n  if(importances){\n    importances = importances.sort((a,b) => {\n      return b.weight - a.weight\n    })\n  }\n\n  return ( \n    <div className=\"mt-2\">\n      <p>Importance</p>\n      <select className='border-2 border-black' id='importance' onChange={change} value={value}>\n      { importances && importances.map(importance => {\n        return(\n          <option key={importance.id} value={importance.id}>{importance.name}</option>\n        )\n      })}\n      </select>\n    </div>\n   );\n}\n \nexport default EditImportance;","import React from 'react'\n\n\nconst EditName = ({value, change}) => {\n  return ( \n    <div>\n      <p>Name</p>\n      <input className='formInput' onChange={change} id='name' value={value}></input>\n    </div>\n   );\n}\n \nexport default EditName;","\nfunction useItemsInProject(project, items, isNew) {\n\n  if(isNew) return null\n\n  if(project && items){\n    return items.filter(item => {\n      return item.projectID === project.id\n    })\n  }else{\n    return null\n  }\n\n}\n\nexport default useItemsInProject","import React, { useContext, useState, useEffect } from 'react'\nimport { FbContext } from '../../../store/contexts/fbContext';\nimport EditDescription from './EditDescription';\nimport EditImportance from './EditImportance';\nimport EditName from './EditName';\nimport { deleteProject, updateProject, addProject } from '../../../store/actions'\nimport useItemsInProject from '../../../hooks/useItemsInProject'\nimport ItemCardContainer from '../../itemCards/ItemCardContainer';\nimport ExitIcon from '../../icons/ExitIcon';\nimport PlusIcon from '../../icons/PlusIcon';\nimport { ModalContext } from '../../../store/contexts/modalContext';\n\nconst ProjectEditModal = () => {\n\n\n  const { projects, items } = useContext(FbContext)\n  const { modalStatus, modalDispatch } = useContext(ModalContext)\n\n  const [newProject, setNewProject] = useState({\n    name: '',\n    description:'',\n    importance: 3\n  })\n\n  const [changed, setChanged] = useState(false)\n\n  const [isNew, setNew] = useState(true)\n\n  const itemsInProj = useItemsInProject(newProject, items, isNew)\n\n  useEffect(() => {\n    if(modalStatus && modalStatus.projectID){\n      if(projects){\n        setNewProject(projects.filter(proj => {return proj.id === modalStatus.projectID})[0])\n        setNew(false)\n      }else{\n        setNew(true)\n      }\n    }\n  }, [modalStatus, projects])\n\n\n  useEffect(() => {\n    if(newProject.name === ''){\n      setChanged(false)\n    }else{\n      setChanged(true)\n    }\n  },[newProject.name])\n\n\n\n  const change = (e) => {\n    setNewProject({\n      ...newProject,\n      [e.target.id]: e.target.value\n    })\n  }\n\n  const deleteClicked = (e) => {\n    if(window.confirm('Are you sure you want to delete? Deleting this project will also delete all of your actions under the project.') === true){\n      deleteProject(newProject.id)\n      modalDispatch({type:'HIDE_PROJECT_SHEET'})\n    }\n  }\n\n  const doneClick = (e) => {\n    if(!changed) return\n    updateProject(newProject)\n    modalDispatch({type:'HIDE_PROJECT_SHEET'})\n  }\n\n  const addClick = (e) => {\n    if(!changed) return\n    addProject(newProject)\n    modalDispatch({type:'HIDE_PROJECT_SHEET'})\n  }\n\n  const exitClick = (e) => {\n    modalDispatch({type:'HIDE_PROJECT_SHEET'})\n  }\n\n  const addItem = (e) => {\n    modalDispatch({type: 'SHOW_SHEET', itemProjectID: newProject.id})\n  }\n\n\n  return ( \n    <div className=\"relative overflow-scroll bg-white h-5/6 w-1/2 mt-10 p-5\">\n      <div onClick={exitClick} className=\"h-10 w-10 absolute top-0 right-0\">\n        <ExitIcon />\n      </div>\n      { isNew ? (\n        <p className=\"text-xl font-bold\">New Project</p>\n      ):(\n        <p className=\"text-xl font-bold\">Edit Project</p>\n      )}\n      <EditName value={newProject.name} change={change} />\n      <EditDescription value={newProject.description} change={change} />\n      <EditImportance value={newProject.importance} change={change} />\n      {\n        isNew ? (\n          <div className=\"flex space-x-2 mt-5\">\n            <button onClick={addClick} className={changed ? \"doneBtn\" : 'inactiveBtn'}>Add</button>\n          </div>\n        ) : (\n          <div>\n            <div className=\"flex space-x-2 mt-5\">\n              <button onClick={doneClick} className={changed ? \"doneBtn\" : \"inactiveBtn\"}>Save</button>\n              <button onClick={deleteClicked} className=\"importantBtn\">Delete</button>\n            </div>\n            <div>\n            </div>\n          </div>\n        )\n      }\n      { isNew ? null : (\n        <div>\n          <div className=\"flex space-x-1 mt-10\">\n            <p className=\"text-xl font-bold self-center\">Actions In Project</p>\n            <div onClick={addItem} className=\"w-8 h-8 cursor-pointer self-center\">\n              <PlusIcon />\n            </div>\n          </div>\n          { itemsInProj && itemsInProj.map(item => {\n            return(\n              <ItemCardContainer showProject={false} key={item.id} item={item} />\n            )\n          })}\n        </div>\n      )}\n    </div>\n   );\n}\n \nexport default ProjectEditModal;","import React, { useContext } from 'react'\nimport { ModalContext } from '../../../store/contexts/modalContext'\nimport ProjectEditModal from './ProjectEditModal'\n\nconst ProjectEditSheet = () => {\n\n  const { modalStatus, modalDispatch } = useContext(ModalContext)\n\n  const onClick = (e) => {\n    if(e.target.id === 'project-bg'){\n      modalDispatch({type:'HIDE_PROJECT_SHEET'})\n    }\n  }\n\n  if(modalStatus.showProjectSheet === false){\n    return null\n  }\n\n\n  return ( \n    <div onClick={onClick} id=\"project-bg\" className='flex justify-center w-screen h-screen bg-gray-400 bg-opacity-40 fixed inset-0'>\n      <ProjectEditModal />\n    </div>\n   );\n}\n \nexport default ProjectEditSheet;","import { useEffect, useContext } from 'react'\nimport { ModalContext } from '../store/contexts/modalContext'\n\n\nconst EscDetect = () => {\n\n  const { modalStatus, modalDispatch } = useContext(ModalContext)\n\n  useEffect(() => {\n\n    const keyEvent = (e) => {\n      if(e.code === \"Escape\"){\n        if(modalStatus.showSheet){\n          modalDispatch({type:'HIDE_SHEET'})\n        }else if(modalStatus.showProjectSheet){\n          modalDispatch({type:'HIDE_PROJECT_SHEET'})\n        }\n      }\n    }\n\n    document.addEventListener(\"keyup\", keyEvent);\n\n    return(() => {\n      document.removeEventListener(\"keyup\", keyEvent);\n    })\n  })\n\n  return null\n}\n \nexport default EscDetect;","import EditSheet from \"./components/modals/EditSheet/EditSheet\";\nimport { FbProvider } from './store/contexts/fbContext.js'\nimport Main from \"./components/Main\";\nimport ProjectEditSheet from \"./components/modals/projectEdit/ProjectEditSheet\";\nimport EscDetect from \"./components/EscDetect\";\nimport { FilterContextProvider } from \"./store/contexts/filterContext\";\nimport { ModalProvider } from \"./store/contexts/modalContext\";\n\n\n\nfunction App() {\n  return (\n    <FbProvider>\n      <FilterContextProvider>\n        <ModalProvider>\n          <div className=\"App\">\n            <Main />\n            <ProjectEditSheet />\n            <EditSheet />\n            <EscDetect />\n          </div>\n        </ModalProvider>\n      </FilterContextProvider>\n    </FbProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/tailwind.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}