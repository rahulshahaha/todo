(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{175:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c.n(a),s=c(24),r=c.n(s),i=(c(82),c(12)),o=c.n(i),l=c(4),d=c(6),u=c(33);c(178),c(85),c(176);u.a.initializeApp({apiKey:"AIzaSyCSu3ggsS66Mo1OullwbFJIg9mibC9E9wY",authDomain:"todo-8303f.firebaseapp.com",projectId:"todo-8303f",storageBucket:"todo-8303f.appspot.com",messagingSenderId:"928128254937",appId:"1:928128254937:web:a3f32fafc7ca5ba6c40fc8"}),u.a.firestore();var j=u.a,b=function(e){if(null===e)return 0;var t=o.a.unix(e.seconds).startOf("days"),c=o()().startOf("days"),a=o()(t),n=o()(c),s=1,r=[!1,!0,!0,!0,!0,!0,!1],i=0;if(t.isSame(c))return 0;for(t.isBefore(c)&&(n=o()(t),a=o()(c),s=-1);!n.isSame(a);)n.add(1,"d"),r[n.day()]&&i++;return i*s},p=function(e){if(null===e.expectedUpdate)return"bg-white";var t=o()(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate())),c=o.a.unix(e.expectedUpdate.seconds);return c.isBefore(t)&&5!==e.actionType&&6!==e.actionType?"bg-red-600 text-white":!c.isSame(t)||1!==e.actionType&&4!==e.actionType?!c.isSame(t)||2!==e.actionType&&3!==e.actionType?1===e.actionType||4===e.actionType?"bg-purple-300":2===e.actionType||3===e.actionType?"bg-gray-400":"bg-white":"bg-gray-600 text-white":"bg-purple-700 text-white"},f=c(74),h=c(26),x=c(14),O=function(e,t){switch(t.type){case"SHOW_SHEET":return Object(l.a)(Object(l.a)({},e),{},{showSheet:!0,itemID:t.itemID});case"HIDE_SHEET":return Object(l.a)(Object(l.a)({},e),{},{showSheet:!1,itemID:null});case"SET_IMPORTANCE_FILTER":return Object(l.a)(Object(l.a)({},e),{},{importanceFilters:Object(l.a)(Object(l.a)({},e.importanceFilters),{},Object(x.a)({},t.importance,t.value))});case"ALL_IMPORTANCE":return Object(l.a)(Object(l.a)({},e),{},{importanceFilters:{1:t.value,2:t.value,3:t.value}});case"SET_ACTION_FILTER":return Object(l.a)(Object(l.a)({},e),{},{actionFilters:Object(l.a)(Object(l.a)({},e.actionFilters),{},Object(x.a)({},t.actionType,t.value))});case"ALL_ACTION":return Object(l.a)(Object(l.a)({},e),{},{actionFilters:{1:t.value,2:t.value,3:t.value,4:t.value,5:t.value,6:t.value}});case"SET_DAY_FILTER":return Object(l.a)(Object(l.a)({},e),{},{dayFilter:t.value});default:return e}},m=function(e){for(var t=[],c=0,a=Object.keys(e);c<a.length;c++){var n=a[c];t.push(e[n])}return t=t.sort((function(e,t){return e.id-t.id})),t},v=function(e){for(var t=[],c=0,a=Object.keys(e);c<a.length;c++){var n=a[c];t.push(e[n])}return t=t.sort((function(e,t){return e.id-t.id})),t},g=c(1),y=n.a.createContext(),N=function(e){var t=e.children,c=Object(f.a)(j.auth()),n=Object(d.a)(c,1)[0],s=n?n.uid:null,r=Object(a.useReducer)(O,{showSheet:!1,itemID:null,importanceFilters:{1:!0,2:!0,3:!0},dayFilter:"all",actionFilters:{1:!0,2:!0,3:!0,4:!0,5:!0,6:!0}}),i=Object(d.a)(r,2),o=i[0],u=i[1],x=Object(h.a)(j.firestore().collection("users/"+s+"/oneOffs").where("done","==",!1),{idField:"id"}),N=Object(d.a)(x,1)[0],w=Object(h.b)(j.firestore().collection("users").doc("/"+s),{transform:function(e){return function(e){return e.importanceArray=m(e.importanceTypes),e.actionTypeArray=v(e.itemTypes),e}(JSON.parse(e.weights))}}),k=Object(d.a)(w,1)[0],T=Object(h.a)(j.firestore().collection("users/"+s+"/items").where("deleted","==",!1),{idField:"id",transform:function(e){return function(e,t){if(t&&e){var c=t.importanceArray.filter((function(t){return t.id===e.importance}))[0],a=t.actionTypeArray.filter((function(t){return t.id===e.actionType}))[0],n=b(e.expectedUpdate),s=e.expectedUpdate?Math.max(0,1*c.weight*a.weight-n*t.dayDrop):0,r=p(e);return Object(l.a)(Object(l.a)({},e),{},{importanceName:c.name,importanceWeight:c.weight,actionTypeName:a.name,actionTypeWeight:a.weight,daysTo:n,score:s,colorClass:r})}return e}(Object(l.a)(Object(l.a)({},e),{},{score:0}),k)}}),C=Object(d.a)(T,1)[0],F=Object(h.a)(j.firestore().collection("users/"+s+"/history").orderBy("date","asc")),E=Object(d.a)(F,1)[0];return Object(g.jsx)(y.Provider,{value:{items:C,oneOffs:N,weights:k,FBuser:n,history:E,status:o,dispatch:u},children:t})},w=function(e){var t=e.importance,c="green";switch(t){case 1:c="red";break;case 2:c="yellow";break;default:c="green"}for(var a=1===t?3:3===t?1:2,n=[],s=1;s<=a;s++)n.push(s);return Object(g.jsx)("div",{className:"flex",children:n&&n.map((function(e){return Object(g.jsx)("div",{className:"h-3 w-3",children:Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(g.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"black",strokeWidth:"1",fill:c})})},e)}))})},k=function(e){var t=e.item,c=t.expectedUpdate?o.a.unix(t.expectedUpdate.seconds).format("MM/DD/YY"):null,n=Object(a.useContext)(y).dispatch;return Object(g.jsxs)("div",{onClick:function(e){n({type:"SHOW_SHEET",itemID:t.id})},className:"border-2 border-black my-2 w-full self-center grid grid-cols-12 cursor-pointer ",children:[Object(g.jsxs)("div",{className:"mainInfo flex flex-col col-span-4 p-2 bg-black text-white",children:[Object(g.jsx)("p",{className:"text-xs",children:t.score.toFixed(2)}),Object(g.jsx)("p",{className:"text-xl",children:t.name}),Object(g.jsx)(w,{importance:t.importance}),Object(g.jsx)("p",{className:"text-sm",children:t.description})]}),Object(g.jsxs)("div",{className:"col-span-8 p-2 "+t.colorClass,children:[Object(g.jsx)("p",{className:"text-xl",children:t.actionTypeName}),Object(g.jsx)("p",{className:"text-sm",children:c}),Object(g.jsx)("p",{className:"text-base",children:t.action})]})]})},T=function(){var e=Object(a.useContext)(y),t=e.items,c=e.status,n=t?t.sort((function(e,t){return null===e.expectedUpdate?1:null===t.expectedUpdate?-1:t.score-e.score})):null;if(c&&n){var s=c.importanceFilters;n=n.filter((function(e){return s[e.importance]}))}if(c&&n&&("today"===c.dayFilter?n=n.filter((function(e){return o.a.unix(e.expectedUpdate.seconds).startOf("day").isSameOrBefore(o()().startOf("day"))})):"nextThree"===c.dayFilter?n=n.filter((function(e){return o.a.unix(e.expectedUpdate.seconds).startOf("day").isSameOrBefore(o()().add(3,"days").startOf("day"))})):"overdue"===c.dayFilter&&(n=n.filter((function(e){return o.a.unix(e.expectedUpdate.seconds).startOf("day").isBefore(o()().startOf("day"))})))),c&&n){var r=c.actionFilters;n=n.filter((function(e){return r[e.actionType]}))}return Object(g.jsx)("div",{className:"flex flex-col w-full col-span-6 col-start-4 p-2 h-screen overflow-hidden",children:Object(g.jsx)("div",{className:"overflow-scroll h-full hideBar",children:n&&n.map((function(e){return Object(g.jsx)(k,{item:e},e.id)}))})})},C=c(32),F=function(e){var t=e.value,c=e.change;return Object(g.jsxs)("div",{className:"mt-2",children:[Object(g.jsx)("p",{children:"Action"}),Object(g.jsx)(C.a,{id:"action",onChange:c,className:"focus:outline-none border-2 border-black ",value:t})]})},E=function(e){var t=e.value,c=e.change;return Object(g.jsxs)("div",{className:"mt-2",children:[Object(g.jsx)("p",{children:"Action Type"}),Object(g.jsxs)("select",{className:"border-2 border-black",onChange:c,id:"actionType",value:t,children:[Object(g.jsx)("option",{value:1,children:"ToDo"}),Object(g.jsx)("option",{value:2,children:"Wait for Meeting"}),Object(g.jsx)("option",{value:3,children:"Wait for Response"}),Object(g.jsx)("option",{value:4,children:"Follow-up"}),Object(g.jsx)("option",{value:5,children:"Nothing yet"}),Object(g.jsx)("option",{value:6,children:"Fully done"})]})]})},I=function(e){var t=e.value,c=e.change;return Object(g.jsxs)("div",{className:"mt-2",children:[Object(g.jsx)("p",{children:"Description"}),Object(g.jsx)(C.a,{id:"description",onChange:c,className:"focus:outline-none border-2 border-black ",value:t})]})},S=c(75),A=c.n(S),D=(c(88),function(e){var t=e.value,c=e.change,a=t&&t.seconds?o.a.unix(t.seconds).toDate():t||null;return Object(g.jsxs)("div",{className:"mt-2",children:[Object(g.jsx)("p",{children:"Expected Update"}),Object(g.jsx)(A.a,{id:"expectedUpdate",isClearable:!1,className:"formInput",selected:a,onChange:function(e,t){null!==e&&c(e)}})]})}),L=function(e){var t=e.value,c=e.change;return Object(g.jsxs)("div",{className:"mt-2",children:[Object(g.jsx)("p",{children:"Importance"}),Object(g.jsxs)("select",{className:"border-2 border-black",id:"importance",onChange:c,value:t,children:[Object(g.jsx)("option",{value:1,children:"High"}),Object(g.jsx)("option",{value:2,children:"Medium"}),Object(g.jsx)("option",{value:3,children:"Low"})]})]})},_=function(e){var t=e.value,c=e.change;return Object(g.jsxs)("div",{children:[Object(g.jsx)("p",{children:"Name"}),Object(g.jsx)("input",{className:"formInput",onChange:c,id:"name",value:t})]})},B=function(){return j.auth().currentUser.uid},M=function(){var e=Object(a.useRef)(null),t=Object(a.useContext)(y),c=t.status,n=t.dispatch,s=t.items,r=Object(a.useState)({name:"",action:"",description:"",importance:3,actionType:1,expectedUpdate:new Date}),i=Object(d.a)(r,2),o=i[0],u=i[1],b=Object(a.useState)(!0),p=Object(d.a)(b,2),f=p[0],h=p[1];Object(a.useEffect)((function(){c&&c.itemID&&(s?(u(s.filter((function(e){return e.id===c.itemID}))[0]),h(!1)):h(!0))}),[c,s]),Object(a.useEffect)((function(){var t=function(t){e.current.contains(t.target)||n({type:"HIDE_SHEET"})};return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}),[n]);var O=function(e){u(Object(l.a)(Object(l.a)({},o),{},Object(x.a)({},e.target.id,e.target.value)))},m=function(e){n({type:"HIDE_SHEET"})};return Object(g.jsxs)("div",{ref:e,className:"overflow-scroll bg-white h-5/6 w-1/4 mt-10 p-5",children:[f?Object(g.jsx)("p",{className:"text-xl font-bold",children:"New Item"}):Object(g.jsx)("p",{className:"text-xl font-bold",children:"Edit Item"}),Object(g.jsx)(_,{value:o.name,change:O}),Object(g.jsx)(L,{value:o.importance,change:O}),Object(g.jsx)(I,{value:o.description,change:O}),Object(g.jsx)(E,{value:o.actionType,change:O}),Object(g.jsx)(D,{value:o.expectedUpdate,change:function(e){u(Object(l.a)(Object(l.a)({},o),{},{expectedUpdate:e}))}}),Object(g.jsx)(F,{value:o.action,change:O}),f?Object(g.jsxs)("div",{className:"flex space-x-2 mt-5",children:[Object(g.jsx)("button",{onClick:m,className:"btn",children:"Cancel"}),Object(g.jsx)("button",{onClick:function(e){!function(e){j.firestore().collection("users/"+B()+"/items").add({action:e.action,actionType:parseInt(e.actionType),description:e.description,expectedUpdate:e.expectedUpdate,importance:parseInt(e.importance),name:e.name,deleted:!1})}(o),n({type:"HIDE_SHEET"})},className:"doneBtn",children:"Add"})]}):Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"flex space-x-2 mt-5",children:[Object(g.jsx)("button",{onClick:m,className:"btn",children:"Cancel"}),Object(g.jsx)("button",{onClick:function(e){!function(e){j.firestore().collection("users/"+B()+"/items").doc(e.id).update({action:e.action,actionType:parseInt(e.actionType),description:e.description,expectedUpdate:e.expectedUpdate,importance:parseInt(e.importance),name:e.name,new:!1})}(o),n({type:"HIDE_SHEET"})},className:"doneBtn",children:"Done"})]}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{onClick:function(e){var t;!0===window.confirm("Are you sure you want to delete?")&&(t=o.id,j.firestore().collection("users/"+B()+"/items").doc(t).update({deleted:!0})),n({type:"HIDE_SHEET"})},className:"importantBtn mt-5",children:"Delete Item"})})]})]})},H=function(){var e=Object(a.useContext)(y).status;return!1===e.showSheet||null===e.item?(document.body.style.overflow="unset",null):(document.body.style.overflow="hidden",Object(g.jsx)("div",{className:"flex justify-center w-screen h-screen bg-gray-400 bg-opacity-40 fixed inset-0",children:Object(g.jsx)(M,{})}))},U=function(){var e=Object(a.useContext)(y),t=e.FBuser,c=e.dispatch;return null!==t&&Object(g.jsx)("button",{className:"ml-10 mt-5 mb-10 btn",onClick:function(){c({type:"SHOW_SHEET"})},children:"Add Item"})},R=function(){var e=Object(a.useContext)(y).FBuser,t=Object(a.useState)({email:"",pass:""}),c=Object(d.a)(t,2),n=c[0],s=c[1];if(e)return Object(g.jsx)("button",{onClick:function(e){j.auth().signOut()},className:"btn",children:"Logout"});var r=function(e){s(Object(l.a)(Object(l.a)({},n),{},Object(x.a)({},e.target.id,e.target.value)))};return Object(g.jsx)("div",{children:Object(g.jsxs)("form",{onSubmit:function(e){var t,c;e.preventDefault(),t=n.email,c=n.pass,j.auth().signInWithEmailAndPassword(t,c),s({email:"",pass:""})},children:[Object(g.jsx)("input",{onChange:r,value:n.email,id:"email",className:"formInput",type:"email"}),Object(g.jsx)("input",{onChange:r,value:n.pass,id:"pass",className:"formInput",type:"password"}),Object(g.jsx)("button",{className:"btn",type:"submit",children:"Login"})]})})},W=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),c=t[0],n=t[1];return Object(g.jsx)("form",{onSubmit:function(e){e.preventDefault(),function(e){var t=B();j.firestore().collection("users/"+B()+"/oneOffs").add({name:e,done:!1,userID:t})}(c),n("")},children:Object(g.jsx)("input",{className:"formInput",value:c,onChange:function(e){n(e.target.value)}})})},V=function(e){var t=e.oneOff;return Object(g.jsxs)("div",{className:"flex space-x-2",children:[Object(g.jsx)("input",{className:"self-center",onChange:function(){var e;e=t.id,j.firestore().collection("users/"+B()+"/oneOffs").doc(e).update({done:!0})},type:"checkbox"}),Object(g.jsx)("label",{className:"self-center",children:t.name})]})},Y=function(){var e=Object(a.useContext)(y).oneOffs;return Object(g.jsx)("div",{className:"w-full",children:Object(g.jsxs)("div",{className:"m-auto w-48",children:[Object(g.jsx)("h1",{className:"text-lg underline",children:"One Off Items"}),e&&e.map((function(e){return Object(g.jsx)(V,{oneOff:e},e.id)})),Object(g.jsx)(W,{})]})})},J=function(e){var t=e.actionTypes,c=Object(a.useState)([]),n=Object(d.a)(c,2),s=n[0],r=n[1];Object(a.useEffect)((function(){t&&r(t)}),[t]);for(var i=function(e){r(Object(l.a)(Object(l.a)({},s),{},Object(x.a)({},e.target.attributes.actionid.nodeValue,Object(l.a)(Object(l.a)({},s[e.target.attributes.actionid.nodeValue]),{},{weight:e.target.value}))))},o=function(e){var c=isNaN(parseFloat(e.target.value))?t[e.target.attributes.actionid.nodeValue].weight:parseFloat(e.target.value);r(Object(l.a)(Object(l.a)({},s),{},Object(x.a)({},e.target.attributes.actionid.nodeValue,Object(l.a)(Object(l.a)({},s[e.target.attributes.actionid.nodeValue]),{},{weight:c}))))},u=[],b=0,p=Object.keys(s);b<p.length;b++){var f=p[b];u.push(s[f])}return u=u.sort((function(e,t){return e.id-t.id})),Object(g.jsxs)("div",{className:"m-auto w-48 mt-10",children:[Object(g.jsx)("p",{className:"text-lg underline",children:"Action Type Weights"}),u&&u.map((function(e){return Object(g.jsxs)("div",{children:[Object(g.jsx)("p",{children:e.name}),Object(g.jsx)("input",{onBlur:o,value:e.weight,actionid:e.id,id:e.id,onChange:i,className:"formInput"})]},e.id)})),Object(g.jsx)("button",{className:"btn",onClick:function(){console.log("update atypes"),function(e,t){for(var c=0,a=Object.keys(e);c<a.length;c++){var n=a[c];isNaN(parseFloat(e[n].weight))||(t[n]=Object(l.a)(Object(l.a)({},e[n]),{},{weight:parseFloat(e[n].weight)}))}j.firestore().collection("users").doc(B()).get().then((function(e){var c=JSON.parse(e.data().weights);c.itemTypes=t,j.firestore().collection("users").doc(B()).update({weights:JSON.stringify(c)})}))}(s,t)},children:"Change"})]})},P=function(e){var t=e.importanceTypes,c=Object(a.useState)([]),n=Object(d.a)(c,2),s=n[0],r=n[1];Object(a.useEffect)((function(){t&&r(t)}),[t]);for(var i=function(e){r(Object(l.a)(Object(l.a)({},s),{},Object(x.a)({},e.target.attributes.importanceid.nodeValue,Object(l.a)(Object(l.a)({},s[e.target.attributes.importanceid.nodeValue]),{},{weight:e.target.value}))))},o=function(e){var c=isNaN(parseFloat(e.target.value))?t[e.target.attributes.importanceid.nodeValue].weight:parseFloat(e.target.value);r(Object(l.a)(Object(l.a)({},s),{},Object(x.a)({},e.target.attributes.importanceid.nodeValue,Object(l.a)(Object(l.a)({},s[e.target.attributes.importanceid.nodeValue]),{},{weight:c}))))},u=[],b=0,p=Object.keys(s);b<p.length;b++){var f=p[b];u.push(s[f])}return u=u.sort((function(e,t){return e.id-t.id})),Object(g.jsxs)("div",{className:"m-auto w-48 mt-10",children:[Object(g.jsx)("p",{className:"text-lg underline",children:"Importance Weights"}),u&&u.map((function(e){return Object(g.jsxs)("div",{children:[Object(g.jsx)("p",{children:e.name}),Object(g.jsx)("input",{onBlur:o,value:e.weight,importanceid:e.id,onChange:i,className:"formInput"})]},e.id)})),Object(g.jsx)("button",{className:"btn",onClick:function(){console.log("update itypes"),function(e,t){for(var c=0,a=Object.keys(e);c<a.length;c++){var n=a[c];isNaN(parseFloat(e[n].weight))||(t[n]=Object(l.a)(Object(l.a)({},e[n]),{},{weight:parseFloat(e[n].weight)}))}j.firestore().collection("users").doc(B()).get().then((function(e){var c=JSON.parse(e.data().weights);c.importanceTypes=t,j.firestore().collection("users").doc(B()).update({weights:JSON.stringify(c)})}))}(s,t)},children:"Change"})]})},z=function(){var e=Object(a.useContext)(y).weights;return Object(g.jsx)("div",{className:"w-full",children:Object(g.jsx)("div",{children:e?Object(g.jsxs)("div",{children:[Object(g.jsx)(P,{importanceTypes:e.importanceTypes}),Object(g.jsx)(J,{actionTypes:e.itemTypes})]}):null})})},K=c(30),q=c(31),G=Object(l.a)(Object(l.a)({},K),{},{tip:q.a}),Q=function(e){var t=[];t.push(e[0]);for(var c=1;c<e.length;c++)e[c].score!==e[c-1].score&&t.push(e[c]);return t},X=function(e){var t=[];return e.forEach((function(e){t.push({x:o.a.unix(e.date.seconds).toDate(),y:e.score})})),{lines:[{name:"Score History",data:t}],minY:0,xTicks:6,yTicks:7,dots:!0,dotSize:2}},Z=function(e){return o()(e).format("MM/DD/YY")},$=function(e){return e.toFixed(2)},ee=function(e,t){var c=function(e){var t=0,c=null;return e.lines.forEach((function(e){e.data.forEach((function(e){t=Math.max(e.y,t),c=c?Math.min(e.y,c):e.y}))})),{max:t,min:c-=.1*(t-c)}}(e);return G.scaleLinear().range([0,t]).domain([c.max,c.min])},te=function(e,t){var c=function(e){var t=new Date,c=0;return e.lines.forEach((function(e){e.data.forEach((function(e){c=Math.max(e.x,c),t=Math.min(e.x,t)}))})),{max:c,min:t}}(e);return G.scaleTime().range([0,t]).domain([c.min,c.max])},ce=function(){return G.tip().attr("class","tip card").html((function(e,t){var c=Z(t.x),a=$(t.y),n=function(e){return o()(e).format("h:mm a")}(t.x),s="";return s+='<div class="score">'.concat(a,"</div>"),s+='<div class="name">'.concat(c,"</div>"),s+='<div class="cost">'.concat(n,"</div>")}))},ae=Object(l.a)(Object(l.a)({},K),{},{tip:q.a}),ne=function(e){var t=e.chartClass,c=Object(a.useContext)(y),n=c.history,s=c.FBuser,r=null;r=function(e){return e&&e.length>0?X(Q(e)):null}(n);var i=Object(a.useRef)();return Object(a.useEffect)((function(){var e=10,t=35,c=500-t-20,a=200-e-20,n=ae.select(i.current).attr("viewBox","0 0 ".concat(500," ").concat(200)).select(".chartArea").attr("height",200).attr("class","chartArea").attr("width",500).attr("transform","translate(".concat(t,",").concat(e,")"));n.selectAll("g").remove();var s=n.append("g").attr("transform","translate(-".concat(t,",-").concat(e,")"));if(s.selectAll("g").remove(),s.selectAll("path").remove(),r){var o=s.append("g").style("opacity",0).attr("transform","translate(".concat(t,",").concat(e,")")),l=o.append("line").attr("stroke","#aaa").attr("stroke-width",1).attr("stroke-dasharray",4),d=o.append("line").attr("stroke","#aaa").attr("stroke-width",1).attr("stroke-dasharray",4),u=n.append("g").attr("transform","translate(0,".concat(a,")")),j=n.append("g").attr("transform","translate(0, 0)"),b=te(r,c),p=ee(r,a),f=ae.line().x((function(e){return b(e.x)})).y((function(e){return p(e.y)}));r.lines.forEach((function(c){var n=ce();s.call(n);var i=s.append("path").attr("transform","translate(".concat(t,",").concat(e,")")),u=s.selectAll("circle."+c.name).data(c.data),j=r.dotSize?r.dotSize:5;u.exit().remove(),u.attr("r",j).attr("fill","black").attr("cx",(function(e){return b(e.x)})).attr("cy",(function(e){return p(e.y)})).attr("transform","translate(".concat(t,",").concat(e,")")).on("mouseover",n.show).on("mouseout",n.hide),u.enter().append("circle").attr("fill","black").attr("cx",(function(e){return b(e.x)})).attr("cy",(function(e){return p(e.y)})).attr("r",j).attr("transform","translate(".concat(t,",").concat(e,")")).attr("opacity",1).on("mouseover.tip",n.show).on("mouseover.lines",(function(e,t){l.attr("x1",b(t.x)).attr("x2",b(t.x)).attr("y1",p(t.y)).attr("y2",a),d.attr("x1",0).attr("x2",b(t.x)).attr("y1",p(t.y)).attr("y2",p(t.y)),o.style("opacity",1)})).on("mouseout.tip",n.hide).on("mouseout.lines",(function(e,t){o.style("opacity",0)}));var h=i.node().getTotalLength();i.data([c.data]).attr("fill","none").attr("stroke","black").attr("stroke-width",2).attr("d",f).style("opacity",.75).attr("stroke-dasharray",h+" "+h)}));var h=r.xTicks?r.xTicks:5,x=r.yTicks?r.yTicks:5,O=r?Z:function(e){return e},m=r?$:function(e){return e},v=ae.axisBottom(b).tickFormat((function(e){return O(e)})).ticks(h),g=ae.axisLeft(p).tickFormat((function(e){return m(e)})).ticks(x);u.call(v).attr("class","chartAxis"),j.call(g).attr("class","chartAxis")}}),[s,r]),Object(g.jsx)("div",{className:"flex justify-center",children:Object(g.jsx)("div",{className:t+" w-full",children:Object(g.jsx)("svg",{ref:i,children:Object(g.jsx)("g",{className:"chartArea"})})})})},se=function(){var e=Object(a.useContext)(y),t=e.items,c=e.oneOffs,n=e.weights,s=e.FBuser,r=n?n.oneOff:0,i=Object(a.useState)(0),o=Object(d.a)(i,2),l=o[0],u=o[1],b=Object(a.useState)(!1),p=Object(d.a)(b,2),f=p[0],h=p[1],x=f?"block":"hidden";Object(a.useEffect)((function(){var e=0,a=!1;if(t&&c){for(var n=0;n<t.length;n++)e+=t[n].score;e>0&&(a=!0),e+=c.length*r}e!==l&&t&&c&&a&&s&&function(e){var t=new Date;j.firestore().collection("users").doc(B()).get().then((function(c){c.data().currentScore.toFixed(2)!==e.toFixed(2)&&(console.log("log history. current:",c.data().currentScore,"new",e),j.firestore().collection("users").doc(B()).update({currentScore:parseFloat(e.toFixed(2))}).then((function(c){j.firestore().collection("users/"+B()+"/history").add({date:t,score:parseFloat(e.toFixed(2))})})))}))}(e),u(e)}),[t,c,r,l,s]);return Object(g.jsxs)("div",{className:"my-5",children:[Object(g.jsxs)("div",{className:"flex justify-center space-x-1",children:[Object(g.jsx)("h1",{className:"text-center text-4xl scoreLabel",children:l.toFixed(2)}),Object(g.jsx)("svg",{onClick:function(e){h(!f)},className:"w-5 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})})]}),Object(g.jsx)(ne,{chartClass:x})]})},re=function(){return Object(g.jsx)("div",{className:"col-span-3 h-screen overflow-hidden",children:Object(g.jsxs)("div",{className:"h-full overflow-scroll hideBar",children:[Object(g.jsx)(R,{}),Object(g.jsx)(U,{}),Object(g.jsx)(se,{}),Object(g.jsx)(Y,{}),Object(g.jsx)(z,{})]})})},ie=function(){var e=Object(a.useContext)(y),t=e.dispatch,c=e.status,n=function(e){t({type:"SET_ACTION_FILTER",actionType:e.target.id,value:e.target.checked})};return Object(g.jsxs)("div",{className:"mt-5",children:[Object(g.jsx)("p",{className:"text-xl font-bold",children:"Filter Action Type"}),Object(g.jsxs)("div",{className:"flex flex-col",children:[Object(g.jsxs)("div",{className:"flex space-x-1",children:[Object(g.jsx)("input",{className:"self-center",id:1,onChange:n,checked:c.actionFilters[1],type:"checkbox"}),Object(g.jsx)("label",{className:"self-center",children:"ToDo"})]}),Object(g.jsxs)("div",{className:"flex space-x-1",children:[Object(g.jsx)("input",{className:"self-center",id:2,onChange:n,checked:c.actionFilters[2],type:"checkbox"}),Object(g.jsx)("label",{className:"self-center",children:"Wait for Meeting"})]}),Object(g.jsxs)("div",{className:"flex space-x-1",children:[Object(g.jsx)("input",{className:"self-center",id:3,onChange:n,checked:c.actionFilters[3],type:"checkbox"}),Object(g.jsx)("label",{className:"self-center",children:"Wait for Response"})]}),Object(g.jsxs)("div",{className:"flex space-x-1",children:[Object(g.jsx)("input",{className:"self-center",id:4,onChange:n,checked:c.actionFilters[4],type:"checkbox"}),Object(g.jsx)("label",{className:"self-center",children:"Follow-up"})]}),Object(g.jsxs)("div",{className:"flex space-x-1",children:[Object(g.jsx)("input",{className:"self-center",id:5,onChange:n,checked:c.actionFilters[5],type:"checkbox"}),Object(g.jsx)("label",{className:"self-center",children:"Nothing Yet"})]}),Object(g.jsxs)("div",{className:"flex space-x-1",children:[Object(g.jsx)("input",{className:"self-center",id:6,onChange:n,checked:c.actionFilters[6],type:"checkbox"}),Object(g.jsx)("label",{className:"self-center",children:"Fully Done"})]})]}),Object(g.jsxs)("div",{className:"flex space-x-2",children:[Object(g.jsx)("button",{className:"btn mt-2",onClick:function(e){t({type:"ALL_ACTION",value:!0})},children:"Select All"}),Object(g.jsx)("button",{className:"btn mt-2",onClick:function(e){t({type:"ALL_ACTION",value:!1})},children:"De-select All"})]})]})},oe=function(){var e=Object(a.useContext)(y),t=e.status,c=e.dispatch,n=Object(a.useState)("all"),s=Object(d.a)(n,2),r=s[0],i=s[1];Object(a.useEffect)((function(){t&&i(t.dayFilter)}),[t]);var o=function(e){c({type:"SET_DAY_FILTER",value:e.target.value})};return Object(g.jsxs)("div",{className:"mt-5",children:[Object(g.jsx)("p",{className:"text-xl font-bold",children:"Filter Date"}),Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{onChange:o,type:"radio",name:"dateFilter",value:"all",id:"all",checked:"all"===r}),Object(g.jsx)("label",{children:"All"})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{onChange:o,type:"radio",name:"dateFilter",value:"today",checked:"today"===r}),Object(g.jsx)("label",{children:"Today"})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{onChange:o,type:"radio",name:"dateFilter",value:"nextThree",checked:"nextThree"===r}),Object(g.jsx)("label",{children:"Next 3 Days"})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{onChange:o,type:"radio",name:"dateFilter",value:"overdue",checked:"overdue"===r}),Object(g.jsx)("label",{children:"Overdue"})]})]})]})},le=function(){var e=Object(a.useContext)(y),t=e.dispatch,c=e.status,n=function(e){t({type:"SET_IMPORTANCE_FILTER",importance:e.target.id,value:e.target.checked})};return Object(g.jsxs)("div",{children:[Object(g.jsx)("p",{className:"text-xl font-bold",children:"Filter Importance"}),Object(g.jsxs)("div",{className:"flex space-x-2",children:[Object(g.jsxs)("div",{className:"flex space-x-1",children:[Object(g.jsx)("input",{className:"self-center",id:1,onChange:n,checked:c.importanceFilters[1],type:"checkbox"}),Object(g.jsx)("label",{className:"self-center",children:"High"})]}),Object(g.jsxs)("div",{className:"flex space-x-1",children:[Object(g.jsx)("input",{className:"self-center",id:2,onChange:n,checked:c.importanceFilters[2],type:"checkbox"}),Object(g.jsx)("label",{className:"self-center",children:"Medium"})]}),Object(g.jsxs)("div",{className:"flex space-x-1",children:[Object(g.jsx)("input",{className:"self-center",id:3,onChange:n,checked:c.importanceFilters[3],type:"checkbox"}),Object(g.jsx)("label",{className:"self-center",children:"Low"})]})]}),Object(g.jsx)("button",{className:"btn mt-2",onClick:function(e){t({type:"ALL_IMPORTANCE",value:!0})},children:"Select All"})]})},de=function(){var e=Object(a.useContext)(y).dispatch;return Object(g.jsxs)("div",{className:"col-span-3 p-5 h-screen overflow-hidden",children:[Object(g.jsx)(le,{}),Object(g.jsx)(oe,{}),Object(g.jsx)(ie,{}),Object(g.jsx)("button",{onClick:function(t){e({type:"ALL_IMPORTANCE",value:!0}),e({type:"ALL_ACTION",value:!0}),e({type:"SET_DAY_FILTER",value:"all"})},className:"importantBtn mt-10",children:"Remove All Filters"})]})};var ue=function(){return Object(g.jsx)(N,{children:Object(g.jsxs)("div",{className:"App",children:[Object(g.jsxs)("div",{className:"grid grid-cols-12",children:[Object(g.jsx)(re,{}),Object(g.jsx)(T,{}),Object(g.jsx)(de,{})]}),Object(g.jsx)(H,{})]})})};r.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(ue,{})}),document.getElementById("root"))},82:function(e,t,c){}},[[175,1,2]]]);
//# sourceMappingURL=main.476f50ed.chunk.js.map