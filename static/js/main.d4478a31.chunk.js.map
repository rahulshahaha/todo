{"version":3,"sources":["config/fbConfig.js","store/actions.js","store/hydrateItem.js","store/fbContext.js","components/AddItem.js","components/auth/Login.js","components/ImportanceConfig.js","components/Config.js","components/LineChart.js","components/OneOffs/AddOneOff.js","components/OneOffs/OneOffItem.js","components/OneOffs/OneOffs.js","components/ItemInfo/ItemName.js","components/ItemInfo/ItemImportance.js","components/ItemInfo/ItemDescription.js","components/ItemInfo/ItemActionType.js","components/ItemInfo/ItemAction.js","components/ItemInfo/ItemExpectedUpdate.js","components/TrashIcon.js","components/ItemRow.js","components/Table.js","components/TotalScore.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","currentUserID","auth","currentUser","uid","numberDaysTo","timestamp","now","moment","Date","getFullYear","getMonth","getDate","unix","seconds","diff","itemColorClass","item","expectedUpdate","isBefore","actionType","isSame","FbContext","React","createContext","FbProvider","children","useState","items","setItems","weights","setWeights","oneOffs","setOneOffs","user","setUser","history","setHistory","useAuthState","FBuser","useEffect","userID","collection","doc","onSnapshot","userDoc","console","log","exists","JSON","parse","data","id","where","oneOffSnap","oneOffArray","docs","forEach","oneOffDoc","push","itemsSnap","itemArray","itemDoc","importance","importanceTypes","filter","iType","itemTypes","aType","daysTo","score","Math","max","weight","dayDrop","colorClass","importanceName","name","importanceWeight","actionTypeName","actionTypeWeight","hydrateItem","orderBy","historySnap","newHist","historyDoc","length","Provider","value","AddItem","useContext","className","onClick","add","action","description","notes","deleted","addNewItem","Login","email","pass","creds","setCreds","e","signOut","handleChange","target","onSubmit","preventDefault","signInWithEmailAndPassword","onChange","type","ImportanceConfig","iTypes","newITypes","setNewITypes","inputChange","found","iT","i","parseInt","map","defaultValue","get","then","currentWeights","currentITypes","isNaN","parseFloat","j","update","stringify","t","window","location","reload","updateImportanceTypes","Config","d3","d3module","tip","d3tip","LineChart","chartData","lineData","hist","date","toDate","xFormat","d","yFormat","format","toFixed","ref","useRef","margin","top","bottom","left","right","chartArea","select","current","attr","selectAll","remove","width","height","graph","append","hoverLineGroup","style","xHoverLine","yHoverLine","xAxisGroup","yAxisGroup","pathGenerator","line","x","y","maxX","maxY","minX","lines","point","min","minY","scaleLinear","range","domain","scaleTime","ttip","html","xLabel","yLabel","content","call","path","circs","circSize","dotSize","exit","on","show","hide","enter","transition","duration","attrTween","n","dots","numberOfPointsIn","ease","easeLinear","pathLength","node","getTotalLength","xTicks","yTicks","xAxis","axisBottom","tickFormat","ticks","yAxis","axisLeft","AddOneOff","newOneOff","setNewOneOff","oneOff","done","addOneOff","OneOffItem","OneOffs","ItemName","editing","setEditing","newName","setNewName","onFocus","autoFocus","onBlur","itemID","updateName","ItemImportance","updateImportance","ItemDescription","newDescription","setNewDescription","newDesription","ItemActionType","newActionType","ItemAction","newAction","setNewAction","scrollHeight","updateAction","ItemExpectedUpdate","wrapperClassName","selected","newDate","newExpectedUpdate","TrashIcon","confirm","deleteItem","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","ItemRow","Table","sortedItems","sort","a","b","TotalScore","oneOffWeight","totalScore","setTotalScore","newScore","hydrated","currentScore","logHistory","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d4478a31.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport 'firebase/analytics'\n\n// Replace this with your own config details\nvar config = {\n  apiKey: \"AIzaSyCSu3ggsS66Mo1OullwbFJIg9mibC9E9wY\",\n  authDomain: \"todo-8303f.firebaseapp.com\",\n  projectId: \"todo-8303f\",\n  storageBucket: \"todo-8303f.appspot.com\",\n  messagingSenderId: \"928128254937\",\n  appId: \"1:928128254937:web:a3f32fafc7ca5ba6c40fc8\"\n};\n\nfirebase.initializeApp(config);\nfirebase.firestore()\n\nexport default firebase ","import firebase from '../config/fbConfig'\n\n\nexport const updateName = (newName, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    name: newName\n  })\n}\n\nexport const updateImportance = (importance, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    importance: parseInt(importance)\n  })\n}\n\nexport const updateDescription = (newDesription, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    description: newDesription\n  })\n}\n\nexport const updateNotes = (newNotes, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    notes: newNotes\n  })\n}\n\nexport const updateActionType = (newActionType, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    actionType: parseInt(newActionType)\n  })\n}\n\nexport const updateAction = (newAction, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    action: newAction\n  })\n}\n\nexport const updateExpectedUpdate = (newExpectedUpdate, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    expectedUpdate: newExpectedUpdate\n  })\n}\n\nexport const completeOneOff = (id) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/oneOffs').doc(id).update({\n    done: true\n  })\n}\n\nexport const addOneOff = (oneOff) => {\n  const userID = currentUserID()\n  firebase.firestore().collection('users/' + currentUserID() + '/oneOffs').add({\n    name: oneOff,\n    done: false,\n    userID\n  })\n}\n\nexport const login = (email, pass) => {\n  firebase.auth().signInWithEmailAndPassword(\n    email,\n    pass\n  )\n}\n\nexport const logout = () => {\n  firebase.auth().signOut()\n}\n\nexport const addNewItem = () => {\n  const userID = currentUserID()\n  firebase.firestore().collection('users/' + currentUserID() + '/items').add({\n    action: '',\n    actionType: 1,\n    description: '',\n    expectedUpdate: null,\n    importance: 1,\n    name: 'NewName',\n    notes: '',\n    userID,\n    deleted: false\n  })\n}\n\nexport const deleteItem = (itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    deleted: true\n  })\n}\n\nexport const updateImportanceTypes = (newITypes) => {\n  firebase.firestore().collection('users').doc(currentUserID()).get().then(userDoc => {\n    var currentWeights = JSON.parse(userDoc.data().weights)\n    var currentITypes = currentWeights.importanceTypes\n    for(var i = 0; i < newITypes.length; i++){\n      if(!isNaN(parseFloat(newITypes[i].weight))){\n        for(var j = 0; j < currentITypes.length; j++){\n          if(currentITypes[j].id === newITypes[i].id){\n            console.log('t')\n            currentITypes[j] = {\n              ...currentITypes[j],\n              weight: parseFloat(newITypes[i].weight)\n            }\n          }\n        }\n      }\n    }\n    currentWeights.importanceTypes = currentITypes;\n    firebase.firestore().collection('users').doc(currentUserID()).update({\n      weights: JSON.stringify(currentWeights)\n    }).then(t => {\n      window.location.reload();\n    })\n  })\n}\n\nexport const logHistory = (newScore) => {\n  const now = new Date()\n  firebase.firestore().collection('users').doc(currentUserID()).get().then(userDoc => {\n    if(userDoc.data().currentScore !== newScore){\n      firebase.firestore().collection('users').doc(currentUserID()).update({\n        currentScore: parseFloat(newScore)\n      }).then(t => {\n        firebase.firestore().collection('users/' + currentUserID() + '/history').add({\n          date: now,\n          score: parseFloat(newScore)\n        })\n      })\n    }\n  })\n\n}\n\nconst currentUserID = () => {\n  return firebase.auth().currentUser.uid\n}","import moment from 'moment';\n\n\nexport const hydrateItem = (item, weights) =>{\n  if(weights && item){\n    const importance = weights.importanceTypes.filter(iType => {\n      return iType.id === item.importance\n    })[0]\n\n    const actionType = weights.itemTypes.filter(aType => {\n      return aType.id === item.actionType\n    })[0]\n\n    const daysTo = numberDaysTo(item.expectedUpdate)\n    const score = item.expectedUpdate ? Math.max(0,(1 * importance.weight * actionType.weight) - (daysTo * weights.dayDrop)) : 0;\n\n\n    const colorClass = itemColorClass(item)\n  \n    return {...item, importanceName: importance.name, importanceWeight: importance.weight, actionTypeName: actionType.name, actionTypeWeight: actionType.weight, daysTo, score, colorClass}\n    \n  }\n  return item\n}\n\n\nconst numberDaysTo = (timestamp) => {\n  if(timestamp === null) return 0;\n  const now = moment(new Date(new Date().getFullYear(),new Date().getMonth() , new Date().getDate()));\n  const expectedUpdate = moment.unix(timestamp.seconds)\n  return expectedUpdate.diff(now,'days')\n}\n\nconst itemColorClass = (item) => {\n  if(item.expectedUpdate === null) return 'bg-white'\n  const now = moment(new Date(new Date().getFullYear(),new Date().getMonth() , new Date().getDate()));\n  const expectedUpdate = moment.unix(item.expectedUpdate.seconds)\n\n  if(expectedUpdate.isBefore(now) && item.actionType !== 5 && item.actionType !== 6){\n    return 'bg-red-600 text-white'\n  }else if(expectedUpdate.isSame(now) && (item.actionType === 1 || item.actionType === 4)){\n    return 'bg-purple-700 text-white'\n  }else if(expectedUpdate.isSame(now) && (item.actionType === 2 || item.actionType === 3)){\n    return 'bg-gray-600 text-white'\n  }else if(item.actionType === 1 || item.actionType === 4){\n    return 'bg-purple-300'\n  }else if(item.actionType === 2 || item.actionType === 3){\n    return 'bg-gray-400'\n  }\n\n  return 'bg-white'\n\n}","import React, { useState, useEffect } from \"react\";\nimport firebase from '../config/fbConfig'\nimport {hydrateItem} from './hydrateItem'\nimport { useAuthState } from 'react-firebase-hooks/auth';\n\nexport const FbContext = React.createContext();\n\n\nexport const FbProvider = ({ children }) => {\n\n  const [items, setItems] = useState(null);\n  const [weights, setWeights] = useState(null)\n  const [oneOffs, setOneOffs] = useState(null)\n  const [user, setUser] = useState(null)\n  const [history, setHistory] = useState(null)\n  const [FBuser] = useAuthState(firebase.auth());\n\n\n\n  useEffect(() => {\n    const userID = FBuser ? FBuser.uid : null\n      firebase.firestore().collection('users').doc(\"/\" + userID).onSnapshot(userDoc => {\n        console.log('pull user doc')\n        if(userDoc.exists){\n        setWeights(JSON.parse(userDoc.data().weights))\n        }else{\n          setWeights(null)\n        }\n      })\n  }, [FBuser])\n\n  useEffect(() => {\n    const userID = user ? user.id : null\n    firebase.firestore().collection('users/' + userID + '/oneOffs').where('done','==',false).onSnapshot(oneOffSnap => {\n      console.log('pull one offs')\n      const oneOffArray = []\n      oneOffSnap.docs.forEach(oneOffDoc => {\n        oneOffArray.push({...oneOffDoc.data(), id: oneOffDoc.id})\n      })\n      setOneOffs(oneOffArray)\n    })\n  }, [user])\n\n  useEffect(() => {\n    const userID = FBuser ? FBuser.uid : null\n    firebase.firestore().collection('users/' + userID + '/items').where('deleted','==',false).onSnapshot(itemsSnap => {\n      console.log('pull items')\n      const itemArray = []\n      itemsSnap.docs.forEach(itemDoc => {\n        itemArray.push(hydrateItem({...itemDoc.data(), id: itemDoc.id, score: 0}, weights))\n      })\n    setItems(itemArray)\n    })\n  },[weights, FBuser])\n\n  useEffect(() => {\n    if(FBuser){\n      setUser({\n        id: FBuser.uid\n      })\n    }else{\n      setUser(null)\n    }\n\n  }, [FBuser])\n\n  useEffect(() => {\n    const userID = FBuser ? FBuser.uid : null\n    firebase.firestore().collection('users/' + userID + '/history').orderBy('date','asc').onSnapshot(historySnap => {\n      console.log('pull history')\n      var newHist = []\n      historySnap.docs.forEach(historyDoc => {\n        newHist.push({...historyDoc.data()})\n      })\n      if(newHist.length > 0){\n        setHistory(newHist)\n      }else{\n        setHistory(null)\n      }\n    })\n  },[FBuser])\n\n\n  return (\n    <FbContext.Provider value={{ items, oneOffs, weights, FBuser, user, history }}>{children}</FbContext.Provider>\n  );\n};\n\n","import React, { useContext } from 'react'\nimport { addNewItem } from '../store/actions'\nimport { FbContext } from '../store/fbContext'\n\nconst AddItem = () => {\n\n  const { user } = useContext(FbContext)\n\n  const addItem = () => {\n    addNewItem()\n  }\n\n  if(user === null) return false\n\n  return ( \n    <button className=\"ml-10 mt-5 mb-10 btn\" onClick={addItem}>Add Item</button>\n   );\n}\n \nexport default AddItem;","import React, { useState, useContext } from 'react'\nimport { FbContext } from '../../store/fbContext';\nimport { login, logout } from '../../store/actions'\n\nconst Login = () => {\n\n  const { user } = useContext(FbContext)\n  const [creds, setCreds] = useState({\n    email: '',\n    pass: ''\n  })\n\n  const logoutClick = (e) => {\n    logout();\n  }\n\n  if(user){\n    return(\n      <button onClick={logoutClick} className=\"btn\">Logout</button>\n    )\n  }\n\n  const submit = (e) => {\n    e.preventDefault();\n    login(creds.email, creds.pass)\n    setCreds({\n      email: '',\n      pass: ''\n    })\n  }\n\n  const handleChange = (e) => {\n    setCreds({\n      ...creds,\n      [e.target.id] : e.target.value\n    })\n  }\n\n  return ( \n    <div>\n      <form onSubmit={submit}>\n        <input onChange={handleChange} value={creds.email} id=\"email\" className=\"formInput\" type=\"email\"></input>\n        <input onChange={handleChange} value={creds.pass} id=\"pass\" className=\"formInput\" type=\"password\"></input>\n        <button className=\"btn\" type=\"submit\">Login</button>\n      </form>\n    </div>\n   );\n}\n \nexport default Login;","import React, { useState } from 'react';\nimport { updateImportanceTypes } from '../store/actions'\n\nconst ImportanceConfig = ({importanceTypes}) => {\n\n  const iTypes = importanceTypes;\n  const [newITypes, setNewITypes] = useState([])\n\n  const inputChange = (e) => {\n    var found = false;\n    const iT = newITypes\n    for(var i = 0; i < iT.length; i++){\n      if(iT[i].id === parseInt(e.target.id)){\n        found = true;\n        iT[i] = {\n          id: iT[i].id,\n          weight: e.target.value\n        }\n      }\n    }\n\n    if(found){\n      setNewITypes(iT)\n    }else{\n      iT.push({\n        id: parseInt(e.target.id),\n        weight: e.target.value\n      })\n    }\n  }\n\n  const changeITypes = () => {\n    updateImportanceTypes(newITypes)\n  }\n\n  return ( \n    <div>\n      { iTypes && iTypes.map(iType => {\n        return(\n          <div key={iType.id}>\n            <p>{iType.name}</p>\n            <input defaultValue={iType.weight} id={iType.id} onChange={inputChange} className=\"formInput\" />\n          </div>\n        )\n      })}\n      <button className='btn' onClick={changeITypes}>Change</button>\n    </div>\n   );\n}\n \nexport default ImportanceConfig;","import React, { useContext } from 'react'\nimport { FbContext } from '../store/fbContext';\nimport ImportanceConfig from './ImportanceConfig';\n\n\nconst Config = () => {\n\n  const { weights } = useContext(FbContext)\n   \n  return ( \n    <div className=\"mx-10 mb-10\">\n      <div>\n        {\n          weights ? (\n            <ImportanceConfig importanceTypes={weights.importanceTypes} /> \n          ) : null\n        }\n      </div>\n    </div>\n   );\n}\n \nexport default Config;","import React, { useRef, useEffect, useContext } from 'react';\nimport * as d3module from 'd3'\nimport d3tip from 'd3-tip'\nimport moment from 'moment'\nimport { FbContext } from '../store/fbContext';\n\nconst d3 = {\n  ...d3module,\n  tip: d3tip\n}\n\n\nconst LineChart = () => {\n\n    const {history} = useContext(FbContext)\n    var chartData = null\n\n    if(history && history.length > 0){\n      var lineData = []\n      history.forEach(hist => {\n        lineData.push({\n          \"x\": moment.unix(hist.date.seconds).toDate(),\n          \"y\": hist.score\n        })\n      })\n      chartData = {\n        \"lines\":[\n          {\n            \"name\": \"Score History\",\n            \"data\": lineData\n          }\n        ],\n        \"minY\":0,\n        \"xTicks\":6,\n        \"yTicks\":10,\n        \"dots\":false,\n        \"dotSize\":1.75\n      }\n    }\n\n    var xFormat = (d) => d\n    var yFormat = (d) => d\n\n    if(chartData !== null){\n        xFormat = (d) => {\n            // const xPlacement = chartData.xPlacement\n            // const xUnits = chartData.xUnits\n            // return xPlacement === 0 ? xUnits + d : d + xUnits\n            return moment(d).format('MM/DD/YY')\n        }\n        yFormat = (d) => {\n            // const yPlacement = chartData.yPlacement\n            // const yUnits = chartData.yUnits\n            // return yPlacement === 0 ? yUnits + d : d + yUnits\n            return d.toFixed(2)\n        }\n    }\n\n\n    const ref = useRef()\n\n\n    useEffect(() => {\n\n    if(chartData){\n    //graph size\n    const graphHeight = 200\n    const graphWidth = 500\n    const margin = { top: 10, bottom: 20, left: 35, right: 20 };\n\n    const svg = d3.select(ref.current)\n        .attr(\"viewBox\", `0 0 ${graphWidth} ${graphHeight}`)\n        \n    //select group for graph\n    const chartArea = svg.select('.chartArea')\n        .attr('height', graphHeight)\n        .attr('class','chartArea')\n        .attr('width', graphWidth)\n        .attr(\"transform\", `translate(${margin.left},${margin.top})`);\n    \n    chartArea.selectAll('g').remove();\n\n    const width = graphWidth - margin.left - margin.right;\n    const height = graphHeight - margin.top - margin.bottom;\n\n    const graph = chartArea\n    .append(\"g\")\n    .attr(\"transform\", `translate(-${margin.left},-${margin.top})`);\n\n    //remove all current groups within graph\n    graph.selectAll('g').remove();\n    // graph.selectAll('circle').remove();\n    graph.selectAll('path').remove();\n\n\n    //create dotted line group and append to graph\n    const hoverLineGroup = graph.append('g')\n        .style('opacity',0)\n        .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n\n    //create x line and append\n    const xHoverLine = hoverLineGroup.append('line')\n    .attr('stroke','#aaa')\n    .attr('stroke-width', 1)\n    .attr('stroke-dasharray',4)\n\n    //create y line and append\n    const yHoverLine = hoverLineGroup.append('line')\n    .attr('stroke','#aaa')\n    .attr('stroke-width', 1)\n    .attr('stroke-dasharray',4)\n\n    //add group for x axis and move it to the bottom\n    const xAxisGroup = chartArea.append('g')\n        .attr('transform', `translate(0,${height})`);\n    \n    //add group for y axis\n    const yAxisGroup = chartArea.append('g')\n        .attr(\"transform\", `translate(0, 0)`)\n\n    //d3 line path generator\n    const pathGenerator = d3.line()\n        .x(function(d){ return x(d.x) })\n        .y(function(d){ return y(d.y) })\n\n    //get max y and max x\n    var maxX = 0\n    var maxY = 0\n    var minX = new Date();\n    chartData.lines.forEach(line => {\n        line.data.forEach(point => {\n            maxX = Math.max(point.x,maxX)\n            maxY = Math.max(point.y,maxY)\n            minX = Math.min(point.x,minX)\n        })\n    });\n\n\n    const minY = chartData.minY ? chartData.minY : 0\n    \n    //scales\n    const y = d3.scaleLinear()\n        .range([0,height])\n        .domain([maxY,minY])\n\n    const x = d3.scaleTime()\n        .range([0,width])\n        .domain([minX,maxX])\n\n\n\n    //build each line dynamically\n    chartData.lines.forEach(line => {\n\n    const circTransition = (d,i,n) => {\n\n        return function(t){\n            if(chartData.dots === false) return 0\n\n            if(i === 0) return 1\n\n            const numberOfPointsIn = line.data.length - 1;\n            if(i * 1/numberOfPointsIn <= t) return 1\n\n            return  0\n        }\n    }\n\n    //tooltip\n    const ttip = d3.tip()\n    .attr('class', 'tip card')\n    .html((e,d) => {\n        const xLabel = xFormat(d.x)\n        const yLabel = yFormat(d.y)\n        let content = ''//`<div class=\"lineName\">${line.name}</div>`\n        content += `<div class=\"name\">${xLabel}</div>`;\n        content += `<div class=\"cost\">${yLabel}</div>`;\n        return content;\n    });\n\n    graph.call(ttip);\n\n        const path = graph.append('path')\n            .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n\n        //add circles\n        const circs = graph.selectAll('circle.' + line.name)\n            .data(line.data)\n        \n        const circSize = chartData.dotSize ? chartData.dotSize : 3\n\n        //remove exit selction for circles\n        circs.exit().remove()\n\n        //update current circs\n        circs.attr('r', circSize)\n            .attr('fill', 'black')\n            .attr('cx', d => x(d.x))\n            .attr('cy', d => y(d.y))\n            .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n            .on('mouseover', ttip.show)\n            .on('mouseout', ttip.hide)\n\n\n\n        //append the enter selection to the DOM\n        circs.enter()\n            .append('circle')\n            .attr('fill', 'black')\n            .attr('cx', d => x(d.x))\n            .attr('cy', d => y(d.y))\n            .attr('r', circSize)\n            .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n            .attr('opacity',0)\n            .on('mouseover.tip', ttip.show)\n            .on('mouseover.lines', (e,d) => {\n            xHoverLine\n                .attr('x1',x(d.x))\n                .attr('x2',x(d.x))\n                .attr('y1',y(d.y))\n                .attr('y2',height)\n\n            yHoverLine\n                .attr('x1',0)\n                .attr('x2',x(d.x))\n                .attr('y1',y(d.y))\n                .attr('y2',y(d.y))\n\n            hoverLineGroup.style('opacity', 1)\n            \n\n\n            })\n            .on('mouseout.tip', ttip.hide)\n            .on('mouseout.lines', (e,d) => {\n                hoverLineGroup.style('opacity', 0)\n            })\n            .transition().duration(2000)\n                .attrTween('opacity', circTransition)\n                .ease(d3.easeLinear)\n        \n                \n\n        // update path data\n        path.data([line.data])\n            .attr('fill', 'none')\n            .attr('stroke', 'black')\n            .attr('stroke-width', 0)\n            .attr('d', pathGenerator)\n            .style('opacity',0.75)\n\n        const pathLength = path.node().getTotalLength();\n\n        path.attr(\"stroke-dasharray\", pathLength + \" \" + pathLength)\n        .attr(\"stroke-dashoffset\", pathLength)\n          .transition()\n          .ease(d3.easeLinear)\n          .attr(\"stroke-dashoffset\", 0)\n          .attr('stroke-width', 2)\n          .duration(2000)\n\n\n    })\n\n    const xTicks = chartData.xTicks ? chartData.xTicks : 5\n    const yTicks = chartData.yTicks ? chartData.yTicks : 5\n\n    //create and call the axes\n    const xAxis = d3.axisBottom(x)\n        .tickFormat(d => xFormat(d))\n        .ticks(xTicks)\n\n\n    const yAxis = d3.axisLeft(y)\n        .tickFormat(d => yFormat(d))\n        .ticks(yTicks)\n\n    if(chartData.yTicks){\n        yAxis.ticks(chartData.yTicks)\n    }\n\n    xAxisGroup.call(xAxis)\n        .attr('class','chartAxis')\n    yAxisGroup.call(yAxis)\n        .attr('class','chartAxis')\n\n    }\n    })\n\n    return (\n        <div>\n            <svg ref={ref}>\n                <g className=\"chartArea\">\n\n                </g>\n            </svg>\n        </div>\n    )\n  }\n \nexport default LineChart;","import React, { useState } from 'react'\nimport { addOneOff } from '../../store/actions'\n\nconst AddOneOff = () => {\n\n  const [newOneOff, setNewOneOff] = useState('')\n\n  const change = (e) => {\n    setNewOneOff(e.target.value)\n  }\n\n  const submit = (e) => {\n    e.preventDefault()\n    addOneOff(newOneOff)\n    setNewOneOff('')\n  }\n\n  return ( \n    <form onSubmit={submit}>\n      <input className=\"formInput\" value={newOneOff} onChange={change}></input>\n    </form>\n   );\n}\n \nexport default AddOneOff;","import React from 'react'\nimport { completeOneOff } from '../../store/actions'\n\nconst OneOffItem = ({oneOff}) => {\n\n  const onCheck = () => {\n    completeOneOff(oneOff.id)\n  }\n\n  return (\n    <div className=\"flex\">\n      <input onChange={onCheck} type=\"checkbox\" />\n      <p>{oneOff.name}</p>\n    </div>\n   );\n}\n \nexport default OneOffItem;","import React, { useContext } from 'react'\nimport { FbContext } from '../../store/fbContext';\nimport AddOneOff from './AddOneOff';\nimport OneOffItem from './OneOffItem';\n\n\nconst OneOffs = () => {\n\n  const { oneOffs } = useContext(FbContext)\n\n\n\n  return ( \n    <div className=\"w-full\">\n      <div className=\"m-auto w-48\">\n        <h1 className=\"text-lg underline\">One Off Items</h1>\n        { oneOffs && oneOffs.map(oneOff => {\n          return (\n            <OneOffItem oneOff={oneOff} key={oneOff.id} />\n          )\n        })}\n        <AddOneOff />\n      </div>\n    </div>\n   );\n}\n \nexport default OneOffs;","import React, { useState } from 'react'\nimport { updateName } from '../../store/actions'\nimport TextareaAutosize from 'react-textarea-autosize';\n\n\nconst ItemName = ({ item }) => {\n\n  const name = item.name\n\n  const [editing, setEditing] = useState(0)\n  const [newName, setNewName] = useState(name)\n\n  const lostFocus = () => {\n    if(newName !== name){\n      updateName(newName, item.id)\n    }\n    setEditing(0)\n  }\n\n  const textChange = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const onClick = () => {\n    setEditing(1)\n  }\n\n  const onFocus = (e) => {\n    e.target.select()\n  }\n\n  if(editing === 1) return <td><TextareaAutosize onFocus={onFocus} className={'tableTextArea ' + item.colorClass} autoFocus onChange={textChange} onBlur={lostFocus} value={newName}></TextareaAutosize></td>\n\n  return ( \n    <td onClick={onClick}><p>{ name }</p></td>\n   );\n}\n \nexport default ItemName;","import React from 'react'\nimport { updateImportance } from '../../store/actions'\n\n\nconst ItemImportance = ({ item }) => {\n\n  const importance = item.importance\n  // const [newImportance, setNewImportance] = useState(importance)\n\n  const selectChange = (e) => {\n    updateImportance(e.target.value, item.id)\n  }\n\n  return ( \n    <td>\n      <select className={item.colorClass} onChange={selectChange} value={importance}>\n        <option value={1}>High</option>\n        <option value={2}>Medium</option>\n        <option value={3}>Low</option>\n      </select>\n    </td>\n   );\n}\n \nexport default ItemImportance;","import React, { useState } from 'react'\nimport { updateDescription } from '../../store/actions'\nimport TextareaAutosize from 'react-textarea-autosize';\n\n\n\nconst ItemDescription = ({ item }) => {\n  const description = item.description\n\n  const [editing, setEditing] = useState(0)\n  const [newDescription, setNewDescription] = useState(description)\n\n  const lostFocus = () => {\n    if(description !== newDescription){\n      updateDescription(newDescription, item.id)\n    }\n    setEditing(0)\n  }\n\n  const textChange = (e) => {\n    setNewDescription(e.target.value)\n  }\n\n  const onClick = () => {\n    setEditing(1)\n  }\n\n  const onFocus = (e) => {\n    e.target.select()\n  }\n\n  if(editing === 1) return <td><TextareaAutosize onFocus={onFocus} className={'tableTextArea ' + item.colorClass} autoFocus onChange={textChange} onBlur={lostFocus} value={newDescription}></TextareaAutosize></td>\n\n  return ( \n    <td onClick={onClick}>{ description }</td>\n   );\n}\n \nexport default ItemDescription;","import React from 'react'\nimport { updateActionType } from '../../store/actions'\n\n\nconst ItemActionType = ({ item }) => {\n\n  const actionType = item.actionType\n\n  const selectChange = (e) => {\n    updateActionType(e.target.value, item.id)\n  }\n\n  return ( \n    <td>\n      <select className={item.colorClass} onChange={selectChange} value={actionType}>\n        <option value={1}>ToDo</option>\n        <option value={2}>Wait for Meeting</option>\n        <option value={3}>Wait for Response</option>\n        <option value={4}>Follow-up</option>\n        <option value={5}>Nothing yet</option>\n        <option value={6}>Fully done</option>\n      </select>\n    </td>\n   );\n}\n \nexport default ItemActionType;","import React, { useState } from 'react'\nimport { updateAction } from '../../store/actions'\nimport TextareaAutosize from 'react-textarea-autosize';\n\n\nconst ItemAction = ({ item }) => {\n  const action = item.action\n\n  const [editing, setEditing] = useState(0)\n  const [newAction, setNewAction] = useState(action)\n\n  const lostFocus = () => {\n    if(action !== newAction){\n      updateAction(newAction, item.id)\n    }\n    setEditing(0)\n  }\n\n  const textChange = (e) => {\n    setNewAction(e.target.value)\n    e.target.style.height = 'auto';\n    e.target.style.height = e.target.scrollHeight + 'px';\n  }\n\n  const onClick = () => {\n    setEditing(1)\n  }\n\n\n  const onFocus = (e) => {\n    e.target.select()\n  }\n\n\n  if(editing === 1) return <td><TextareaAutosize onFocus={onFocus} className={'tableTextArea ' + item.colorClass} autoFocus onChange={textChange} onBlur={lostFocus} value={newAction}></TextareaAutosize></td>\n\n  return ( \n    <td onClick={onClick}>{ action }</td>\n   );\n}\n \nexport default ItemAction;","import React from 'react'\nimport { updateExpectedUpdate } from '../../store/actions'\nimport moment from 'moment';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nconst ItemExpectedUpdate = ({ item }) => {\n  const expectedUpdate = item.expectedUpdate ? moment.unix(item.expectedUpdate.seconds).toDate() : null\n  \n  const dateChange = (newDate) => {\n    updateExpectedUpdate(newDate, item.id)\n  }\n\n\n\n  return ( \n    <td><DatePicker wrapperClassName='mr-10' className={item.colorClass + ' static'} selected={expectedUpdate} onChange={dateChange} /></td>\n   );\n}\n \nexport default ItemExpectedUpdate;","import React from 'react';\nimport { deleteItem } from '../store/actions'\n\nconst TrashIcon = ({itemID}) => {\n\n  const clicked = (e) => {\n    if(window.confirm('Are you sure you want to delete?') === true){\n      deleteItem(itemID)\n    }\n  }\n\n  return ( \n    <div>\n      <svg onClick={clicked} className=\"trashIcon hidden absolute right-0 w-5 cursor-pointer\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n      </svg>\n    </div>\n   );\n}\n \nexport default TrashIcon;","import React from 'react'\nimport ItemName from './ItemInfo/ItemName';\nimport ItemImportance from './ItemInfo/ItemImportance';\nimport ItemDescription from './ItemInfo/ItemDescription';\n// import ItemNotes from './ItemInfo/ItemNotes';\nimport ItemActionType from './ItemInfo/ItemActionType';\nimport ItemAction from './ItemInfo/ItemAction';\nimport ItemExpectedUpdate from './ItemInfo/ItemExpectedUpdate';\nimport TrashIcon from './TrashIcon';\n\n\nconst ItemRow = ({ item }) => {\n\n  return ( \n    <tr className={item.colorClass}>\n      <td className='relative'>\n        <TrashIcon itemID={item.id} />\n        {item.score.toFixed(2)}\n      </td>\n      <ItemName item={item} />\n      <ItemImportance item={item} />\n      <ItemDescription item={item} />\n      {/* <ItemNotes item={item} /> */}\n      <ItemActionType item={item} />\n      <ItemAction item={item} />\n      <ItemExpectedUpdate item={item} />\n    </tr>\n   );\n}\n \nexport default ItemRow;","import React, { useContext } from 'react'\nimport { FbContext } from '../store/fbContext';\nimport ItemRow from './ItemRow';\n\nconst Table = () => {\n\n  const { items } = useContext(FbContext)\n  const sortedItems = items ? items.sort((a,b) => {\n    if(a.expectedUpdate === null) return 1\n    if(b.expectedUpdate === null) return -1\n    return b.score - a.score\n  }) : null;\n\n\n  return ( \n    <div>\n      <table>\n        <thead>\n          <tr>\n            <th>Score</th>\n            <th>Name</th>\n            <th>Importance</th>\n            <th>Description</th>\n            {/* <th>Notes</th> */}\n            <th>Action Type</th>\n            <th>Action</th>\n            <th>Expected Update</th>\n          </tr>\n        </thead>\n        <tbody>\n          { sortedItems && sortedItems.map(item => {\n            return <ItemRow key={item.id} item={item} />\n          })}\n        </tbody>\n      </table>\n    </div>\n   );\n}\n \nexport default Table;","import React, { useContext, useEffect, useState } from 'react'\nimport { FbContext } from '../store/fbContext';\nimport { logHistory } from '../store/actions'\n\nconst TotalScore = () => {\n\n  const { items, oneOffs, weights } = useContext(FbContext)\n  const oneOffWeight = weights ? weights.oneOff : 0;\n  const [totalScore, setTotalScore] = useState(0)\n\n  useEffect(() => {\n   var newScore = 0\n   var hydrated = false;\n    if(items && oneOffs){\n      for(var i = 0; i < items.length; i++){\n        newScore += items[i].score\n      }\n      if(newScore > 0) hydrated = true;\n      newScore = newScore + (oneOffs.length * oneOffWeight)\n    }\n\n    if(newScore !== totalScore && items && oneOffs && hydrated){\n      if(newScore === 1) console.log(items)\n      logHistory(newScore.toFixed(2))\n    }\n\n    setTotalScore(newScore)\n  }, [items, oneOffs, oneOffWeight, totalScore])\n\n\n  return ( \n    <div>\n      <h1 className=\"text-center text-4xl my-5\">{ totalScore.toFixed(2) }</h1>\n    </div>\n   );\n}\n \nexport default TotalScore;","import AddItem from \"./components/AddItem\";\nimport Login from \"./components/auth/Login\";\nimport Config from \"./components/Config\";\nimport LineChart from \"./components/LineChart\";\nimport OneOffs from \"./components/OneOffs/OneOffs\";\nimport Table from \"./components/Table\";\nimport TotalScore from \"./components/TotalScore\";\nimport { FbProvider } from './store/fbContext.js'\n\nfunction App() {\n  return (\n    <FbProvider>\n      <div className=\"App\">\n        <Login />\n        <TotalScore />\n        <OneOffs />\n        <Table />\n        <AddItem />\n        <Config />\n        <LineChart />\n      </div>\n    </FbProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/tailwind.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}