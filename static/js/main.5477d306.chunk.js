(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{115:function(e,t,c){},225:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(34),s=c.n(r),o=(c(115),c(3)),i=c(4),l=function(e,t){switch(t.type){case"SHOW_SHEET":return Object(i.a)(Object(i.a)({},e),{},{showSheet:!0,itemID:t.itemID,itemProjectID:t.itemProjectID});case"SHOW_PROJECT_SHEET":return Object(i.a)(Object(i.a)({},e),{},{showProjectSheet:!0,projectID:t.projectID});case"HIDE_SHEET":return Object(i.a)(Object(i.a)({},e),{},{showSheet:!1,itemID:null,itemProjectID:null});case"HIDE_PROJECT_SHEET":return Object(i.a)(Object(i.a)({},e),{},{showProjectSheet:!1,projectID:null});case"TOGGLE_CHART":return Object(i.a)(Object(i.a)({},e),{},{showChart:!e.showChart});default:return e}},d=c(1),u=a.a.createContext(),j=function(e){var t=e.children,c=Object(n.useReducer)(l,{showSheet:!1,showProjectSheet:!1,itemID:null,showChart:!1}),a=Object(o.a)(c,2),r=a[0],s=a[1];return Object(d.jsx)(u.Provider,{value:{modalStatus:r,modalDispatch:s},children:t})},f=c(17),b=c(37),p=function(e){var t=e.value,c=e.change,a=e.changed,r=e.changedClass,s=Object(n.useState)(!1),i=Object(o.a)(s,2),l=i[0],u=i[1],j=function(e){u(!l)},f=a?r:"";return Object(d.jsx)("div",{className:"mt-2 ",children:l?Object(d.jsx)(b.a,{onFocus:function(e){e.target.select()},onBlur:j,autoFocus:!0,id:"action",onChange:function(e){c(e)},className:"focus:outline-none border-2 border-black text-xl font-bold w-11/12 max-w-11/12 ",value:t}):""===t?Object(d.jsx)("p",{className:"italic text-gray-500 cursor-pointer underline inline-block",onClick:j,children:"Add Action"}):Object(d.jsx)("p",{className:"cursor-pointer hover:underline inline-block text-xl font-bold max-w-11/12 "+f,onClick:j,children:t})})},x=function(e,t){switch(t.type){case"SET_DATA":return Object(i.a)(Object(i.a)({},e),{},{items:t.data.items,projects:t.data.projects,weights:t.data.weights,totalScore:t.data.totalScore,allDataPulled:t.data.allDataPulled});case"SET_HISTORY":return Object(i.a)(Object(i.a)({},e),{},{history:t.history});case"SET_ONE_OFFS":return Object(i.a)(Object(i.a)({},e),{},{oneOffs:t.oneOffs});case"SET_ALL_LOADED":return Object(i.a)(Object(i.a)({},e),{},{allLoaded:t.allLoaded});default:return e}},O=a.a.createContext(),h=function(e){var t=e.children,c=Object(n.useReducer)(x,{projects:null,items:null,weights:null,oneOffs:null,history:null,totalScore:0,allLoaded:!1}),a=Object(o.a)(c,2),r=a[0],s=a[1];return Object(d.jsx)(O.Provider,{value:{projects:r.projects,items:r.items,weights:r.weights,oneOffs:r.oneOffs,history:r.history,totalScore:r.totalScore,allLoaded:r.allLoaded,dataDispatch:s},children:t})},m=c(54),v=function(e){var t=e.value,c=e.change,a=e.changed,r=e.changedClass,s=(e.reset,Object(n.useContext)(O).weights),i=Object(n.useState)(!1),l=Object(o.a)(i,2),u=l[0],j=l[1],f=s?s.actionTypeArray:null;f&&(f=f.sort((function(e,t){return t.weight-e.weight})));var b=[];f.forEach((function(e){b.push({value:e.id,label:e.name})}));var p=f?f.filter((function(e){return e.id===parseInt(t)}))[0]:null,x=function(e){j(!u)},h=a?r:"";return Object(d.jsx)("div",{className:"",children:u?Object(d.jsx)(m.a,{className:"w-1/2",options:b,id:"actionType",onBlur:x,onClick:x,placeholder:p.name,onChange:function(e){var t={target:{id:"actionType",value:e.value}};c(t),j(!1)},autoFocus:!0,maxMenuHeight:200,menuIsOpen:!0,controlShouldRenderValue:!0}):Object(d.jsx)("p",{className:"text-md inline-block cursor-pointer hover:underline "+h,onClick:x,children:p?p.name:""})})},y=c(7),g=c.n(y),w=c(105),N=c.n(w),E=(c(129),function(e){var t=e.value,c=e.change,n=e.changed,a=e.changedClass,r=t&&t.seconds?g.a.unix(t.seconds).toDate():t||null,s=n?a:"";return Object(d.jsx)("div",{className:" flex space-x-2",children:Object(d.jsx)(N.a,{id:"expectedUpdate",filterDate:function(e){return 0!==e.getDay()&&6!==e.getDay()},isClearable:!1,className:"cursor-pointer hover:underline "+s,selected:r,onFocus:function(e){e.target.select()},onChange:function(e,t){null!==e&&c(e)}})})}),T=c(58);c(228),c(214),c(226);T.a.initializeApp({apiKey:"AIzaSyCSu3ggsS66Mo1OullwbFJIg9mibC9E9wY",authDomain:"todo-8303f.firebaseapp.com",projectId:"todo-8303f",storageBucket:"todo-8303f.appspot.com",messagingSenderId:"928128254937",appId:"1:928128254937:web:a3f32fafc7ca5ba6c40fc8"}),T.a.firestore();var S=T.a,C=function(e,t,c){if(!0===window.confirm("Are you sure you want to complete?")){var n=t.filter((function(t){return t.id===e}))[0],a=new Date;S.firestore().collection("users/"+D()+"/items").doc(e).update({completed:!0,completedDate:a,actionTypeWeightEnd:n.actionTypeWeight,importanceWeightEnd:n.importanceWeight,dayDropEnd:n.dayDrop,scoreOnComplete:n.score})}},k=function(e,t){if(!g.a.unix(e.expectedUpdate.seconds).startOf("days").isSame(g()(t.date).startOf("days"))){var c=g()(t.date).startOf("days").toDate();S.firestore().collection("users/"+D()+"/items").doc(e.id).update({expectedUpdate:c})}},D=function(){return S.auth().currentUser.uid},I=function(){return Object(d.jsx)("div",{className:" flex flex-col justify-center",children:Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})})},F=function(e){var t=e.value,c=e.change,a=e.changed,r=e.changedClass,s=Object(n.useContext)(O).projects,i=Object(n.useState)(!1),l=Object(o.a)(i,2),j=l[0],f=l[1],b=Object(n.useContext)(u).modalDispatch,p=[];s&&(p=s.sort((function(e,t){return t.totalScore-e.totalScore})));var x=[];p.forEach((function(e){x.push({value:e.id,label:e.name})}));var h=s?s.filter((function(e){return e.id===t}))[0]:null,v=function(e){f(!j)},y=a?r:"";return Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"pr-5 mt-5",children:j?Object(d.jsx)(m.a,{className:"w-3/4",options:x,id:"projectID",onBlur:function(e){f(!j)},onClick:v,placeholder:h?h.name:"Select Project",onChange:function(e){var t={target:{id:"projectID",value:e.value}};c(t),f(!1)},autoFocus:!0,maxMenuHeight:200,menuIsOpen:!0,controlShouldRenderValue:!0}):Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"flex space-x-1",children:[Object(d.jsx)(I,{}),Object(d.jsx)("p",{className:"text-lg hover:underline cursor-pointer inline-block "+y,onClick:v,children:h?h.name:"Select Project"})]}),Object(d.jsx)("div",{}),Object(d.jsx)("p",{className:"text-sm text-gray-400 cursor-pointer inline-block",onClick:function(e){b({type:"HIDE_SHEET"}),b({type:"SHOW_PROJECT_SHEET",projectID:h.id})},children:"View Project"})]})})})},L=function(){return Object(d.jsx)("svg",{className:"cursor-pointer",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})},_=function(e){var t=e.value,c=e.change,a=e.changed,r=e.changedClass,s=Object(n.useState)(!1),i=Object(o.a)(s,2),l=i[0],u=i[1],j=function(e){u(!l)},f=a?r:"";return Object(d.jsxs)("div",{className:"mt-5",children:[Object(d.jsx)("p",{className:"text-md font-bold",children:"Notes"}),l?Object(d.jsx)(b.a,{id:"notes",autoFocus:!0,onBlur:j,onFocus:function(e){e.target.select()},onChange:c,className:"focus:outline-none border-2 border-black ",value:t}):""===t?Object(d.jsx)("p",{className:"italic text-gray-500 cursor-pointer underline inline-block "+f,onClick:j,children:"Add Note"}):Object(d.jsx)("p",{className:"cursor-pointer hover:underline inline-block "+f,onClick:j,children:t})]})},A=function(){return Object(d.jsx)("div",{children:Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})},H=function(e){var t=e.value,c=e.change,a=e.changed,r=e.changedClass,s=Object(n.useState)(!1),i=Object(o.a)(s,2),l=i[0],u=i[1],j=function(e){u(!l)},f=a?r:"";return""!==t||l?l?Object(d.jsx)("div",{className:"",children:Object(d.jsx)("input",{placeholder:"Enter URL",id:"link",autoFocus:!0,onFocus:function(e){e.target.select()},onBlur:j,onChange:c,value:t})}):Object(d.jsx)("div",{className:"mt-2",children:Object(d.jsxs)("div",{className:"flex space-x-1",children:[Object(d.jsx)("a",{target:"_blank",rel:"noreferrer",href:t,className:"text-blue-500 underline text-md font-bold "+f,children:"Link"}),Object(d.jsx)("div",{onClick:j,className:"w-4 h-4 cursor-pointer self-center",children:Object(d.jsx)(A,{})})]})}):Object(d.jsx)("div",{className:"mt-2",children:Object(d.jsx)("p",{className:"italic text-gray-500 cursor-pointer underline inline-block "+f,onClick:j,children:"Add Link"})})},P=function(){var e=Object(n.useContext)(O),t=e.items,c=(e.weights,Object(n.useContext)(u)),a=c.modalStatus,r=c.modalDispatch,s=function(e,t){var c=e||"";return{action:"",actionType:1,expectedUpdate:g()().startOf("day").toDate(),projectID:c,notes:"",link:""}},l=Object(n.useState)(s()),j=Object(o.a)(l,2),b=j[0],x=j[1],h=Object(n.useState)(s()),m=Object(o.a)(h,2),y=m[0],w=m[1],N=Object(n.useState)({action:!1,actionType:!1,expectedUpdate:!1,projectID:!1,notes:!1,link:!1}),T=Object(o.a)(N,2),k=T[0],I=T[1],A=Object(n.useState)(!1),P=Object(o.a)(A,2),M=P[0],R=P[1],B=Object(n.useState)(!0),U=Object(o.a)(B,2),W=U[0],G=U[1],Y=W?"":"bg-gray-300";Object(n.useEffect)((function(){a&&a.itemID&&(t?(x(t.filter((function(e){return e.id===a.itemID}))[0]),w(t.filter((function(e){return e.id===a.itemID}))[0]),G(!1)):G(!0)),a.itemProjectID&&x(s(a.itemProjectID))}),[a,t]),Object(n.useEffect)((function(){var e=0,t={action:!1,actionType:!1,expectedUpdate:!1,projectID:!1,notes:!1,link:!1};["action","actionType","projectID","notes","link"].forEach((function(c){b[c]!==y[c]&&(e++,t[c]=!0)}));var c=b.expectedUpdate.seconds?g.a.unix(b.expectedUpdate.seconds).startOf("day"):g()(b.expectedUpdate).startOf("day"),n=y.expectedUpdate.seconds?g.a.unix(y.expectedUpdate.seconds).startOf("day"):g()(y.expectedUpdate).startOf("day");c.isSame(n)||(e++,t.expectedUpdate=!0),R(e>0),I(t)}),[b,y]);var J=function(e){x(Object(i.a)(Object(i.a)({},b),{},Object(f.a)({},e.target.id,e.target.value)))};return Object(d.jsxs)("div",{id:"modal",className:"relative overflow-scroll bg-white h-2/4 mt-10 p-5 w-1/3",children:[Object(d.jsx)("div",{onClick:function(e){r({type:"HIDE_SHEET"})},className:"h-10 w-10 absolute top-0 right-0",children:Object(d.jsx)(L,{})}),Object(d.jsx)(v,{changed:k.actionType,changedClass:Y,value:b.actionType,change:J}),Object(d.jsx)(p,{changed:k.action,changedClass:Y,value:b.action,change:J}),Object(d.jsx)(E,{changed:k.expectedUpdate,changedClass:Y,value:b.expectedUpdate,change:function(e){x(Object(i.a)(Object(i.a)({},b),{},{expectedUpdate:e}))}}),Object(d.jsx)(F,{changed:k.projectID,changedClass:Y,value:b.projectID,change:J}),Object(d.jsx)(_,{changed:k.notes,changedClass:Y,value:b.notes,change:J}),Object(d.jsx)(H,{changed:k.link,changedClass:Y,value:b.link,change:J}),W?Object(d.jsx)("div",{className:"flex space-x-2 mt-5",children:Object(d.jsx)("button",{onClick:function(e){M&&(!function(e){var t=new Date;S.firestore().collection("users/"+D()+"/items").add({action:e.action,actionType:parseInt(e.actionType),expectedUpdate:e.expectedUpdate,deleted:!1,completed:!1,projectID:e.projectID,created:t,notes:e.notes,link:e.link})}(b),r({type:"HIDE_SHEET"}))},className:M?"doneBtn":"inactiveBtn",children:"Add"})}):Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"flex space-x-2 mt-5",children:[Object(d.jsx)("button",{onClick:function(e){M&&(!function(e){S.firestore().collection("users/"+D()+"/items").doc(e.id).update({action:e.action,actionType:parseInt(e.actionType),expectedUpdate:e.expectedUpdate,projectID:e.projectID,notes:e.notes,link:e.link})}(b),r({type:"HIDE_SHEET"}))},className:M?"doneBtn":"inactiveBtn",children:"Save"}),Object(d.jsx)("button",{onClick:function(e){C(b.id,t),r({type:"HIDE_SHEET"})},className:"completeBtn",children:"Complete Task"}),Object(d.jsx)("button",{onClick:function(e){!0===window.confirm("Are you sure you want to delete?")&&(!function(e,t,c){var n=t.filter((function(t){return t.id===e}))[0],a=new Date;S.firestore().collection("users/"+D()+"/items").doc(e).update({deleted:!0,deletedDate:a,actionTypeWeightEnd:n.actionTypeWeight,importanceWeightEnd:n.importanceWeight,dayDropEnd:n.dayDrop,scoreOnDelete:n.score})}(b.id,t),r({type:"HIDE_SHEET"}))},className:"importantBtn",children:"Delete Task"})]}),Object(d.jsx)("div",{})]})]})},M=function(){var e=Object(n.useContext)(u),t=e.modalStatus,c=e.modalDispatch;return!1===t.showSheet?null:Object(d.jsx)("div",{onClick:function(e){"edit-bg"===e.target.id&&c({type:"HIDE_SHEET"})},id:"edit-bg",className:"flex justify-center w-screen h-screen bg-gray-400 bg-opacity-50 fixed inset-0",children:Object(d.jsx)(P,{})})},R=c(49),B=a.a.createContext(),U=function(e){var t=e.children,c=Object(R.a)(S.auth()),n=Object(o.a)(c,1)[0];return Object(d.jsx)(B.Provider,{value:{FBuser:n},children:t})},W=c(24),G=a.a.createContext(),Y=function(e){var t=e.children,c=S.firestore().collection("config").doc("2TttT72yuM5PAvGMjgJT"),n=Object(W.b)(c),a=Object(o.a)(n,2),r=a[0],s=a[1];return Object(d.jsx)(G.Provider,{value:{config:r,configLoading:s},children:t})},J=c(235),V=function(e){var t=e.daysItem,c=Object(J.a)((function(){return{type:"ITEM",item:Object(i.a)({},t),collect:function(e){return{isDragging:!!e.isDragging()}}}})),a=Object(o.a)(c,2),r=a[0].isDragging,s=a[1],l=Object(n.useContext)(u).modalDispatch,j=r?"opacity-50":"opacity-100",f=t.newScore?Math.max(t.newScore+t.score,0):t.score;return Object(d.jsxs)("div",{ref:s,onClick:function(e){l({type:"SHOW_SHEET",itemID:t.id})},className:"cursor-pointer my-1 overflow-hidden "+t.colorClass+" "+j,children:[Object(d.jsxs)("p",{className:"",children:["(",f.toFixed(2),") ",t.action]}),Object(d.jsxs)("p",{className:"text-xs",children:[t.actionTypeName," - ",t.project.name]})]},t.id)},z=c(236),K=function(e){var t=e.day,c=Object(z.a)((function(){return{accept:"ITEM",drop:function(e,c){k(c.getItem(),t)},collect:function(e){var c=e.getItem();if(!c||!1===e.isOver())return{hovered:!1,item:null};if(g.a.unix(c.expectedUpdate.seconds).startOf("days").isSame(t.date.startOf("days")))c.newScore=0;else{var n=g.a.unix(c.expectedUpdate.seconds).startOf("days").diff(t.date.startOf("days"));c.newScore=c.dayDrop*(n/1e3/60/60/24)}return{hovered:e.isOver(),item:c}}}}),[t]),a=Object(o.a)(c,2),r=a[0],s=a[1],i=Object(n.useContext)(O).items,l=i?i.filter((function(e){return g.a.unix(e.expectedUpdate.seconds).startOf("days").isSame(t.date.startOf("day"))})).sort((function(e,t){return t.score-e.score})):null;if(r.item&&!0===r.hovered){var u=r.item.id,j=!1;l.forEach((function(e){e.id===u&&(j=!0)})),j||(l.push(r.item),l.sort((function(e,t){return(t.newScore?Math.max(t.newScore+t.score,0):t.score)-(e.newScore?Math.max(e.newScore+e.score,0):e.score)})))}var f=i?i.filter((function(e){return!(!t.date.isSame(function(){for(var e=g()().startOf("day"),t=null;null===t;)1===e.day()?t=e:e.subtract(1,"d");return t}())||!g.a.unix(e.expectedUpdate.seconds).startOf("days").isBefore(t.date))})):null,b=0;l&&l.forEach((function(e){e.newScore&&0!==e.newScore?b+=Math.max(e.score+e.newScore,0):b+=e.score}));var p=0===t.today?"bg-doToday rounded-full p-1 text-white":-1===t.today?"bg-gray-400 rounded-full p-1":"bg-gray-200 rounded-full p-1";return Object(d.jsxs)("div",{ref:s,className:" flex flex-col overflow-hidden max-h-full border-l-2 border-r-2 border-darkGray ",children:[Object(d.jsxs)("div",{className:"border-b-4 border-darkGray pb-1",children:[Object(d.jsx)("p",{className:"text-center font-bold ",children:Object(d.jsx)("span",{className:" ",children:t.weekday})}),Object(d.jsxs)("p",{className:"text-center",children:[Object(d.jsx)("span",{className:p,children:t.date.format("DD")}),Object(d.jsxs)("span",{children:[" - ",b.toFixed(2)]})]})]}),Object(d.jsxs)("div",{className:"flex-shrink px-1 overflow-scroll",children:[f&&f.length>0?Object(d.jsx)("p",{className:"font-bold",children:"Past Weeks:"}):null,f&&f.length>0&&f.map((function(e){return Object(d.jsx)(V,{daysItem:e},e.id)})),f&&f.length>0?Object(d.jsx)("hr",{className:"border-4 border-darkGray"}):null,l&&l.map((function(e){return Object(d.jsx)(V,{daysItem:e},e.id)}))]})]})},X=function(e){for(var t=e.week,c=function(){for(var e=g()().startOf("day"),t=null;null===t;)1===e.day()?t=e:e.subtract(1,"d");return t},n=[],a=0;a<7;a++){var r=c().startOf("day").add(a,"d").add(t,"w"),s=g()().startOf("day"),o=s.isSame(r)?0:s.isBefore(r)?1:s.isAfter(r)?-1:0;0!==r.day()&&6!==r.day()&&n.push({weekday:r.format("dddd"),date:r,today:o})}return Object(d.jsx)("div",{className:"max-h-1/2 h-1/2 grid grid-cols-5 w-full border-b-8 border-darkGray bg-offWhite",children:n&&n.map((function(e){return Object(d.jsx)(K,{day:e},e.weekday)}))})},q=c(234),Q=c(55),Z=function(e,t){switch(t.type){case"SETUP_IMPORTANCE_FILTERS":var c={};return t.importances.forEach((function(e){c[e.id]=!0})),Object(i.a)(Object(i.a)({},e),{},{importanceFilters:c});case"SET_IMPORTANCE_FILTER":return Object(i.a)(Object(i.a)({},e),{},{importanceFilters:Object(i.a)(Object(i.a)({},e.importanceFilters),{},Object(f.a)({},t.importance,t.value))});case"ALL_IMPORTANCE":for(var n={},a=0,r=Object.keys(t.importances);a<r.length;a++){n[r[a]]=t.value}return Object(i.a)(Object(i.a)({},e),{},{importanceFilters:n});case"SET_ACTION_FILTER":return Object(i.a)(Object(i.a)({},e),{},{actionFilters:Object(i.a)(Object(i.a)({},e.actionFilters),{},Object(f.a)({},t.actionType,t.value))});case"ALL_ACTION":for(var s={},o=0,l=Object.keys(t.actionTypes);o<l.length;o++){s[l[o]]=t.value}return Object(i.a)(Object(i.a)({},e),{},{actionFilters:s});case"SET_DAY_FILTER":return Object(i.a)(Object(i.a)({},e),{},{dayFilter:t.value});default:return e}},$=a.a.createContext(),ee=function(e){var t=e.children,c=Object(n.useReducer)(Z,{dayFilter:"all",dayFilters:[{name:"All",value:"all",id:"all",filtName:"dateFilter"},{name:"Today",value:"0",id:"today",filtName:"dateFilter"},{name:"Next Day",value:"1",id:"nextDay",filtName:"dateFilter"},{name:"Next 2 Days",value:"2",id:"nextTwoDays",filtName:"dateFilter"},{name:"Overdue",value:"-1",id:"overdue",filtName:"dateFilter"}]}),a=Object(o.a)(c,2),r=a[0],s=a[1];return Object(d.jsx)($.Provider,{value:{filterData:r,filterDispatch:s},children:t})},te=function(){var e=Object(n.useContext)($).filterDispatch,t=Object(n.useContext)(O).weights;return Object(n.useEffect)((function(){var c=t?t.importanceTypes:{},n=t?t.actionTypes:{};e({type:"ALL_IMPORTANCE",value:!0,importances:c}),e({type:"ALL_ACTION",value:!0,actionTypes:n}),e({type:"SET_DAY_FILTER",value:"all"})}),[e,t]),Object(d.jsx)("div",{className:"overflow-scroll max-h-screen pb-10 h-screen",children:Object(d.jsxs)(q.a,{backend:Q.a,children:[Object(d.jsx)(X,{week:0}),Object(d.jsx)(X,{week:1})]})})},ce=c(52),ne=c(53),ae=(c(56),Object(i.a)(Object(i.a)({},ce),{},{tip:ne.a})),re=function(e){return g()(e).format("MM/DD/YY")},se=function(e){return e.toFixed(2)},oe=function(e,t){var c=function(e){var t=0,c=null;return e.lines.forEach((function(e){e.data.forEach((function(e){t=Math.max(e.y,t),c=c?Math.min(e.y,c):e.y}))})),{max:t,min:c-=.1*(t-c)}}(e);return ae.scaleLinear().range([0,t]).domain([c.max,c.min])},ie=function(e,t){var c=function(e){var t=new Date,c=0;return e.lines.forEach((function(e){e.data.forEach((function(e){c=Math.max(e.x,c),t=Math.min(e.x,t)}))})),{max:c,min:t}}(e);return ae.scaleTime().range([0,t]).domain([c.min,c.max])},le=function(){return ae.tip().attr("class","tip card").html((function(e,t){var c=re(t.x),n=se(t.y),a=function(e){return g()(e).format("h:mm a")}(t.x),r="";return r+='<div class="score">'.concat(n,"</div>"),r+='<div class="name">'.concat(c,"</div>"),r+='<div class="cost">'.concat(a,"</div>")})).direction("s").offset([15,0])},de=function(e,t){switch(t.type){case"LOG":return Object(i.a)(Object(i.a)({},e),{},{updates:e.updates+1});default:return e}},ue=a.a.createContext(),je=function(e){var t=e.children,c=Object(n.useState)(null),a=Object(o.a)(c,2),r=a[0],s=a[1],i=Object(R.a)(S.auth()),l=Object(o.a)(i,1)[0],u=Object(n.useReducer)(de,{updates:0}),j=Object(o.a)(u,2),f=j[0],b=j[1];return Object(n.useEffect)((function(){if(null!==l){var e=new XMLHttpRequest;console.log("PULL HISTORY"),e.onload=function(){s(JSON.parse(e.response))},e.onerror=function(){console.log(e.response)};var t={id:l.uid,days:30};e.open("POST","https://us-central1-todo-8303f.cloudfunctions.net/history/all",!0),e.send(JSON.stringify(t))}}),[l,f.updates]),Object(d.jsx)(ue.Provider,{value:{history:r,historyLoading:!1,historyDispatch:b},children:t})},fe=Object(i.a)(Object(i.a)({},ce),{},{tip:ne.a}),be=function(){var e=Object(n.useContext)(B).FBuser,t=Object(n.useContext)(u).modalStatus,c=null,a=t.showChart?"block":"hidden",r=Object(n.useContext)(ue).history;(c=r)&&c.lines.forEach((function(e){e.data.forEach((function(e){e.x=g()(e.x).toDate()}))}));var s=Object(n.useRef)();return Object(n.useEffect)((function(){var e=10,t=35,n=500-t-20,a=200-e-20,r=fe.select(s.current).attr("viewBox","0 0 ".concat(500," ").concat(200)).select(".chartArea").attr("height",200).attr("class","chartArea").attr("width",500).attr("transform","translate(".concat(t,",").concat(e,")"));r.selectAll("g").remove();var o=r.append("g").attr("transform","translate(-".concat(t,",-").concat(e,")"));if(o.selectAll("g").remove(),o.selectAll("path").remove(),c){var i=o.append("g").style("opacity",0).attr("transform","translate(".concat(t,",").concat(e,")")),l=i.append("line").attr("stroke","#aaa").attr("stroke-width",1).attr("stroke-dasharray",4),d=i.append("line").attr("stroke","#aaa").attr("stroke-width",1).attr("stroke-dasharray",4),u=r.append("g").attr("transform","translate(0,".concat(a,")")),j=r.append("g").attr("transform","translate(0, 0)"),f=ie(c,n),b=oe(c,a),p=fe.line().x((function(e){return f(e.x)})).y((function(e){return b(e.y)}));c.lines.forEach((function(n){var r=le();o.call(r);var s=o.append("path").attr("transform","translate(".concat(t,",").concat(e,")")),u=o.selectAll("circle."+n.name).data(n.data),j=c.dotSize?c.dotSize:5;u.exit().remove(),u.attr("r",j).attr("fill","black").attr("cx",(function(e){return f(e.x)})).attr("cy",(function(e){return b(e.y)})).attr("transform","translate(".concat(t,",").concat(e,")")).on("mouseover",r.show).on("mouseout",r.hide),u.enter().append("circle").attr("fill","black").attr("cx",(function(e){return f(e.x)})).attr("cy",(function(e){return b(e.y)})).attr("r",j).attr("transform","translate(".concat(t,",").concat(e,")")).attr("opacity",1).on("mouseover.tip",r.show).on("mouseover.lines",(function(e,t){l.attr("x1",f(t.x)).attr("x2",f(t.x)).attr("y1",b(t.y)).attr("y2",a),d.attr("x1",0).attr("x2",f(t.x)).attr("y1",b(t.y)).attr("y2",b(t.y)),i.style("opacity",1)})).on("mouseout.tip",r.hide).on("mouseout.lines",(function(e,t){i.style("opacity",0)}));var x=s.node().getTotalLength();s.data([n.data]).attr("fill","none").attr("stroke",n.color).attr("stroke-width",2).attr("d",p).style("opacity",.75).attr("stroke-dasharray",x+" "+x)}));var x=c.xTicks?c.xTicks:5,O=c.yTicks?c.yTicks:5,h=c?re:function(e){return e},m=c?se:function(e){return e},v=fe.axisBottom(f).tickFormat((function(e){return h(e)})).ticks(x),y=fe.axisLeft(b).tickFormat((function(e){return m(e)})).ticks(O);u.call(v).attr("class","chartAxis"),j.call(y).attr("class","chartAxis")}}),[e,c]),Object(d.jsx)("div",{className:"flex justify-center",children:Object(d.jsx)("div",{className:a+" w-full",children:Object(d.jsx)("svg",{ref:s,children:Object(d.jsx)("g",{className:"chartArea"})})})})},pe=c(217),xe=function(e){for(var t=e.importance,c=Object(n.useContext)(O).weights,a=c?c.importanceArray:null,r=pe([[255,255,255],[255,0,0]]),s=r(0),o=a.length,i=a.sort((function(e,t){return e.weight-t.weight})),l=1,u=1;u<=i.length;u++)i[u-1].id===t&&(l=u,s=r((u-1)/(o-1)));for(var j=[],f=1;f<=l;f++)j.push(f);return Object(d.jsx)("div",{className:"flex",children:j&&j.map((function(e){return Object(d.jsx)("div",{className:"h-3 w-3",children:Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(d.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"black",strokeWidth:"1",fill:s})})},e)}))})},Oe=function(e){var t=e.item,c=Object(n.useContext)(u).modalDispatch,a=t.expectedUpdate?g.a.unix(t.expectedUpdate.seconds).format("MM/DD/YY"):null,r=t&&1===t.daysTo?"Tomorrow":t&&0===t.daysTo?"Today":t&&t.daysTo>0?t.daysTo+" days":t&&-1===t.daysTo?"1 day ago":t&&t.daysTo<0?-1*t.daysTo+" days ago":null;return Object(d.jsxs)("div",{className:"rounded-md border-2 border-black my-2 w-full self-center grid grid-cols-12 ",children:[Object(d.jsxs)("div",{onClick:function(e){c({type:"SHOW_PROJECT_SHEET",projectID:t.projectID})},className:"hover:bg-opacity-50 mainInfo flex flex-col col-span-4 p-2 bg-darkGray text-white",children:[Object(d.jsx)("p",{className:"text-xs",children:t.score?t.score.toFixed(2):0}),Object(d.jsx)("p",{className:"text-xl",children:t.project?t.project.name:""}),Object(d.jsx)(xe,{importance:t.project?t.project.importance:3}),Object(d.jsx)("p",{className:"text-sm",children:t.project?t.project.description:""})]}),Object(d.jsxs)("div",{onClick:function(e){c({type:"SHOW_SHEET",itemID:t.id})},className:"relative hover:bg-opacity-75 col-span-8 p-2 "+t.colorClass,children:[Object(d.jsx)("p",{className:"text-xl",children:t.action}),Object(d.jsx)("p",{className:"text-sm",children:a}),Object(d.jsx)("p",{className:"text-base",children:t.actionTypeName}),Object(d.jsx)("p",{className:"absolute right-1 top-0",children:r})]})]})},he=function(e){var t=e.item,c=Object(n.useContext)(u).modalDispatch,a=t.expectedUpdate?g.a.unix(t.expectedUpdate.seconds).format("MM/DD/YY"):null;return Object(d.jsxs)("div",{onClick:function(e){c({type:"SHOW_SHEET",itemID:t.id})},className:"border-2 border-black my-2 w-full self-center grid grid-cols-12 ",children:[Object(d.jsx)("div",{className:"mainInfo justify-center flex flex-col col-span-2 p-2 bg-black text-white",children:Object(d.jsx)("p",{className:"text-xl self-center",children:t.score?t.score.toFixed(2):0})}),Object(d.jsxs)("div",{className:"col-span-10 p-2 "+t.colorClass,children:[Object(d.jsx)("p",{className:"text-xl",children:t.actionTypeName}),Object(d.jsx)("p",{className:"text-sm",children:a}),Object(d.jsx)("p",{className:"text-base",children:t.action})]})]})},me=function(e){var t=e.item,c=e.showProject;return Object(d.jsx)("div",{className:"cursor-pointer",children:c?Object(d.jsx)(Oe,{item:t}):Object(d.jsx)(he,{item:t})})};function ve(){var e=Object(n.useContext)(O).items,t=Object(n.useContext)($).filterData,c=e?e.sort((function(e,t){return null===e.expectedUpdate?1:null===t.expectedUpdate?-1:t.score-e.score})):null;if(t&&t.importanceFilters&&c){var a=t.importanceFilters;c=c.filter((function(e){return void 0===a[e.project.importance]||a[e.project.importance]}))}if(t&&c&&"all"!==t.dayFilter){var r=parseInt(t.dayFilter);c=c.filter((function(e){return e.daysTo<=r}))}if(t&&t.actionFilters&&c){var s=t.actionFilters;c=c.filter((function(e){return void 0===s[e.actionType]||s[e.actionType]}))}return c}var ye=function(){var e=Object(n.useContext)(O).allLoaded,t=Object(n.useContext)(B).FBuser,c=ve();return t&&e?Object(d.jsx)("div",{className:"overflow-scroll h-full hideBar",children:c&&c.map((function(e){return Object(d.jsx)(me,{showProject:!0,item:e},e.id)}))}):null},ge=function(){return Object(d.jsxs)("div",{className:"flex flex-col w-full col-span-6 col-start-4 p-2 overflow-hidden",children:[Object(d.jsx)(be,{}),Object(d.jsx)(ye,{})]})},we=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(n.useRef)(null);Object(n.useEffect)((function(){var e=function(e){"Slash"===e.code&&"TEXTAREA"!==document.activeElement.nodeName&&"INPUT"!==document.activeElement.nodeName&&r.current.focus()};return document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}}));return Object(d.jsx)("form",{onSubmit:function(e){e.preventDefault(),function(e){var t=D(),c=new Date;S.firestore().collection("users/"+D()+"/oneOffs").add({name:e,done:!1,userID:t,created:c})}(c),a("")},children:Object(d.jsx)("input",{ref:r,className:"formInput mt-2",placeholder:"Add One Off",value:c,onChange:function(e){a(e.target.value)}})})},Ne=function(e){var t=e.oneOff,c=Object(n.useState)(!1),a=Object(o.a)(c,2),r=a[0],s=a[1],i=Object(n.useState)(t.name),l=Object(o.a)(i,2),u=l[0],j=l[1];return Object(d.jsxs)("div",{onDoubleClick:function(e){s(!r)},className:"flex space-x-2 bg-gray-100 my-1",children:[Object(d.jsx)("input",{className:"self-center",onChange:function(){var e;e=t.id,S.firestore().collection("users/"+D()+"/oneOffs").doc(e).update({done:!0})},type:"checkbox"}),r?Object(d.jsx)("input",{autoFocus:!0,onBlur:function(e){var c,n;c=e.target.value,n=t.id,S.firestore().collection("users/"+D()+"/oneOffs").doc(n).update({name:c}),s(!1)},onChange:function(e){j(e.target.value)},value:u}):Object(d.jsx)("label",{className:"self-center",children:t.name})]})},Ee=function(){var e=Object(n.useContext)(O).oneOffs,t=e?e.sort((function(e,t){return e.created-t.created})):null;return Object(d.jsx)("div",{className:"w-full",children:Object(d.jsxs)("div",{className:"m-auto w-48",children:[Object(d.jsx)("h1",{className:"text-lg font-bold",children:"One Off Items"}),t&&t.map((function(e){return Object(d.jsx)(Ne,{oneOff:e},e.id)})),Object(d.jsx)(we,{})]})})},Te=function(){var e=Object(n.useContext)(B).FBuser,t=Object(n.useContext)(O),c=t.weights,a=t.totalScore,r=t.allLoaded,s=Object(n.useContext)(u).modalDispatch,o=Object(n.useContext)(ue).historyDispatch;Object(n.useEffect)((function(){!0===r&&null!==e&&null!==c&&null!==c.currentUserScore&&c.currentUserScore.toFixed(2)!==a.toFixed(2)&&function(e,t){var c=new Date;S.firestore().collection("users").doc(D()).get().then((function(n){n.data().currentScore.toFixed(2)!==e.toFixed(2)&&(console.log("log history. current:",n.data().currentScore,"new",e),S.firestore().collection("users").doc(D()).update({currentScore:parseFloat(e.toFixed(2))}).then((function(n){S.firestore().collection("users/"+D()+"/history").add({date:c,score:parseFloat(e.toFixed(2))}).then((function(e){t({type:"LOG"})}))})))}))}(a,o)}),[r,e,a,c,o]);return Object(d.jsx)("div",{className:"mt-5",children:Object(d.jsxs)("div",{className:"flex justify-center space-x-1",children:[Object(d.jsx)("h1",{className:"text-center text-4xl scoreLabel",children:a.toFixed(2)}),Object(d.jsx)("svg",{onClick:function(e){s({type:"TOGGLE_CHART"})},className:"w-5 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})})]})})},Se=function(e){var t=e.proj,c=e.weights,a=Object(n.useContext)(u).modalDispatch;return Object(d.jsxs)("div",{onClick:function(e){a({type:"SHOW_PROJECT_SHEET",projectID:t.id})},className:"transform hover:scale-110 transition ease-out duration-300 flex justify-between whitespace-nowrap px-2 space-x-2 text-white bg-darkGray rounded-lg cursor-pointer",children:[Object(d.jsxs)("p",{className:"overflow-hidden overflow-ellipsis",children:[t.totalScore.toFixed(2)," - ",t.name]}),Object(d.jsx)("div",{className:"self-center",children:Object(d.jsx)(xe,{importance:t.importance,importances:c.importanceArray})})]})},Ce=function(){return Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})},ke=function(){var e=Object(n.useContext)(O),t=e.projects,c=e.items,a=e.weights,r=Object(n.useContext)(u).modalDispatch,s=[];t&&c&&(s=t.map((function(e){var t=c.filter((function(t){return!!t.project&&t.project.id===e.id})),n=0;return t.forEach((function(e){return n+=e.score})),Object(i.a)(Object(i.a)({},e),{},{totalScore:n})}))),s.sort((function(e,t){return t.totalScore-e.totalScore}));return Object(d.jsxs)("div",{className:"mt-10 px-7",children:[Object(d.jsxs)("div",{className:"flex space-x-1",children:[Object(d.jsx)("p",{className:"self-center text-xl font-bold",children:"Projects"}),Object(d.jsx)("div",{onClick:function(e){r({type:"SHOW_PROJECT_SHEET",projectID:null})},className:"self-center w-6 h-6 cursor-pointer",children:Object(d.jsx)(Ce,{})})]}),Object(d.jsx)("div",{className:"flex flex-col space-y-1",children:s&&s.map((function(e){return Object(d.jsx)(Se,{proj:e,weights:a},e.id)}))})]})},De=a.a.createContext(),Ie=function(e){var t=e.children,c=Object(n.useContext)(B).FBuser,a=c?c.uid:null,r=Object(W.a)(S.firestore().collection("users/"+a+"/items").where("deleted","==",!1).where("completed","==",!0),{idField:"id"}),s=Object(o.a)(r,2),i=s[0],l=s[1];return Object(d.jsx)(De.Provider,{value:{completedItems:i,completedItemsLoading:l},children:t})};function Fe(){var e=Object(n.useContext)(O),t=e.items,c=e.weights,a=e.oneOffs,r=Object(n.useContext)(De).completedItems,s=ve(),i=Object(n.useState)(0),l=Object(o.a)(i,2),d=l[0],u=l[1];Object(n.useEffect)((function(){var e=t?t.filter((function(e){return e.daysTo<=0})):null;u(null===c||void 0===a?0:_(e)+c.oneOff*a.length)}),[t,a,c]);var j=Object(n.useState)(0),f=Object(o.a)(j,2),b=f[0],p=f[1];Object(n.useEffect)((function(){var e=t?t.filter((function(e){return 1===e.daysTo})):null;p(_(e))}),[t]);var x=Object(n.useState)(0),h=Object(o.a)(x,2),m=h[0],v=h[1];Object(n.useEffect)((function(){var e=t?t.filter((function(e){return g.a.unix(e.expectedUpdate.seconds).startOf("days").isBefore(A())})):null;v(_(e))}),[t]);var y=Object(n.useState)(0),w=Object(o.a)(y,2),N=w[0],E=w[1];Object(n.useEffect)((function(){var e=0;r&&r.forEach((function(t){void 0!==t.scoreOnComplete&&g.a.unix(t.completedDate.seconds).startOf("days").isSame(g()().startOf("days"))&&(e+=t.scoreOnComplete)})),E(e)}),[r]);var T=Object(n.useState)(0),S=Object(o.a)(T,2),C=S[0],k=S[1];Object(n.useEffect)((function(){var e=0;r&&r.forEach((function(t){void 0!==t.scoreOnComplete&&g.a.unix(t.created.seconds).startOf("days").isSame(g()().startOf("days"))&&(e+=t.scoreOnComplete)})),t&&t.forEach((function(t){g.a.unix(t.created.seconds).startOf("days").isSame(g()().startOf("days"))&&(e+=t.score)})),k(e)}),[r,t]);var D=Object(n.useState)(0),I=Object(o.a)(D,2),F=I[0],L=I[1];Object(n.useEffect)((function(){L(_(s))}),[s]);var _=function(e){if(null===e)return 0;var t=0;return e.forEach((function(e){t+=e.score})),t},A=function(){for(var e=g()().startOf("day").add(1,"d"),t=null;null===t;)1===e.day()?t=e:e.add(1,"d");return t};return{todaysScore:d,tomorrowsScore:b,thisWeeksScore:m,completedScore:N,createdScore:C,filteredScore:F}}var Le=function(){var e=Fe(),t=e.completedScore,c=e.createdScore,n=t?t.toFixed(2):0,a=c?c.toFixed(2):0;return Object(d.jsxs)("div",{className:"w-full mb-5",children:[Object(d.jsxs)("p",{className:"m-auto w-48",children:["Completed Today: ",n]}),Object(d.jsxs)("p",{className:"m-auto w-48",children:["Created Today: ",a]})]})},_e=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,1)[0],c=Object(n.useContext)(B).FBuser,a=Object(n.useContext)(O).allLoaded;return Object(d.jsx)("div",{className:"col-span-3 max-h-screen overflow-hidden mb-2",children:Object(d.jsx)("div",{className:"max-h-full overflow-scroll hideBar",children:c&&a?Object(d.jsxs)("div",{children:[Object(d.jsx)(Te,{}),Object(d.jsx)(Le,{}),Object(d.jsx)(Ee,{}),Object(d.jsx)(ke,{}),t?Object(d.jsx)("div",{}):null]}):null})})},Ae=function(e){var t=e.daysItem,c=Object(J.a)((function(){return{type:"ITEM",item:Object(i.a)({},t),collect:function(e){return{isDragging:!!e.isDragging()}}}})),a=Object(o.a)(c,2),r=a[0].isDragging,s=a[1],l=Object(n.useContext)(u).modalDispatch,j=r?"opacity-50":"opacity-100",f=t.newScore?Math.max(t.newScore+t.score,0):t.score;return Object(d.jsx)("div",{ref:s,onClick:function(e){l({type:"SHOW_SHEET",itemID:t.id})},className:"cursor-pointer my-1 overflow-hidden "+t.colorClass+" "+j,children:Object(d.jsxs)("p",{className:"text-xs lg:text-sm",children:["(",f.toFixed(2),") ",t.action]})},t.id)},He=function(e){var t=e.day,c=(e.simple,Object(z.a)((function(){return{accept:"ITEM",drop:function(e,c){k(c.getItem(),t)},collect:function(e){var c=e.getItem();if(!c||!1===e.isOver())return{hovered:!1,item:null};if(g.a.unix(c.expectedUpdate.seconds).startOf("days").isSame(t.date.startOf("days")))c.newScore=0;else{var n=g.a.unix(c.expectedUpdate.seconds).startOf("days").diff(t.date.startOf("days"));c.newScore=c.dayDrop*(n/1e3/60/60/24)}return{hovered:e.isOver(),item:c}}}}),[t])),a=Object(o.a)(c,2),r=a[0],s=a[1],i=Object(n.useContext)(O).items,l=i?i.filter((function(e){return g.a.unix(e.expectedUpdate.seconds).startOf("days").isSame(t.date.startOf("day"))})).sort((function(e,t){return t.score-e.score})):null;if(r.item&&!0===r.hovered){var u=r.item.id,j=!1;l.forEach((function(e){e.id===u&&(j=!0)})),j||(l.push(r.item),l.sort((function(e,t){return(t.newScore?Math.max(t.newScore+t.score,0):t.score)-(e.newScore?Math.max(e.newScore+e.score,0):e.score)})))}var f=i?i.filter((function(e){return!(!t.date.isSame(function(){for(var e=g()().startOf("day"),t=null;null===t;)1===e.day()?t=e:e.subtract(1,"d");return t}())||!g.a.unix(e.expectedUpdate.seconds).startOf("days").isBefore(t.date))})):null,b=0;l&&l.forEach((function(e){e.newScore&&0!==e.newScore?b+=Math.max(e.score+e.newScore,0):b+=e.score}));var p=0===t.today?"bg-doToday rounded-full p-1 text-white":-1===t.today?"bg-gray-400 rounded-full p-1":"bg-gray-200 rounded-full p-1";return Object(d.jsxs)("div",{ref:s,className:"pt-1 h-1/3 flex flex-col overflow-hidden border-l-2 border-r-2 border-darkGray ",children:[Object(d.jsxs)("div",{className:"border-b-4 border-darkGray",children:[Object(d.jsx)("p",{className:"text-center font-bold ",children:Object(d.jsx)("span",{className:p,children:t.weekday})}),Object(d.jsx)("p",{className:"text-center",children:b.toFixed(2)})]}),Object(d.jsx)("div",{className:"px-1 flex-shrink overflow-scroll",children:Object(d.jsxs)("div",{className:"",children:[f&&f.length>0?Object(d.jsx)("p",{className:"font-bold",children:"Past Weeks:"}):null,f&&f.length>0&&f.map((function(e){return Object(d.jsx)(Ae,{daysItem:e},e.id)})),f&&f.length>0?Object(d.jsx)("hr",{className:"border-4 border-darkGray"}):null,l&&l.map((function(e){return Object(d.jsx)(Ae,{daysItem:e},e.id)}))]})})]})},Pe=function(){for(var e=[],t=0;t<3;t++){for(var c=g()().startOf("day").add(t,"day");6===c.day()||0===c.day();)c.add(t,"day");e.push({weekday:c.format("dddd"),date:c,today:0===t?0:1})}return Object(d.jsx)("div",{className:"h-full",children:Object(d.jsx)("div",{className:"h-full",children:e&&e.map((function(e){return Object(d.jsx)(He,{day:e,simple:!0},e.date.format("MM-DD-YYYY"))}))})})},Me=function(){var e=Object(n.useContext)(O).weights,t=Object(n.useContext)($),c=t.filterData,a=t.filterDispatch,r=[];if(!e)return null;e.actionTypeArray.forEach((function(e){r.push({id:e.id,name:e.name})}));var s=function(e){a({type:"SET_ACTION_FILTER",actionType:e.target.id,value:e.target.checked})};return Object(d.jsxs)("div",{className:"mt-5",children:[Object(d.jsx)("p",{className:"text-xl font-bold",children:"Filter Action Type"}),Object(d.jsx)("div",{className:"flex flex-col",children:r.map((function(e){return Object(d.jsxs)("div",{className:"flex space-x-1",children:[Object(d.jsx)("input",{className:"self-center form-checkbox text-darkGray",id:e.id,onChange:s,checked:!c.actionFilters||void 0===c.actionFilters[e.id]||c.actionFilters[e.id],type:"checkbox"}),Object(d.jsx)("label",{className:"self-center",children:e.name})]},e.id)}))}),Object(d.jsxs)("div",{className:"flex space-x-2",children:[Object(d.jsx)("button",{className:"btn mt-2",onClick:function(t){a({type:"ALL_ACTION",value:!0,actionTypes:e.actionTypes})},children:"Select All"}),Object(d.jsx)("button",{className:"btn mt-2",onClick:function(t){a({type:"ALL_ACTION",value:!1,actionTypes:e.actionTypes})},children:"De-select All"})]})]})},Re=function(){var e=Object(n.useContext)($),t=e.filterData,c=e.filterDispatch,a=Object(n.useState)("1000000"),r=Object(o.a)(a,2),s=r[0],i=r[1];Object(n.useEffect)((function(){t&&i(t.dayFilter)}),[t]);var l=function(e){c({type:"SET_DAY_FILTER",value:e.target.value})},u=t.dayFilters;return Object(d.jsxs)("div",{className:"mt-5",children:[Object(d.jsx)("p",{className:"text-xl font-bold",children:"Filter Date"}),Object(d.jsx)("div",{children:u.map((function(e){return Object(d.jsxs)("div",{className:"flex space-x-1",children:[Object(d.jsx)("input",{className:"self-center form-radio text-darkGray",onChange:l,type:"radio",name:e.filtName,value:e.value,checked:s===e.value}),Object(d.jsx)("label",{className:"self-center",children:e.name})]},e.id)}))})]})},Be=function(){var e=Object(n.useContext)(O).weights,t=Object(n.useContext)($),c=t.filterDispatch,a=t.filterData,r=[];if(!e)return null;e.importanceArray.forEach((function(e){r.push({id:e.id,name:e.name,weight:e.weight})})),r=r.sort((function(e,t){return t.weight-e.weight}));var s=function(e){c({type:"SET_IMPORTANCE_FILTER",importance:e.target.id,value:e.target.checked})};return Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:"text-xl font-bold",children:"Filter Importance"}),Object(d.jsx)("div",{className:"flex flex-col",children:r.map((function(e){return Object(d.jsxs)("div",{className:"flex space-x-1",children:[Object(d.jsx)("input",{className:"self-center form-checkbox text-darkGray focus:outline-none",id:e.id,onChange:s,checked:!a.importanceFilters||void 0===a.importanceFilters[e.id]||a.importanceFilters[e.id],type:"checkbox"}),Object(d.jsx)("label",{className:"self-center",children:e.name})]},e.id)}))}),Object(d.jsxs)("div",{className:"flex space-x-2",children:[Object(d.jsx)("button",{className:"btn mt-2",onClick:function(t){c({type:"ALL_IMPORTANCE",value:!0,importances:e.importanceTypes})},children:"Select All"}),Object(d.jsx)("button",{className:"btn mt-2",onClick:function(t){c({type:"ALL_IMPORTANCE",value:!1,importances:e.importanceTypes})},children:"De-select All"})]})]})},Ue=function(){var e=Object(n.useContext)($).filterDispatch,t=Object(n.useContext)(O).weights,c=t?t.importanceTypes:{},a=t?t.actionTypes:{};return Object(d.jsxs)("div",{className:"mb-10 p-2",children:[Object(d.jsx)(Be,{}),Object(d.jsx)(Re,{}),Object(d.jsx)(Me,{}),Object(d.jsx)("button",{onClick:function(t){e({type:"ALL_IMPORTANCE",value:!0,importances:c}),e({type:"ALL_ACTION",value:!0,actionTypes:a}),e({type:"SET_DAY_FILTER",value:"all"})},className:"doneBtn mt-10",children:"Clear Filters"})]})},We=function(e,t){switch(t.type){case"TOGGLE_VIEW":return Object(i.a)(Object(i.a)({},e),{},{workingView:!e.workingView});case"TOGGLE_FILTERS":return Object(i.a)(Object(i.a)({},e),{},{showFilters:!e.showFilters});default:return e}},Ge=a.a.createContext(),Ye=function(e){var t=e.children,c=Object(n.useReducer)(We,{showFilters:!0}),a=Object(o.a)(c,2),r=a[0],s=a[1];return Object(d.jsx)(Ge.Provider,{value:Object(i.a)(Object(i.a)({},r),{},{stateDispatch:s}),children:t})},Je=function(){var e=Object(n.useContext)(B).FBuser,t=Object(n.useContext)(O).allLoaded,c=Object(n.useContext)(Ge).showFilters;return e&&t?Object(d.jsx)("div",{className:"col-span-3 max-h-screen",children:Object(d.jsx)("div",{className:"h-full",children:c?Object(d.jsx)(Ue,{}):Object(d.jsx)(q.a,{backend:Q.a,children:Object(d.jsx)(Pe,{})})})}):null},Ve=function(){return Object(d.jsxs)("div",{className:"max-h-screen grid grid-cols-12 h-screen pb-14",children:[Object(d.jsx)(_e,{}),Object(d.jsx)(ge,{}),Object(d.jsx)(Je,{})]})},ze=c(16),Ke=function(){var e=Object(n.useContext)(G).config;return e&&!0===e.downForMaintenance?Object(d.jsx)("p",{className:"text-3xl",children:"Down for maintenance"}):Object(d.jsx)("div",{className:"",children:Object(d.jsxs)(ze.d,{children:[Object(d.jsx)(ze.b,{exact:!0,path:"/",component:Ve}),Object(d.jsx)(ze.b,{exact:!0,path:"/planning",component:te}),Object(d.jsx)(ze.b,{exact:!0,path:"/working",component:Ve}),Object(d.jsxs)(ze.b,{path:"/",children:[" ",Object(d.jsx)(ze.a,{to:"/"})," "]})]})})},Xe=function(e){var t=e.value,c=e.change;return Object(d.jsxs)("div",{className:"mt-2",children:[Object(d.jsx)("p",{children:"Description"}),Object(d.jsx)(b.a,{id:"description",onChange:c,className:"focus:outline-none border-2 border-black ",value:t})]})},qe=function(e){var t=e.value,c=e.change,a=Object(n.useContext)(O).weights,r=a?a.importanceArray:null;return r&&(r=r.sort((function(e,t){return t.weight-e.weight}))),Object(d.jsxs)("div",{className:"mt-2",children:[Object(d.jsx)("p",{children:"Importance"}),Object(d.jsx)("select",{className:"border-2 border-black",id:"importance",onChange:c,value:t,children:r&&r.map((function(e){return Object(d.jsx)("option",{value:e.id,children:e.name},e.id)}))})]})},Qe=function(e){var t=e.value,c=e.change;return Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:"Name"}),Object(d.jsx)("input",{className:"formInput",onChange:c,id:"name",value:t})]})},Ze=function(){var e=Object(n.useContext)(O).projects,t=Object(n.useContext)(u),c=t.modalStatus,a=t.modalDispatch,r=Object(n.useState)({name:"",description:"",importance:3}),s=Object(o.a)(r,2),l=s[0],j=s[1],b=Object(n.useState)(!1),p=Object(o.a)(b,2),x=p[0],h=p[1],m=Object(n.useState)(!0),v=Object(o.a)(m,2),y=v[0],g=v[1],w=l.items?l.items.sort((function(e,t){return t.score-e.score})):null;Object(n.useEffect)((function(){c&&c.projectID&&(e?(j(e.filter((function(e){return e.id===c.projectID}))[0]),g(!1)):g(!0))}),[c,e]),Object(n.useEffect)((function(){""===l.name?h(!1):h(!0)}),[l.name]);var N=function(e){j(Object(i.a)(Object(i.a)({},l),{},Object(f.a)({},e.target.id,e.target.value)))};return Object(d.jsxs)("div",{className:"relative overflow-scroll bg-white h-5/6 w-1/2 mt-10 p-5",children:[Object(d.jsx)("div",{onClick:function(e){a({type:"HIDE_PROJECT_SHEET"})},className:"h-10 w-10 absolute top-0 right-0",children:Object(d.jsx)(L,{})}),y?Object(d.jsx)("p",{className:"text-xl font-bold",children:"New Project"}):Object(d.jsx)("p",{className:"text-xl font-bold",children:"Edit Project"}),Object(d.jsx)(Qe,{value:l.name,change:N}),Object(d.jsx)(Xe,{value:l.description,change:N}),Object(d.jsx)(qe,{value:l.importance,change:N}),y?Object(d.jsx)("div",{className:"flex space-x-2 mt-5",children:Object(d.jsx)("button",{onClick:function(e){x&&(!function(e){S.firestore().collection("users/"+D()+"/projects").add({description:e.description,importance:parseInt(e.importance),name:e.name,deleted:!1})}(l),a({type:"HIDE_PROJECT_SHEET"}))},className:x?"doneBtn":"inactiveBtn",children:"Add"})}):Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"flex space-x-2 mt-5",children:[Object(d.jsx)("button",{onClick:function(e){x&&(!function(e){S.firestore().collection("users/"+D()+"/projects").doc(e.id).update({description:e.description,importance:parseInt(e.importance),name:e.name})}(l),a({type:"HIDE_PROJECT_SHEET"}))},className:x?"doneBtn":"inactiveBtn",children:"Save"}),Object(d.jsx)("button",{onClick:function(e){var t;!0===window.confirm("Are you sure you want to delete? Deleting this project will also delete all of your actions under the project.")&&(t=l.id,S.firestore().collection("users/"+D()+"/projects").doc(t).update({deleted:!0}).then((function(e){S.firestore().collection("users/"+D()+"/items").where("project","==",t).where("deleted","!=",!0).get().then((function(e){var t=S.firestore().batch();e.docs.forEach((function(e){var c=S.firestore().collection("users/"+D()+"/items").doc(e.id);t.update(c,{deleted:!0})})),t.commit()}))})),a({type:"HIDE_PROJECT_SHEET"}))},className:"importantBtn",children:"Delete"})]}),Object(d.jsx)("div",{})]}),y?null:Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"flex space-x-1 mt-10",children:[Object(d.jsx)("p",{className:"text-xl font-bold self-center",children:"Actions In Project"}),Object(d.jsx)("div",{onClick:function(e){a({type:"SHOW_SHEET",itemProjectID:l.id})},className:"w-7 h-7 cursor-pointer self-center",children:Object(d.jsx)(Ce,{})})]}),w&&w.map((function(e){return Object(d.jsx)(me,{showProject:!1,item:e},e.id)}))]})]})},$e=function(){var e=Object(n.useContext)(u),t=e.modalStatus,c=e.modalDispatch;return!1===t.showProjectSheet?null:Object(d.jsx)("div",{onClick:function(e){"project-bg"===e.target.id&&c({type:"HIDE_PROJECT_SHEET"})},id:"project-bg",className:"flex justify-center w-screen h-screen bg-gray-400 bg-opacity-50 fixed inset-0",children:Object(d.jsx)(Ze,{})})},et=function(){var e=Object(n.useContext)(u),t=e.modalStatus,c=e.modalDispatch,a=Object(n.useContext)(O),r=a.items,s=(a.weights,Object(n.useContext)(Ge).stateDispatch),o=Object(ze.g)(),i=Object(ze.h)();return Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&(t.showSheet?c({type:"HIDE_SHEET"}):t.showProjectSheet&&c({type:"HIDE_PROJECT_SHEET"}))},n=function(e){if("TEXTAREA"!==document.activeElement.nodeName&&"INPUT"!==document.activeElement.nodeName){if("KeyD"===e.code&&e.ctrlKey&&t.itemID&&(C(t.itemID,r),c({type:"HIDE_SHEET"})),"KeyQ"===e.code&&("/"===i.pathname||"/working"===i.pathname?o.push("/planning"):o.push("/working")),"KeyP"===e.code&&t.itemID){var n=r.filter((function(e){return e.id===t.itemID}))[0];c({type:"SHOW_PROJECT_SHEET",projectID:n.projectID}),c({type:"HIDE_SHEET"})}"KeyN"===e.code&&(t.projectID?c({type:"SHOW_SHEET",itemProjectID:t.projectID}):c({type:"SHOW_SHEET"})),"KeyW"===e.code&&s({type:"TOGGLE_FILTERS"})}};return document.addEventListener("keyup",e),document.addEventListener("keydown",n),function(){document.removeEventListener("keyup",e),document.removeEventListener("keydown",n)}})),null},tt=a.a.createContext(),ct=function(e){var t=e.children,c=Object(n.useContext)(B).FBuser,a=c?c.uid:null,r=Object(W.a)(S.firestore().collection("users/"+a+"/items").where("deleted","==",!1).where("completed","==",!1),{idField:"id"}),s=Object(o.a)(r,2),i=s[0],l=s[1];return Object(d.jsx)(tt.Provider,{value:{items:i,itemsLoading:l},children:t})},nt=a.a.createContext(),at=function(e){var t=e.children,c=Object(n.useContext)(B).FBuser,a=c?c.uid:null,r=Object(W.a)(S.firestore().collection("users/"+a+"/oneOffs").where("done","==",!1),{idField:"id"}),s=Object(o.a)(r,2),i=s[0],l=s[1];return Object(d.jsx)(nt.Provider,{value:{oneOffs:i,oneOffsLoading:l},children:t})},rt=a.a.createContext(),st=function(e){var t=e.children,c=Object(n.useContext)(B).FBuser,a=c?c.uid:null,r=Object(W.a)(S.firestore().collection("users/"+a+"/projects").where("deleted","==",!1),{idField:"id"}),s=Object(o.a)(r,2),i=s[0],l=s[1];return Object(d.jsx)(rt.Provider,{value:{projects:i,projectsLoading:l},children:t})},ot=a.a.createContext(),it=function(e){var t=e.children,c=Object(n.useContext)(B).FBuser,a=c?c.uid:null,r=Object(W.b)(S.firestore().collection("users").doc("/"+a)),s=Object(o.a)(r,2),i=s[0],l=s[1],u=i&&i.actionTypes?i.actionTypes:null,j=i&&i.dayDrop?i.dayDrop:null,f=i&&i.importanceTypes?i.importanceTypes:null,b=i&&i.oneOff?i.oneOff:null,p=i&&null!==i.currentScore?i.currentScore:null,x=u&&j&&f&&b?{actionTypes:u,dayDrop:j,importanceTypes:f,oneOff:b,currentUserScore:p}:null;return Object(d.jsx)(ot.Provider,{value:{weights:x,weightsLoading:l},children:t})},lt=function(e,t,c,n){e=e?e.filter((function(e){return!1===e.completed&&!1===e.deleted})):null;var a=t?ft(t):null,r=e&&a&&c?xt(e,a,c):null,s=r&&c?ut(r,c):null,o=dt(r);return n&&n.forEach((function(e){o+=t.oneOff})),{items:r,weights:a,projects:s,totalScore:o,allDataPulled:!!(e&&t&&c&&n)}},dt=function(e){if(null===e)return 0;var t=0;return e.forEach((function(e){t+=e.score})),t},ut=function(e,t){return t.map((function(t){var c=jt(e,t),n=0;return c.forEach((function(e){return n+=e.score})),Object(i.a)(Object(i.a)({},t),{},{totalScore:n,items:c})}))},jt=function(e,t){return t&&e?e.filter((function(e){return e.projectID===t.id})):null},ft=function(e){return e.importanceArray=bt(e.importanceTypes),e.actionTypeArray=pt(e.actionTypes),e},bt=function(e){for(var t=[],c=0,n=Object.keys(e);c<n.length;c++){var a=n[c];t.push(e[a])}return t=t.sort((function(e,t){return e.id-t.id})),t},pt=function(e){for(var t=[],c=0,n=Object.keys(e);c<n.length;c++){var a=n[c];t.push(e[a])}return t=t.sort((function(e,t){return e.id-t.id})),t},xt=function(e,t,c){if(!e||!t||!c)return null;for(var n=0;n<e.length;n++)e[n]=Ot(e[n],t,c);return e},Ot=function(e,t,c){if(t&&e&&c){var n=c.filter((function(t){return t.id===e.projectID}))[0],a=!n;if(a)return null;var r=t.importanceArray.filter((function(e){return e.id===n.importance}))[0],s=t.actionTypeArray.filter((function(t){return t.id===e.actionType}))[0],o=ht(e.expectedUpdate),l=e.expectedUpdate?Math.max(0,1*r.weight*s.weight-o*t.dayDrop):0,d=mt(e);return Object(i.a)(Object(i.a)({},e),{},{deleted:a,importanceName:r.name,importanceWeight:r.weight,actionTypeName:s.name,actionTypeWeight:s.weight,daysTo:o,score:l,colorClass:d,project:n,dayDrop:t.dayDrop})}return e},ht=function(e){if(null===e)return 0;var t=g.a.unix(e.seconds).startOf("days"),c=g()().startOf("days"),n=g()(t).startOf("days"),a=g()(c).startOf("days"),r=1,s=[!1,!0,!0,!0,!0,!0,!1],o=0;if(t.isSame(c))return 0;for(t.isBefore(c)&&(a=g()(t),n=g()(c),r=-1);!a.isSame(n);)a.add(1,"d"),s[a.day()]&&o++;return o*r},mt=function(e){if(null===e.expectedUpdate)return"bg-white";var t=g()().startOf("day"),c=g.a.unix(e.expectedUpdate.seconds).startOf("day");return c.isBefore(t)&&5!==e.actionType&&6!==e.actionType?"bg-overdue text-white":!c.isSame(t)||1!==e.actionType&&4!==e.actionType?!c.isSame(t)||2!==e.actionType&&3!==e.actionType?1===e.actionType||4===e.actionType?"bg-doLater":2===e.actionType||3===e.actionType?"bg-notDoLater":"bg-neverDo":"bg-notDoToday text-white":"bg-doToday text-white"},vt=function(){var e=Object(n.useContext)(tt),t=e.items,c=e.itemsLoading,a=Object(n.useContext)(nt),r=a.oneOffs,s=a.oneOffsLoading,o=Object(n.useContext)(rt),i=o.projects,l=o.projectsLoading,u=Object(n.useContext)(ot),j=u.weights,f=u.weightsLoading,b=Object(n.useContext)(O).dataDispatch,p=!(c||s||l||f);return Object(n.useEffect)((function(){p&&(console.log("data effect"),b({type:"SET_DATA",data:lt(t,j,i,r)}))}),[t,i,j,r,b,p]),Object(n.useEffect)((function(){console.log("oneoff effect"),b({type:"SET_ONE_OFFS",oneOffs:r})}),[b,r]),Object(n.useEffect)((function(){console.log("all loaded effect"),b({type:"SET_ALL_LOADED",allLoaded:p})}),[p,b]),Object(d.jsx)("div",{})},yt=function(){var e=Fe(),t=e.todaysScore,c=e.tomorrowsScore,a=e.thisWeeksScore,r=e.filteredScore,s=Object(n.useContext)($),i=s.filterData,l=s.filterDispatch,u=Object(n.useState)("0"),j=Object(o.a)(u,2),f=j[0],b=j[1],p=Object(n.useContext)(O).weights,x=p?p.importanceTypes:{},h=p?p.actionTypes:{},m=Object(ze.h)(),v=function(){return"/planning"===m.pathname};Object(n.useEffect)((function(){for(var e=0,t=g()();0!==t.day();)t.add(1,"day"),0!==t.day()&&6!==t.day()&&e++;b(e.toString())}),[]);var y="0"===i.dayFilter?"text-yellow-300":"text-white",w="1"===i.dayFilter?"text-yellow-300":"text-white",N=i.dayFilter===f?"text-yellow-300":"text-white";return Object(d.jsxs)("div",{className:"grid grid-cols-4 text-white",children:[Object(d.jsxs)("div",{className:"cursor-pointer",onClick:function(e){v()||(l({type:"ALL_IMPORTANCE",value:!0,importances:x}),l({type:"ALL_ACTION",value:!0,actionTypes:h}),l({type:"SET_DAY_FILTER",value:"all"}))},children:[Object(d.jsx)("p",{className:"text-center text-2xl",children:r.toFixed(2)}),Object(d.jsx)("p",{className:"text-center",children:"Filtered View"})]}),Object(d.jsxs)("div",{className:"cursor-pointer "+y,onClick:function(e){v()||("0"===i.dayFilter?l({type:"SET_DAY_FILTER",value:"all"}):l({type:"SET_DAY_FILTER",value:"0"}))},children:[Object(d.jsx)("p",{className:"text-center text-2xl",children:t.toFixed(2)}),Object(d.jsx)("p",{className:"text-center",children:"Today"})]}),Object(d.jsxs)("div",{className:"cursor-pointer "+w,onClick:function(e){v()||("1"===i.dayFilter?l({type:"SET_DAY_FILTER",value:"all"}):l({type:"SET_DAY_FILTER",value:"1"}))},children:[Object(d.jsx)("p",{className:"text-center text-2xl",children:c.toFixed(2)}),Object(d.jsx)("p",{className:"text-center",children:"Tomorrow"})]}),Object(d.jsxs)("div",{className:"cursor-pointer "+N,onClick:function(e){v()||(i.dayFilter===f.toString()?l({type:"SET_DAY_FILTER",value:"all"}):l({type:"SET_DAY_FILTER",value:f.toString()}))},children:[Object(d.jsx)("p",{className:"text-center text-2xl",children:a.toFixed(2)}),Object(d.jsx)("p",{className:"text-center",children:"Rest of Week"})]})]})},gt=function(){var e=Object(n.useContext)(B).FBuser,t=Object(n.useContext)(u).modalDispatch,c=Object(n.useContext)(O).projects,a=[];c&&(a=c.sort((function(e,t){return t.totalScore-e.totalScore})));return null!==e&&Object(d.jsxs)("select",{autoFocus:!0,className:"border-2 border-none pl-5 w-32 bg-doToday rounded-md text-white",id:"projectID",onChange:function(e){console.log(e.target.value),t({type:"SHOW_SHEET",itemProjectID:e.target.value})},value:"",children:[Object(d.jsx)("option",{disabled:!0,value:"",children:"Add ToDo"}),a&&a.map((function(e){return Object(d.jsx)("option",{value:e.id,children:e.name},e.id)}))]})},wt=c(31),Nt=function(){return Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})},Et=function(){return Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})},Tt=function(){var e=Object(ze.h)(),t=function(){return"/working"===e.pathname||"/"===e.pathname?"/planning":"/working"};return"/planning"===e.pathname?Object(d.jsx)(wt.b,{className:"",to:t,children:Object(d.jsx)(Et,{})}):Object(d.jsx)(wt.b,{className:"",to:t,children:Object(d.jsx)(Nt,{})})},St=function(e){var t=e.click;return Object(d.jsx)("svg",{onClick:t,xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})},Ct=function(){return Object(d.jsx)(St,{click:function(e){S.auth().signOut()}})},kt=function(){var e=Object(n.useContext)(Ge),t=e.showFilters,c=e.stateDispatch,a=Object(ze.h)();return Object(d.jsxs)("div",{className:"grid grid-cols-12",children:[Object(d.jsxs)("div",{className:"flex col-span-3 self-center justify-self-start space-x-4",children:[Object(d.jsx)(Ct,{}),Object(d.jsx)(Tt,{}),Object(d.jsx)(gt,{})]}),Object(d.jsx)("div",{className:"col-span-6",children:Object(d.jsx)(yt,{})}),Object(d.jsx)("div",{className:"col-span-3 self-center justify-self-end",children:"/planning"!==a.pathname?Object(d.jsx)("button",{className:"btn",onClick:function(e){c({type:"TOGGLE_FILTERS"})},children:t?"Preview":"Filter"}):null})]})},Dt=function(){var e=Object(n.useState)({email:"",pass:""}),t=Object(o.a)(e,2),c=t[0],a=t[1],r=function(e){a(Object(i.a)(Object(i.a)({},c),{},Object(f.a)({},e.target.id,e.target.value)))};return Object(d.jsx)("div",{children:Object(d.jsxs)("form",{onSubmit:function(e){var t,n;e.preventDefault(),t=c.email,n=c.pass,S.auth().signInWithEmailAndPassword(t,n),a({email:"",pass:""})},children:[Object(d.jsx)("input",{onChange:r,value:c.email,id:"email",className:"formInput",type:"email"}),Object(d.jsx)("input",{onChange:r,value:c.pass,id:"pass",className:"formInput",type:"password"}),Object(d.jsx)("button",{className:"btn",type:"submit",children:"Login"})]})})},It=function(){return Object(d.jsx)("div",{className:"",children:Object(d.jsx)(Dt,{})})},Ft=function(){var e=Object(n.useContext)(B).FBuser;return Object(d.jsx)("div",{className:"",children:Object(d.jsx)("div",{className:"bg-darkGray w-full h-14 px-2",children:e?Object(d.jsx)(kt,{}):Object(d.jsx)(It,{})})})},Lt=function(){return Object(d.jsx)(U,{children:Object(d.jsx)(ee,{children:Object(d.jsx)(j,{children:Object(d.jsx)(h,{children:Object(d.jsx)(ct,{children:Object(d.jsx)(at,{children:Object(d.jsx)(st,{children:Object(d.jsx)(it,{children:Object(d.jsx)(je,{children:Object(d.jsx)(Y,{children:Object(d.jsx)(Ie,{children:Object(d.jsxs)(Ye,{children:[Object(d.jsx)(vt,{}),Object(d.jsxs)("div",{className:"App max-h-screen",children:[Object(d.jsxs)(wt.a,{basename:"/",children:[Object(d.jsx)(Ft,{}),Object(d.jsx)(Ke,{}),Object(d.jsx)(et,{})]}),Object(d.jsx)($e,{}),Object(d.jsx)(M,{})]})]})})})})})})})})})})})})};s.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(Lt,{})}),document.getElementById("root"))}},[[225,1,2]]]);
//# sourceMappingURL=main.5477d306.chunk.js.map