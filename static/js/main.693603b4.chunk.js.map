{"version":3,"sources":["store/reducers/modalReducer.js","store/contexts/modalContext.js","components/modals/EditSheet/EditAction.js","store/reducers/dataReducer.js","store/contexts/dataContext.js","components/modals/EditSheet/EditActionType.js","components/modals/EditSheet/EditExpectedUpdate.js","config/fbConfig.js","store/actions.js","components/modals/EditSheet/EditProject.js","components/icons/ExitIcon.js","components/modals/EditSheet/EditModal.js","components/modals/EditSheet/EditSheet.js","store/contexts/fbContext.js","components/leftBar/AddItem.js","components/auth/Login.js","components/leftBar/OneOffs/AddOneOff.js","components/leftBar/OneOffs/OneOffItem.js","components/leftBar/OneOffs/OneOffs.js","components/leftBar/todoConfig/ActionConfig.js","components/leftBar/todoConfig/ImportanceConfig.js","components/leftBar/todoConfig/Config.js","components/leftBar/TotalScore.js","components/icons/ImportanceIcon.js","components/leftBar/ProjectListItem.js","components/icons/PlusIcon.js","components/leftBar/ProjectList.js","components/leftBar/LeftBar.js","store/reducers/filterReducer.js","store/contexts/filterContext.js","components/rightBar/ActionTypeFilter.js","components/rightBar/DayFilter.js","components/rightBar/ImportanceFilters.js","components/rightBar/RightBar.js","chartHelper.js","store/contexts/itemsContext.js","components/leftBar/LineChart.js","components/itemCards/ItemCardWithProject.js","components/itemCards/ItemCard.js","components/itemCards/ItemCardContainer.js","components/centerColumn/CardCollection.js","components/centerColumn/UpcomingWork.js","components/centerColumn/CenterColumn.js","store/contexts/configContext.js","components/Main.js","components/modals/projectEdit/EditDescription.js","components/modals/projectEdit/EditImportance.js","components/modals/projectEdit/EditName.js","components/modals/projectEdit/ProjectEditModal.js","components/modals/projectEdit/ProjectEditSheet.js","components/EscDetect.js","store/contexts/oneOffsContext.js","store/contexts/projectsContext.js","store/contexts/weightsContext.js","store/contexts/historyContext.js","store/hydrateData.js","components/DataHydrator.js","App.js","index.js"],"names":["modalReducer","state","action","type","showSheet","itemID","itemProjectID","showProjectSheet","projectID","showChart","ModalContext","React","createContext","ModalProvider","children","useReducer","modalStatus","modalDispatch","Provider","value","EditAction","change","className","id","onChange","dataReducer","items","data","projects","weights","totalScore","todaysScore","tomorrowsScore","thisWeeksScore","allDataPulled","history","oneOffs","allLoaded","DataContext","DataContextProvider","dataDispatch","EditActionType","useContext","actionTypes","actionTypeArray","sort","a","b","weight","map","aType","name","EditExpectedUpdate","expectedUpdate","seconds","moment","unix","toDate","filterDate","d","isClearable","selected","newDate","g","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","updateImportanceTypes","newITypes","oldITypes","Object","keys","key","isNaN","parseFloat","collection","doc","currentUserID","get","then","userDoc","update","importanceTypes","updateActionTypes","newATypes","oldATypes","auth","currentUser","uid","EditProject","sortedProjects","disabled","project","ExitIcon","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","EditModal","node","useRef","useState","actionType","Date","newItem","setNewItem","changed","setChanged","isNew","setNew","useEffect","filter","item","e","target","ref","onClick","now","add","parseInt","deleted","completed","created","addNewItem","updateItem","window","confirm","i","completedDate","actionTypeWeightEnd","actionTypeWeight","importanceWeightEnd","importanceWeight","dayDropEnd","dayDrop","scoreOnComplete","score","completeItem","deletedDate","scoreOnDelete","deleteItem","EditSheet","FbContext","FbProvider","useAuthState","FBuser","AddItem","Login","email","pass","creds","setCreds","signOut","handleChange","onSubmit","preventDefault","signInWithEmailAndPassword","AddOneOff","newOneOff","setNewOneOff","oneOff","userID","done","addOneOff","placeholder","OneOffItem","OneOffs","sortedOneOffs","ActionConfig","setNewATypes","inputChangeWeight","attributes","actionid","nodeValue","inputChangeName","onBlurWeight","newValue","onBlurName","actionArray","push","onBlur","newID","length","newKey","addActionType","ImportanceConfig","setNewITypes","importanceid","importanceArray","iType","addImportance","Config","TotalScore","currentUserScore","toFixed","newScore","currentScore","console","log","t","date","logHistory","interpolate","require","ImportanceIcon","importance","importances","colors","color","totalImportances","sortedImportances","numberOfDots","dots","dot","cx","cy","r","ProjectListItem","proj","PlusIcon","ProjectList","newProjects","itemsInProj","projScore","forEach","LeftBar","showConfig","setShowConfig","filterReducer","importanceFilters","newImportanceFilters","actionFilters","newActionFilters","dayFilter","FilterContext","FilterContextProvider","dayFilters","filtName","filterData","filterDispatch","ActionTypeFilter","filters","onCheck","checked","filt","undefined","DayFilter","setValue","filterTypes","ImportanceFilters","RightBar","d3","d3module","tip","d3tip","cleanDays","newHistory","Set","hist","startOf","format","day","firstScore","firstTimestamp","lastScore","lastTimestamp","isBefore","isAfter","removeDuplicates","buildChartData","lineData","dateFormatter","decimalFormatter","yScaleLinear","chartData","height","yRange","maxY","minY","lines","line","point","Math","max","y","min","yMinMax","scaleLinear","range","domain","xScaleTime","width","xRange","minX","maxX","x","xMinMax","scaleTime","getToolTip","attr","html","xLabel","yLabel","xTimeLabel","timeOnlyFormatter","content","direction","offset","ItemsContext","ItemsProvider","useCollectionData","where","idField","itemsLoading","LineChart","chartClass","cleanHistory","margin","chartArea","select","current","selectAll","remove","graph","append","hoverLineGroup","style","xHoverLine","yHoverLine","xAxisGroup","yAxisGroup","xScale","yScale","pathGenerator","ttip","call","path","circs","circSize","dotSize","exit","on","show","hide","enter","pathLength","getTotalLength","xTicks","yTicks","xFormat","yFormat","xAxis","axisBottom","tickFormat","ticks","yAxis","axisLeft","ItemCardWithProject","daysToText","daysTo","description","colorClass","actionTypeName","ItemCard","ItemCardContainer","showProject","CardCollection","sortedItems","filterNumber","UpcomingWork","CenterColumn","ConfigContext","ConfigProvider","docRef","useDocumentData","config","loading","configLoading","Main","downForMaintenance","EditDescription","EditImportance","EditName","ProjectEditModal","newProject","setNewProject","addProject","updateProject","itemSnap","batch","docs","itemDoc","itemRef","commit","ProjectEditSheet","EscDetect","keyEvent","code","document","addEventListener","removeEventListener","OneOffsContext","OneOffsProvider","oneOffsLoading","ProjectsContext","ProjectsProvider","projectsLoading","WeightsContext","WeightsProvider","userData","weightsLoading","HistoryContext","HistoryProvider","orderBy","historyLoading","hydrateData","newWeights","hydrateWeights","newItems","hydrateItems","hydrateProjects","addScores","getTodaysScore","getTomorrowsScore","getThisWeeksScore","thisWeeksItems","getNextMonday","currentCheck","nextMonday","tomorrowsItems","todaysItems","itemsToAdd","itemsInProject","hydrateItem","itemDeleted","weekDaysBetween","itemColorClass","importanceName","timestamp","end","start","multiplier","dailyInfo","totalDays","isSame","DataHydrator","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.693603b4.chunk.js","sourcesContent":["\nexport const modalReducer = (state, action) => {\n  switch(action.type){\n    case 'SHOW_SHEET':\n      return {\n        ...state,\n        showSheet: true,\n        itemID: action.itemID,\n        itemProjectID: action.itemProjectID\n      }\n    case 'SHOW_PROJECT_SHEET':\n      return {\n        ...state,\n        showProjectSheet: true,\n        projectID: action.projectID\n      }\n    case 'HIDE_SHEET':\n      return{\n        ...state,\n        showSheet: false,\n        itemID: null,\n        itemProjectID: null\n      }\n    case 'HIDE_PROJECT_SHEET':\n      return{\n        ...state,\n        showProjectSheet: false,\n        projectID: null\n      }\n    case 'TOGGLE_CHART':\n      return{\n        ...state,\n        showChart: !state.showChart\n      }\n    default: \n      return state\n  }\n}","import React, { useReducer } from \"react\";\nimport { modalReducer } from '../reducers/modalReducer'\n\nexport const ModalContext = React.createContext();\n\n\nexport const ModalProvider = ({ children }) => {\n\n  const [modalStatus, modalDispatch] = useReducer(modalReducer, {\n    showSheet: false,\n    showProjectSheet: false,\n    itemID: null,\n    showChart: false\n  });\n\n\n\n\n  return (\n    <ModalContext.Provider value={{ modalStatus, modalDispatch }}>{children}</ModalContext.Provider>\n  );\n};\n\n","import React from 'react'\nimport TextareaAutosize from 'react-textarea-autosize';\n\n\nconst EditAction = ({value, change}) => {\n  return ( \n    <div className=\"mt-2\">\n      <p>Action</p>\n      <TextareaAutosize id='action' onChange={change} className={'focus:outline-none border-2 border-black '} value={value}></TextareaAutosize>\n    </div>\n   );\n}\n \nexport default EditAction;","\nexport const dataReducer = (state, action) => {\n  switch(action.type){\n    case 'SET_DATA':\n      return{\n        ...state,\n        items: action.data.items,\n        projects: action.data.projects,\n        weights: action.data.weights,\n        totalScore: action.data.totalScore,\n        todaysScore: action.data.todaysScore,\n        tomorrowsScore: action.data.tomorrowsScore,\n        thisWeeksScore: action.data.thisWeeksScore,\n        allDataPulled: action.data.allDataPulled\n      }\n    case 'SET_HISTORY':\n      return{\n        ...state,\n        history: action.history\n      }\n    case 'SET_ONE_OFFS':\n      return{\n        ...state,\n        oneOffs: action.oneOffs\n      }\n    case 'SET_ALL_LOADED':\n      return{\n        ...state,\n        allLoaded: action.allLoaded\n      }\n    default: \n      return state\n  }\n}","import React, { useReducer } from \"react\";\nimport { dataReducer } from '../reducers/dataReducer'\n\n\nexport const DataContext = React.createContext();\n\n\nexport const DataContextProvider = ({ children }) => {\n\n\n  const [data, dataDispatch] = useReducer(dataReducer, {\n    projects: null,\n    items: null,\n    weights: null,\n    oneOffs: null,\n    history: null,\n    totalScore: 0,\n    todaysScore: 0,\n    tomorrowsScore: 0,\n    thisWeeksScore: 0,\n    allLoaded: false\n  });\n\n\n  return (\n    <DataContext.Provider value={{ projects: data.projects, items: data.items, weights: data.weights, oneOffs: data.oneOffs, history: data.history, totalScore: data.totalScore, todaysScore: data.todaysScore, tomorrowsScore: data.tomorrowsScore, thisWeeksScore: data.thisWeeksScore, allLoaded: data.allLoaded, dataDispatch }}>{children}</DataContext.Provider>\n  );\n};\n\n","import React, { useContext } from 'react';\nimport { DataContext } from '../../../store/contexts/dataContext';\n\nconst EditActionType = ({value, change}) => {\n\n  const { weights } = useContext(DataContext)\n\n  var actionTypes = weights ? weights.actionTypeArray : null\n  if(actionTypes){\n    actionTypes = actionTypes.sort((a,b) => {\n      return b.weight - a.weight\n    })\n  }\n\n  return ( \n    <div className=\"mt-2\">\n      <p>Action Type</p>\n      <select className='border-2 border-black' onChange={change} id='actionType' value={value}>\n        { actionTypes && actionTypes.map(aType => {\n          return <option key={aType.id} value={aType.id}>{aType.name}</option> \n        })}\n      </select>\n    </div>\n   );\n}\n \nexport default EditActionType;","import React from 'react'\nimport moment from 'moment'\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\n\nconst EditExpectedUpdate = ({value, change}) => {\n\n  const expectedUpdate = value && value.seconds ? moment.unix(value.seconds).toDate() : value ? value : null\n\n  const dateChange = (newDate,g) => {\n    var dateToSend = newDate\n    if(dateToSend !== null){\n      change(dateToSend)\n    }\n  }\n\n  const filterDate = (d) => {\n    // if(moment(d).day() === 6 || moment(d).day() === 0){\n    //   return false\n    // }\n    return true\n  }\n\n  return ( \n    <div className=\"mt-2\">\n      <p>Expected Update</p>\n      <DatePicker id='expectedUpdate' filterDate={filterDate} isClearable={false} className='formInput' selected={expectedUpdate} onChange={dateChange} />\n    </div>\n   );\n}\n \nexport default EditExpectedUpdate;","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport 'firebase/analytics'\n\n// Replace this with your own config details\nvar config = {\n  apiKey: \"AIzaSyCSu3ggsS66Mo1OullwbFJIg9mibC9E9wY\",\n  authDomain: \"todo-8303f.firebaseapp.com\",\n  projectId: \"todo-8303f\",\n  storageBucket: \"todo-8303f.appspot.com\",\n  messagingSenderId: \"928128254937\",\n  appId: \"1:928128254937:web:a3f32fafc7ca5ba6c40fc8\"\n};\n\nfirebase.initializeApp(config);\nfirebase.firestore()\n\nexport default firebase ","import firebase from '../config/fbConfig'\n\n\nexport const updateName = (newName, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    name: newName\n  })\n}\n\nexport const updateImportance = (importance, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    importance: parseInt(importance)\n  })\n}\n\nexport const updateDescription = (newDesription, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    description: newDesription\n  })\n}\n\nexport const updateNotes = (newNotes, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    notes: newNotes\n  })\n}\n\nexport const updateActionType = (newActionType, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    actionType: parseInt(newActionType)\n  })\n}\n\nexport const updateAction = (newAction, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    action: newAction\n  })\n}\n\nexport const updateExpectedUpdate = (newExpectedUpdate, itemID) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    expectedUpdate: newExpectedUpdate\n  })\n}\n\nexport const completeOneOff = (id) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/oneOffs').doc(id).update({\n    done: true\n  })\n}\n\nexport const addOneOff = (oneOff) => {\n  const userID = currentUserID()\n  const now = new Date()\n  firebase.firestore().collection('users/' + currentUserID() + '/oneOffs').add({\n    name: oneOff,\n    done: false,\n    userID,\n    created: now\n  })\n}\n\nexport const login = (email, pass) => {\n  firebase.auth().signInWithEmailAndPassword(\n    email,\n    pass\n  )\n}\n\nexport const logout = () => {\n  firebase.auth().signOut()\n}\n\nexport const addNewItem = (newItem) => {\n  const now = new Date()\n  firebase.firestore().collection('users/' + currentUserID() + '/items').add({\n    action: newItem.action,\n    actionType: parseInt(newItem.actionType),\n    expectedUpdate: newItem.expectedUpdate,\n    deleted: false,\n    completed: false,\n    projectID: newItem.projectID,\n    created: now\n  })\n}\n\nexport const deleteItem = (itemID, items, weights) => {\n  const item = items.filter(i => {\n    return i.id === itemID\n  })[0]\n  const now = new Date()\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    deleted: true,\n    deletedDate: now,\n    actionTypeWeightEnd: item.actionTypeWeight,\n    importanceWeightEnd: item.importanceWeight,\n    dayDropEnd: item.dayDrop,\n    scoreOnDelete: item.score\n  })\n}\n\nexport const completeItem = (itemID, items, weights) => {\n  const item = items.filter(i => {\n    return i.id === itemID\n  })[0]\n  const now = new Date()\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemID).update({\n    completed: true,\n    completedDate: now,\n    actionTypeWeightEnd: item.actionTypeWeight,\n    importanceWeightEnd: item.importanceWeight,\n    dayDropEnd: item.dayDrop,\n    scoreOnComplete: item.score\n  })\n}\n\nexport const updateImportanceTypes = (newITypes, oldITypes) => {\n  const keys = Object.keys(newITypes)\n  for (const key of keys) {\n    if(!isNaN(parseFloat(newITypes[key].weight))){\n      oldITypes[key] = {\n        ...newITypes[key],\n        weight: parseFloat(newITypes[key].weight)\n      }\n    }\n  }\n  firebase.firestore().collection('users').doc(currentUserID()).get().then(userDoc => {\n    firebase.firestore().collection('users').doc(currentUserID()).update({\n      importanceTypes: oldITypes\n    })\n  })\n}\n\nexport const updateActionTypes = (newATypes, oldATypes) => {\n  const keys = Object.keys(newATypes)\n  for (const key of keys) {\n    if(!isNaN(parseFloat(newATypes[key].weight))){\n      oldATypes[key] = {\n        ...newATypes[key],\n        weight: parseFloat(newATypes[key].weight)\n      }\n    }\n  }\n  firebase.firestore().collection('users').doc(currentUserID()).get().then(userDoc => {\n    firebase.firestore().collection('users').doc(currentUserID()).update({\n      actionTypes: oldATypes\n    })\n  })\n}\n\nexport const logHistory = (newScore) => {\n  const now = new Date()\n  firebase.firestore().collection('users').doc(currentUserID()).get().then(userDoc => {\n    if(userDoc.data().currentScore.toFixed(2) !== newScore.toFixed(2)){\n      console.log('log history. current:', userDoc.data().currentScore, 'new', newScore)\n      firebase.firestore().collection('users').doc(currentUserID()).update({\n        currentScore: parseFloat(newScore.toFixed(2))\n      }).then(t => {\n        firebase.firestore().collection('users/' + currentUserID() + '/history').add({\n          date: now,\n          score: parseFloat(newScore.toFixed(2))\n        })\n      })\n    }\n  })\n\n}\n\nexport const updateItem = (newItem) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/items').doc(newItem.id).update({\n    action: newItem.action,\n    actionType: parseInt(newItem.actionType),\n    expectedUpdate: newItem.expectedUpdate,\n    projectID: newItem.projectID\n  })\n}\n\nexport const addImportance = (importanceTypes) => {\n  const keys = Object.keys(importanceTypes)\n  const newID = keys.length + 1;\n  const newKey = \"importanceTypes.\" + newID\n  firebase.firestore().collection('users').doc(currentUserID()).update({\n    [newKey]: {id: newID, name: \"New\", weight: 0}\n  })\n}\n\nexport const addActionType = (actionTypes) => {\n  const keys = Object.keys(actionTypes)\n  const newID = keys.length + 1;\n  const newKey = \"actionTypes.\" + newID\n  firebase.firestore().collection('users').doc(currentUserID()).update({\n    [newKey]: {id: newID, name: \"New\", weight: 0}\n  })\n}\n\nexport const updateProject = (newProject) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/projects').doc(newProject.id).update({\n    description: newProject.description,\n    importance: parseInt(newProject.importance),\n    name: newProject.name\n  })\n}\n\nexport const addProject = (newProject) => {\n  firebase.firestore().collection('users/' + currentUserID() + '/projects').add({\n    description: newProject.description,\n    importance: parseInt(newProject.importance),\n    name: newProject.name,\n    deleted: false\n  })\n}\n\nexport const deleteProject = (projectID) => {\n  const projectRef = firebase.firestore().collection('users/' + currentUserID() + '/projects').doc(projectID)\n  projectRef.update({\n    deleted: true\n  }).then(t => {\n    firebase.firestore().collection('users/' + currentUserID() + '/items').where('project','==',projectID).where('deleted','!=',true).get().then(itemSnap => {\n\n      var batch = firebase.firestore().batch();\n\n      itemSnap.docs.forEach(itemDoc => {\n        var itemRef = firebase.firestore().collection('users/' + currentUserID() + '/items').doc(itemDoc.id)\n        batch.update(itemRef, {\"deleted\": true});\n      })\n\n      // Commit the batch\n      batch.commit()\n    })\n  })\n}\n\nconst currentUserID = () => {\n  return firebase.auth().currentUser.uid\n}","import React, { useContext } from 'react'\nimport { DataContext } from '../../../store/contexts/dataContext'\n\nconst EditProject = ({value, change}) => {\n\n  const { projects } = useContext(DataContext)\n\n  var sortedProjects = []\n  if(projects){\n    sortedProjects  = projects.sort((a,b) => {\n      return b.totalScore - a.totalScore\n    })\n  }\n\n  return ( \n    <div className=\"mt-2\">\n      <p>Project</p>\n      <select className='border-2 border-black' id='projectID' value={value} onChange={change}>\n          <option disabled value={''}>Select a Project</option>\n        { sortedProjects && sortedProjects.map(project => {\n          return <option key={project.id} value={project.id}>{project.name}</option> \n        })}\n      </select>\n    </div>\n   );\n}\n \nexport default EditProject;","import React from 'react'\n\n\nconst ExitIcon = () => {\n  return ( \n    <svg className=\"cursor-pointer\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n    </svg>\n   );\n}\n \nexport default ExitIcon;","import React, { useState, useContext, useEffect, useRef } from 'react'\nimport EditAction from './EditAction';\nimport EditActionType from './EditActionType';\nimport EditExpectedUpdate from './EditExpectedUpdate';\nimport { updateItem, deleteItem, addNewItem, completeItem } from '../../../store/actions';\nimport EditProject from './EditProject';\nimport ExitIcon from '../../icons/ExitIcon';\nimport { ModalContext } from '../../../store/contexts/modalContext';\nimport { DataContext } from '../../../store/contexts/dataContext';\n\n\nconst EditModal = () => {\n\n  const node = useRef(null)\n  const { items, weights } = useContext(DataContext)\n  const { modalStatus, modalDispatch } = useContext(ModalContext)\n\n  const [newItem, setNewItem] = useState({\n    action: '',\n    actionType: 1,\n    expectedUpdate: new Date(),\n    projectID: ''\n  })\n\n  const [changed, setChanged] = useState(false)\n\n  const [isNew, setNew] = useState(true)\n\n  useEffect(() => {\n    if(modalStatus && modalStatus.itemID){\n      if(items){\n        setNewItem(items.filter(item => {return item.id === modalStatus.itemID})[0])\n        setNew(false)\n      }else{\n        setNew(true)\n      }\n    }\n    if(modalStatus.itemProjectID){\n      setNewItem({\n        action: '',\n        actionType: 1,\n        expectedUpdate: new Date(),\n        projectID: modalStatus.itemProjectID\n      })\n    }\n  }, [modalStatus, items])\n\n\n  useEffect(() => {\n    if(newItem.projectID === '' || newItem.action === ''){\n      setChanged(false)\n    }else{\n      setChanged(true)\n    }\n  },[newItem.projectID, newItem.action])\n\n  const change = (e) => {\n    setNewItem({\n      ...newItem,\n      [e.target.id]: e.target.value\n    })\n  }\n\n  const dateChange = (newDate) => {\n    setNewItem({\n      ...newItem,\n      expectedUpdate: newDate\n    })\n  }\n\n  const exitClick = (e) => {\n    modalDispatch({type:'HIDE_SHEET'})\n  }\n\n  const deleteClicked = (e) => {\n    if(window.confirm('Are you sure you want to delete?') === true){\n      deleteItem(newItem.id, items, weights)\n      modalDispatch({type:'HIDE_SHEET'})\n    }\n  }\n\n\n  const doneClick = (e) => {\n    if(!changed) return;\n    updateItem(newItem)\n    modalDispatch({type:'HIDE_SHEET'})\n  }\n\n  const addClick = (e) => {\n    if(!changed) return;\n    addNewItem(newItem)\n    modalDispatch({type:'HIDE_SHEET'})\n  }\n\n  const completeClick = (e) => {\n    if(window.confirm('Are you sure you want to complete?') === true){\n      completeItem(newItem.id, items, weights)\n      modalDispatch({type:'HIDE_SHEET'})\n    }\n  }\n\n\n  return ( \n      <div ref={node} id=\"modal\" className=\"relative overflow-scroll bg-white h-5/6 mt-10 p-5\">\n        <div onClick={exitClick} className=\"h-10 w-10 absolute top-0 right-0\">\n          <ExitIcon />\n        </div>\n        { isNew ? (\n          <p className=\"text-xl font-bold\">New Item</p>\n        ) : (\n          <p className=\"text-xl font-bold\">Edit Item</p>\n        )}\n        <EditProject value={newItem.projectID} change={change} />\n        <EditActionType value={newItem.actionType} change={change} />\n        <EditExpectedUpdate value={newItem.expectedUpdate} change={dateChange} />\n        <EditAction value={newItem.action} change={change} />\n        {\n          isNew ? (\n            <div className=\"flex space-x-2 mt-5\">\n              <button onClick={addClick} className={changed ? \"doneBtn\" : \"inactiveBtn\"}>Add</button>\n            </div>\n          ) : (\n            <div>\n              <div className=\"flex space-x-2 mt-5\">\n                <button onClick={doneClick} className={changed ? \"doneBtn\" : \"inactiveBtn\"}>Save</button>\n                <button onClick={completeClick} className=\"completeBtn\">Complete Task</button>\n                <button onClick={deleteClicked} className=\"importantBtn\">Delete Item</button>\n              </div>\n              <div>\n              </div>\n            </div>\n          )\n        }\n      </div>\n   );\n}\n \nexport default EditModal;","import React, { useContext } from 'react'\nimport { ModalContext } from '../../../store/contexts/modalContext';\nimport EditModal from './EditModal';\n\n\n\n\nconst EditSheet = () => {\n\n  const { modalStatus, modalDispatch } = useContext(ModalContext)\n\n  const onClick = (e) => {\n    if(e.target.id === \"edit-bg\"){\n      modalDispatch({type:'HIDE_SHEET'})\n    }\n  }\n\n\n  if(modalStatus.showSheet === false){\n    return null\n  }\n\n  return ( \n    <div onClick={onClick} id=\"edit-bg\" className='flex justify-center w-screen h-screen bg-gray-400 bg-opacity-50 fixed inset-0'>\n      <EditModal />\n    </div>\n   );\n}\n \nexport default EditSheet;","import React from \"react\";\nimport firebase from '../../config/fbConfig'\nimport { useAuthState } from 'react-firebase-hooks/auth';\n\n\nexport const FbContext = React.createContext();\n\n\nexport const FbProvider = ({ children }) => {\n\n  const [FBuser] = useAuthState(firebase.auth());\n\n\n  return (\n    <FbContext.Provider value={{ FBuser }}>{children}</FbContext.Provider>\n  );\n};\n\n","import React, { useContext } from 'react'\nimport { FbContext } from '../../store/contexts/fbContext'\nimport { ModalContext } from '../../store/contexts/modalContext'\n\nconst AddItem = () => {\n\n  const { FBuser } = useContext(FbContext)\n  const { modalDispatch } = useContext(ModalContext)\n\n  const addItem = () => {\n    modalDispatch({type:'SHOW_SHEET'})\n  }\n\n  if(FBuser === null) return false\n\n  return ( \n    <button className=\"ml-10 mt-5 mb-10 btn\" onClick={addItem}>Add Action</button>\n   );\n}\n \nexport default AddItem;","import React, { useState, useContext } from 'react'\nimport { FbContext } from '../../store/contexts/fbContext';\nimport { login, logout } from '../../store/actions'\n\nconst Login = () => {\n\n  const { FBuser } = useContext(FbContext)\n  const [creds, setCreds] = useState({\n    email: '',\n    pass: ''\n  })\n\n  const logoutClick = (e) => {\n    logout();\n  }\n\n  if(FBuser){\n    return(\n      <button onClick={logoutClick} className=\"btn\">Logout</button>\n    )\n  }\n\n  const submit = (e) => {\n    e.preventDefault();\n    login(creds.email, creds.pass)\n    setCreds({\n      email: '',\n      pass: ''\n    })\n  }\n\n  const handleChange = (e) => {\n    setCreds({\n      ...creds,\n      [e.target.id] : e.target.value\n    })\n  }\n\n  return ( \n    <div>\n      <form onSubmit={submit}>\n        <input onChange={handleChange} value={creds.email} id=\"email\" className=\"formInput\" type=\"email\"></input>\n        <input onChange={handleChange} value={creds.pass} id=\"pass\" className=\"formInput\" type=\"password\"></input>\n        <button className=\"btn\" type=\"submit\">Login</button>\n      </form>\n    </div>\n   );\n}\n \nexport default Login;","import React, { useState } from 'react'\nimport { addOneOff } from '../../../store/actions'\n\nconst AddOneOff = () => {\n\n  const [newOneOff, setNewOneOff] = useState('')\n\n  const change = (e) => {\n    setNewOneOff(e.target.value)\n  }\n\n  const submit = (e) => {\n    e.preventDefault()\n    addOneOff(newOneOff)\n    setNewOneOff('')\n  }\n\n  return ( \n    <form onSubmit={submit}>\n      <input className=\"formInput mt-2\" placeholder=\"Add One Off\" value={newOneOff} onChange={change}></input>\n    </form>\n   );\n}\n \nexport default AddOneOff;","import React from 'react'\nimport { completeOneOff } from '../../../store/actions'\n\nconst OneOffItem = ({oneOff}) => {\n\n  const onCheck = () => {\n    completeOneOff(oneOff.id)\n  }\n\n  return (\n    <div className=\"flex space-x-2 bg-gray-100 my-1\">\n      <input className='self-center' onChange={onCheck} type=\"checkbox\" />\n      <label className='self-center'>{oneOff.name}</label>\n    </div>\n   );\n}\n \nexport default OneOffItem;","import React, { useContext } from 'react'\nimport { DataContext } from '../../../store/contexts/dataContext';\nimport AddOneOff from './AddOneOff';\nimport OneOffItem from './OneOffItem';\n\n\nconst OneOffs = () => {\n\n  const { oneOffs } = useContext(DataContext)\n\n\n  var sortedOneOffs = oneOffs ? oneOffs.sort((a,b) => {\n    return a.created - b.created\n  }) : null\n\n\n\n  return ( \n    <div className=\"w-full\">\n      <div className=\"m-auto w-48\">\n        <h1 className=\"text-lg font-bold\">One Off Items</h1>\n        { sortedOneOffs && sortedOneOffs.map(oneOff => {\n          return (\n            <OneOffItem oneOff={oneOff} key={oneOff.id} />\n          )\n        })}\n        <AddOneOff />\n      </div>\n    </div>\n   );\n}\n \nexport default OneOffs;","import React, { useState, useEffect } from 'react'\nimport { updateActionTypes, addActionType } from '../../../store/actions'\n\nconst ActionConfig = ({actionTypes}) => {\n\n  const [newATypes, setNewATypes] = useState([])\n\n  useEffect(() => {\n    if(actionTypes){\n      setNewATypes(actionTypes)\n    }\n  },[actionTypes])\n\n\n  const inputChangeWeight = (e) => {\n    setNewATypes({\n      ...newATypes,\n      [e.target.attributes.actionid.nodeValue]: {\n        ...newATypes[e.target.attributes.actionid.nodeValue],\n        weight: e.target.value\n      }\n    })\n  }\n\n  const inputChangeName = (e) => {\n    setNewATypes({\n      ...newATypes,\n      [e.target.attributes.actionid.nodeValue]: {\n        ...newATypes[e.target.attributes.actionid.nodeValue],\n        name: e.target.value\n      }\n    })\n  }\n\n  const onBlurWeight = (e) => {\n    const newValue = isNaN(parseFloat(e.target.value)) ? actionTypes[e.target.attributes.actionid.nodeValue].weight : parseFloat(e.target.value)\n    updateActionTypes({\n      ...newATypes,\n      [e.target.attributes.actionid.nodeValue]: {\n        ...newATypes[e.target.attributes.actionid.nodeValue],\n        weight: newValue\n      }\n    }, actionTypes)\n  }\n\n  const onBlurName = (e) => {\n    const newValue = e.target.value === '' ? actionTypes[e.target.attributes.actionid.nodeValue].name : e.target.value\n    if(newValue !== actionTypes[e.target.attributes.actionid.nodeValue].name){\n      updateActionTypes({\n        ...newATypes,\n        [e.target.attributes.actionid.nodeValue]: {\n          ...newATypes[e.target.attributes.actionid.nodeValue],\n          name: newValue\n        }\n      }, actionTypes)\n    }\n  }\n\n\n  const addAction = (e) => {\n    addActionType(actionTypes)\n  }\n\n  const keys = Object.keys(newATypes)\n  var actionArray = []\n  for (const key of keys) {\n    actionArray.push(newATypes[key])\n  }\n  actionArray = actionArray.sort((a,b) => {\n    return b.weight - a.weight\n  })\n\n  return ( \n    <div className='m-auto w-56 mt-10'>\n      <p className=\"text-lg font-bold\">Action Type Weights</p>\n      <div className=\"flex flex-col space-y-1\">\n        { actionArray && actionArray.map(aType => {\n          return(\n            <div key={aType.id} className=\"grid grid-cols-12\">\n              {/* <p className=\"col-span-8\">{aType.name}</p> */}\n              <input onBlur={onBlurName} onChange={inputChangeName} actionid={aType.id} value={aType.name} className=\"col-span-7 formInput\"></input>\n              <input onBlur={onBlurWeight} value={aType.weight} actionid={aType.id} id={aType.id} onChange={inputChangeWeight} className=\"formInputSmall col-span-4 col-start-9\" />\n            </div>\n          )\n        })}\n      </div>\n      <button className=\"btn mt-2\" onClick={addAction}>Add</button>\n    </div>\n   );\n}\n \nexport default ActionConfig;","import React, { useState, useEffect } from 'react';\nimport { updateImportanceTypes, addImportance } from '../../../store/actions'\n\nconst ImportanceConfig = ({importanceTypes}) => {\n\n  const [newITypes, setNewITypes] = useState([])\n\n  useEffect(() => {\n    if(importanceTypes){\n      setNewITypes(importanceTypes)\n    }\n  },[importanceTypes])\n\n  const inputChangeWeight = (e) => {\n    setNewITypes({\n      ...newITypes,\n      [e.target.attributes.importanceid.nodeValue]: {\n        ...newITypes[e.target.attributes.importanceid.nodeValue],\n        weight: e.target.value\n      }\n    })\n  }\n\n  const inputChangeName = (e) => {\n    setNewITypes({\n      ...newITypes,\n      [e.target.attributes.importanceid.nodeValue]: {\n        ...newITypes[e.target.attributes.importanceid.nodeValue],\n        name: e.target.value\n      }\n    })\n  }\n\n  const onBlurWeight = (e) => {\n    const newValue = isNaN(parseFloat(e.target.value)) ? importanceTypes[e.target.attributes.importanceid.nodeValue].weight : parseFloat(e.target.value)\n    updateImportanceTypes({\n      ...newITypes,\n      [e.target.attributes.importanceid.nodeValue]: {\n        ...newITypes[e.target.attributes.importanceid.nodeValue],\n        weight: newValue\n      }\n    }, importanceTypes)\n  }\n\n  const onBlurName = (e) => {\n    const newValue = e.target.value === '' ? importanceTypes[e.target.attributes.importanceid.nodeValue].name : e.target.value\n    updateImportanceTypes({\n      ...newITypes,\n      [e.target.attributes.importanceid.nodeValue]: {\n        ...newITypes[e.target.attributes.importanceid.nodeValue],\n        name: newValue\n      }\n    }, importanceTypes)\n  }\n\n  const addNew = (e) => {\n    addImportance(importanceTypes)\n  }\n\n  const keys = Object.keys(newITypes)\n  var importanceArray = []\n  for (const key of keys) {\n    importanceArray.push(newITypes[key])\n  }\n  importanceArray = importanceArray.sort((a,b) => {\n    return b.weight - a.weight\n  })\n\n  return ( \n    <div className='m-auto w-56 mt-10'>\n      <p className=\"text-lg font-bold\">Importance Weights</p>\n      <div className=\"flex flex-col space-y-1\">\n        { importanceArray && importanceArray.map(iType => {\n          return(\n            <div key={iType.id} className=\"grid grid-cols-12\">\n              <input onBlur={onBlurName} value={iType.name} onChange={inputChangeName} importanceid={iType.id} className=\"col-span-7 formInput\"></input>\n              <input onBlur={onBlurWeight} value={iType.weight} importanceid={iType.id} onChange={inputChangeWeight} className=\"formInputSmall col-span-4 col-start-9\" />\n            </div>\n          )\n        })}\n      </div>\n      <button onClick={addNew} className=\"btn mt-2\">Add</button>\n    </div>\n   );\n}\n \nexport default ImportanceConfig;","import React, { useContext } from 'react'\nimport { DataContext } from '../../../store/contexts/dataContext';\nimport ActionConfig from './ActionConfig';\nimport ImportanceConfig from './ImportanceConfig';\n\n\nconst Config = () => {\n\n  const { weights } = useContext(DataContext)\n   \n  return ( \n    <div className=\"w-full\">\n      <div>\n        {\n          weights ? (\n            <div>\n              <ImportanceConfig importanceTypes={weights.importanceTypes} />\n              <ActionConfig actionTypes={weights.actionTypes} />\n            </div>\n          ) : null\n        }\n      </div>\n    </div>\n   );\n} \n \nexport default Config;","import React, { useContext, useEffect } from 'react'\nimport { FbContext } from '../../store/contexts/fbContext';\nimport { logHistory } from '../../store/actions'\nimport { DataContext } from '../../store/contexts/dataContext';\nimport { ModalContext } from '../../store/contexts/modalContext';\n\nconst TotalScore = () => {\n\n  const { FBuser } = useContext(FbContext)\n  const { weights, totalScore, allLoaded } = useContext(DataContext)\n  const { modalDispatch } = useContext(ModalContext)\n\n\n  useEffect(() => {\n\n     if(allLoaded === true && FBuser !== null && weights !== null && weights.currentUserScore !== null && weights.currentUserScore.toFixed(2) !== totalScore.toFixed(2)){\n       logHistory(totalScore)\n     }\n \n   }, [allLoaded, FBuser, totalScore, weights])\n\n\n  const toggleChart = (e) => {\n    modalDispatch({type:'TOGGLE_CHART'})\n  }\n\n  return ( \n    <div className=\"my-5\">\n      <div className=\"flex justify-center space-x-1\">\n        <h1 className=\"text-center text-4xl scoreLabel\">{ totalScore.toFixed(2) }</h1>\n        <svg onClick={toggleChart} className=\"w-5 cursor-pointer\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z\" />\n        </svg>\n      </div>\n    </div>\n   );\n}\n \nexport default TotalScore;","import React, { useContext } from 'react';\nimport { DataContext } from '../../store/contexts/dataContext';\nconst interpolate = require('color-interpolate');\n\nconst ImportanceIcon = ({importance}) => {\n\n  const { weights } = useContext(DataContext)\n  const importances = weights ? weights.importanceArray : null\n\n  // const colors = interpolate([[0, 255, 0],[127,255,0],[255,255,0],[255,127,0],[255,0,0]])\n  const colors = interpolate([[255, 255, 255],[255,0,0]])\n  var color = colors(0)\n  const totalImportances = importances.length\n\n  const sortedImportances = importances.sort((a,b) => {\n    return a.weight - b.weight\n  })\n  \n  var numberOfDots = 1;\n  for(var i = 1; i <= sortedImportances.length; i++){\n    if(sortedImportances[i-1].id === importance){\n      numberOfDots = i;\n      color = colors((i-1)/(totalImportances-1))\n    }\n  }\n\n  \n\n  var dots = []\n  for (let i = 1; i <= numberOfDots; i++) {\n    dots.push(i);\n  }\n\n\n  return ( \n    <div className=\"flex\">\n      { dots && dots.map(dot => {\n        return(\n          <div className=\"h-3 w-3\" key={dot}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"black\" strokeWidth=\"1\" fill={color} />\n            </svg>\n          </div>\n        )\n      })}\n    </div>\n   );\n}\n \nexport default ImportanceIcon;","import React, { useContext } from 'react'\nimport { ModalContext } from '../../store/contexts/modalContext'\nimport ImportanceIcon from '../icons/ImportanceIcon'\n\n\nconst ProjectListItem = ({proj, weights}) => {\n\n  const { modalDispatch } = useContext(ModalContext)\n\n  const click = (e) => {\n    modalDispatch({type: 'SHOW_PROJECT_SHEET', projectID: proj.id})\n  }\n\n  return ( \n    <div onClick={click} className=\"transform hover:scale-110 transition ease-out duration-300 flex justify-between whitespace-nowrap px-2 space-x-2 text-white bg-black rounded-lg cursor-pointer\">\n      <p className=\"overflow-hidden overflow-ellipsis\">{proj.totalScore.toFixed(2)} - {proj.name}</p>\n      <div className=\"self-center\">\n        <ImportanceIcon importance={proj.importance} importances={weights.importanceArray} />\n      </div>\n    </div>\n   );\n}\n \nexport default ProjectListItem;","import React from 'react'\n\n\nconst PlusIcon = () => {\n  return ( \n    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n    </svg>\n   );\n}\n \nexport default PlusIcon;","import React, { useContext } from 'react'\nimport ProjectListItem from './ProjectListItem';\nimport PlusIcon from '../icons/PlusIcon'\nimport { ModalContext } from '../../store/contexts/modalContext';\nimport { DataContext } from '../../store/contexts/dataContext';\n\nconst ProjectList = () => {\n\n  const { projects, items, weights } = useContext(DataContext)\n  const { modalDispatch } = useContext(ModalContext)\n\n  var newProjects = [];\n  if(projects && items){\n    newProjects = projects.map(proj => {\n      const itemsInProj = items.filter(item => {\n        if(!item.project) return false\n        return item.project.id === proj.id\n      })\n      var projScore = 0;\n      itemsInProj.forEach(item => projScore += item.score)\n      return {...proj, totalScore: projScore}\n    })\n  }\n\n  newProjects.sort((a,b) => {\n    return b.totalScore - a.totalScore\n  })\n\n  const addProject = (e) => {\n    modalDispatch({type: 'SHOW_PROJECT_SHEET', projectID: null})\n  }\n  \n\n  return ( \n    <div className=\"m-auto w-60 mt-10\">\n      <div className=\"flex space-x-1\">\n        <p className='self-center text-xl font-bold'>Projects</p>\n        <div onClick={addProject} className=\"self-center w-6 h-6 cursor-pointer\">\n          <PlusIcon />\n        </div>\n      </div>\n      <div className=\"flex flex-col space-y-1\">\n        { newProjects && newProjects.map(proj => {\n          return (\n            <ProjectListItem key={proj.id} proj={proj} weights={weights} />\n          )\n        })}\n      </div>\n    </div>\n   );\n}\n \nexport default ProjectList;","import React, { useState, useContext } from 'react'\nimport AddItem from './AddItem'\nimport Login from '../auth/Login'\nimport OneOffs from './OneOffs/OneOffs'\nimport Config from './todoConfig/Config'\nimport TotalScore from './TotalScore'\nimport ProjectList from './ProjectList'\nimport { FbContext } from '../../store/contexts/fbContext'\nimport { DataContext } from '../../store/contexts/dataContext'\n\n\nconst LeftBar = () => {\n\n  const [showConfig, setShowConfig] = useState(false)\n  const { FBuser } = useContext(FbContext)\n  const { allLoaded } = useContext(DataContext)\n\n  const click = (e) => {\n    setShowConfig(!showConfig)\n  }\n\n  const test = (e) => {\n    console.log('test')\n  }\n\n  return ( \n    <div className=\"col-span-3 h-screen overflow-hidden\" >\n      <div className=\"h-full overflow-scroll hideBar pb-10\">\n        <Login />\n        <button className=\"btn\" onClick={test}>Test</button>\n        { FBuser && allLoaded ? (\n          <div>\n            <AddItem />\n            <TotalScore />\n            <OneOffs />\n            <ProjectList />\n            <p className=\"mt-10 cursor-pointer underline m-auto w-56\" onClick={click}>{showConfig ? 'Hide Config' : 'Show Config'}</p>\n            { showConfig ? (\n              <div>\n                <Config />\n              </div>\n            ) : null}\n          </div>\n        ): null}\n      </div>\n    </div>\n   );\n}\n \nexport default LeftBar;","\nexport const filterReducer = (state, action) => {\n  switch(action.type){\n    case 'SETUP_IMPORTANCE_FILTERS':\n      var importanceFilters = {}\n      action.importances.forEach(importance => {\n        importanceFilters[importance.id] = true\n      })\n      return{\n        ...state,\n        importanceFilters\n      }\n    case 'SET_IMPORTANCE_FILTER':\n      return{\n        ...state,\n        importanceFilters:{\n          ...state.importanceFilters,\n          [action.importance]: action.value\n        }\n      }\n    case 'ALL_IMPORTANCE':\n      var newImportanceFilters = {}\n      const ikeys = Object.keys(action.importances)\n      for (const key of ikeys) {\n        newImportanceFilters[key] = action.value\n      }\n      return{\n        ...state,\n        importanceFilters: newImportanceFilters\n      }\n    case 'SET_ACTION_FILTER':\n      return{\n        ...state,\n        actionFilters:{\n          ...state.actionFilters,\n          [action.actionType]: action.value\n        }\n      }\n    case 'ALL_ACTION':\n      var newActionFilters = {}\n      const akeys = Object.keys(action.actionTypes)\n      for (const key of akeys) {\n        newActionFilters[key] = action.value\n      }\n      return{\n        ...state,\n        actionFilters: newActionFilters\n      }\n    case 'SET_DAY_FILTER':\n      return{\n        ...state,\n        dayFilter: action.value\n      }\n    default: \n      return state\n  }\n}","import React, { useReducer } from \"react\";\nimport { filterReducer } from '../reducers/filterReducer'\n\n\nexport const FilterContext = React.createContext();\n\n\nexport const FilterContextProvider = ({ children }) => {\n\n\n  const [filterData, filterDispatch] = useReducer(filterReducer, {\n    dayFilter: 'all',\n    dayFilters: [\n      {name:'All', value:'all', id:'all', filtName: 'dateFilter'},\n      {name:'Today', value:'0', id:'today', filtName: 'dateFilter'},\n      {name:'Next Day', value:'1', id:'nextDay', filtName: 'dateFilter'},\n      {name:'Next 2 Days', value:'2', id:'nextTwoDays', filtName: 'dateFilter'},\n      {name:'Overdue', value:'-1', id:'overdue', filtName: 'dateFilter'},\n    ]\n  });\n\n\n  return (\n    <FilterContext.Provider value={{ filterData, filterDispatch }}>{children}</FilterContext.Provider>\n  );\n};\n\n","import React, { useContext } from 'react'\nimport { DataContext } from '../../store/contexts/dataContext'\nimport { FilterContext } from '../../store/contexts/filterContext'\n\n\nconst ActionTypeFilter = () => {\n\n  const { weights } = useContext(DataContext)\n  const { filterData, filterDispatch } = useContext(FilterContext)\n\n\n  var filters = []\n  if(weights){\n    weights.actionTypeArray.forEach(aType => {\n      filters.push({\n        id: aType.id,\n        name: aType.name\n      })\n    })\n  }else{\n    return null\n  }\n\n\n  const onCheck = (e) => {\n    filterDispatch({type: 'SET_ACTION_FILTER', actionType: e.target.id, value: e.target.checked})\n  }\n\n  const selectAll = (e) => {\n    filterDispatch({type: 'ALL_ACTION', value: true, actionTypes: weights.actionTypes})\n  }\n\n  const deSelectAll = (e) => {\n    filterDispatch({type: 'ALL_ACTION', value: false, actionTypes: weights.actionTypes})\n  }\n\n  return ( \n    <div className=\"mt-5\">\n      <p className=\"text-xl font-bold\">Filter Action Type</p>\n      <div className=\"flex flex-col\">\n        { filters.map(filt => {\n          return(\n            <div className=\"flex space-x-1\" key={filt.id}>\n              <input className=\"self-center\" id={filt.id} onChange={onCheck} checked={!filterData.actionFilters || filterData.actionFilters[filt.id] === undefined ? true : filterData.actionFilters[filt.id]} type=\"checkbox\" />\n              <label className=\"self-center\">{filt.name}</label>\n            </div>\n          )\n        })}\n      </div>\n      <div className=\"flex space-x-2\">\n        <button className=\"btn mt-2\" onClick={selectAll}>Select All</button>\n        <button className=\"btn mt-2\" onClick={deSelectAll}>De-select All</button>\n      </div>\n    </div>\n   );\n}\n \nexport default ActionTypeFilter;","import React, { useContext, useEffect, useState } from 'react'\nimport { FilterContext } from '../../store/contexts/filterContext'\n\n\nconst DayFilter = () => {\n\n  const { filterData, filterDispatch } = useContext(FilterContext)\n  const [value, setValue] = useState('1000000')\n\n  useEffect(() => {\n    if(filterData){\n      setValue(filterData.dayFilter)\n    }\n  }, [filterData])\n\n  const change = (e) => {\n    filterDispatch({type: 'SET_DAY_FILTER', value: e.target.value})\n  }\n\n  const filterTypes = filterData.dayFilters\n\n  return ( \n    <div className=\"mt-5\">\n      <p className=\"text-xl font-bold\">Filter Date</p>\n      <div>\n        { filterTypes.map(filt => {\n          return (\n            <div key={filt.id} className=\"flex space-x-1\">\n              <input className=\"self-center\" onChange={change} type=\"radio\" name={filt.filtName} value={filt.value} checked={value === filt.value}></input>\n              <label className=\"self-center\">{filt.name}</label>\n            </div>\n          )\n        })}\n      </div>\n    </div>\n   );\n}\n \nexport default DayFilter;","import React, { useContext } from 'react';\nimport { DataContext } from '../../store/contexts/dataContext';\nimport { FilterContext } from '../../store/contexts/filterContext';\n\n\n\nconst ImportanceFilters = () => {\n\n  const { weights } = useContext(DataContext)\n  const { filterDispatch, filterData } = useContext(FilterContext)\n  var filters = []\n\n\n  if(weights){\n    weights.importanceArray.forEach(importance => {\n      filters.push({\n        id: importance.id,\n        name: importance.name,\n        weight: importance.weight\n      })\n    })\n    filters = filters.sort((a,b) => {\n      return b.weight - a.weight\n    })\n  }else{\n    return null\n  }\n\n  const onCheck = (e) => {\n    filterDispatch({type: 'SET_IMPORTANCE_FILTER', importance: e.target.id, value: e.target.checked})\n  }\n\n  const selectAll = (e) => {\n    filterDispatch({type: 'ALL_IMPORTANCE', value: true, importances: weights.importanceTypes})\n  }\n\n  const deSelectAll = (e) => {\n    filterDispatch({type: 'ALL_IMPORTANCE', value: false, importances: weights.importanceTypes})\n  }\n\n\n  return ( \n    <div>\n      <p className=\"text-xl font-bold\">Filter Importance</p>\n      <div className=\"flex flex-col\">\n        { filters.map(filt => {\n          return(\n            <div className=\"flex space-x-1\" key={filt.id}>\n              <input className=\"self-center\" id={filt.id} onChange={onCheck} checked={!filterData.importanceFilters || filterData.importanceFilters[filt.id] === undefined ? true : filterData.importanceFilters[filt.id]} type=\"checkbox\" />\n              <label className=\"self-center\">{filt.name}</label>\n            </div>\n          )\n        })}\n      </div>\n      <div className=\"flex space-x-2\">\n        <button className=\"btn mt-2\" onClick={selectAll}>Select All</button>\n        <button className=\"btn mt-2\" onClick={deSelectAll}>De-select All</button>\n      </div>\n    </div>\n   );\n}\n \nexport default ImportanceFilters;","import React, { useContext } from 'react';\nimport { DataContext } from '../../store/contexts/dataContext';\nimport { FbContext } from '../../store/contexts/fbContext';\nimport { FilterContext } from '../../store/contexts/filterContext';\nimport ActionTypeFilter from './ActionTypeFilter';\nimport DayFilter from './DayFilter';\nimport ImportanceFilters from './ImportanceFilters';\n\nconst RightBar = () => {\n\n  const { weights, allLoaded } = useContext(DataContext)\n  const { filterDispatch } = useContext(FilterContext)\n  const { FBuser } = useContext(FbContext)\n  const importances = weights ? weights.importanceTypes : {}\n  const actionTypes = weights ? weights.actionTypes : {}\n\n\n  const removeAllFilters = (e) => {\n    filterDispatch({type: 'ALL_IMPORTANCE', value: true, importances})\n    filterDispatch({type: 'ALL_ACTION', value: true, actionTypes})\n    filterDispatch({type: 'SET_DAY_FILTER', value: 'all'})\n  }\n\n  if(!FBuser || !allLoaded){\n    return null\n  }\n\n\n  return ( \n    <div className=\"col-span-3 p-5 h-screen overflow-hidden\">\n      <ImportanceFilters />\n      <DayFilter />\n      <ActionTypeFilter />\n      <button onClick={removeAllFilters} className=\"importantBtn mt-10\">Remove All Filters</button>\n    </div>\n   );\n}\n \nexport default RightBar;","import moment from 'moment'\nimport * as d3module from 'd3'\nimport d3tip from 'd3-tip'\n\nconst d3 = {\n  ...d3module,\n  tip: d3tip\n}\n\n\nexport const cleanHistory = (history) => {  \n  if(history && history.length > 0){\n    return buildChartData(cleanDays(removeDuplicates(history)))\n  }else{\n    return null\n  }\n}\n\nconst cleanDays = (history) => {\n  var newHistory = [];\n  const uniqueDays = [...new Set(history.map(hist => moment.unix(hist.date.seconds).startOf('days').format('MM/DD/YY')))];\n\n  uniqueDays.forEach(day => {\n    var firstScore = 0;\n    var firstTimestamp = null;\n    var lastScore = 0;\n    var lastTimestamp = null;\n    history.forEach(hist => {\n      if(day === moment.unix(hist.date.seconds).startOf('days').format('MM/DD/YY')){\n        if(firstTimestamp === null){\n          firstTimestamp = hist.date;\n          firstScore = hist.score\n        }else if(moment.unix(hist.date.seconds).isBefore(moment.unix(firstTimestamp))){\n          firstTimestamp = hist.date;\n          firstScore = hist.score\n        }\n\n        if(lastTimestamp === null){\n          lastTimestamp = hist.date;\n          lastScore = hist.score\n        }else if(moment.unix(hist.date.seconds).isAfter(moment.unix(lastTimestamp))){\n          lastTimestamp = hist.date;\n          lastScore = hist.score\n        }\n      }\n    })\n\n    //log first/last\n    newHistory.push({\n      date: firstTimestamp,\n      score: firstScore\n    })\n    if(firstTimestamp.seconds !== lastTimestamp.seconds){\n      newHistory.push({\n        date: lastTimestamp,\n        score: lastScore\n      })\n    }\n\n  })\n\n  return newHistory.sort((a,b) => {\n    return a.date.seconds - b.date.seconds\n  })\n\n}\n\n\nconst removeDuplicates = (history) => {\n  var newHistory = []\n  newHistory.push(history[0])\n  for(var i = 1; i < history.length; i++){\n    if(history[i].score !== history[i-1].score){\n      newHistory.push(history[i])\n    }\n  }\n  return newHistory\n}\n\nconst buildChartData = (history) => {\n  var lineData = []\n  history.forEach(hist => {\n    lineData.push({\n      \"x\": moment.unix(hist.date.seconds).toDate(),\n      \"y\": hist.score\n    })\n  })\n\n  // return lineData\n\n  return {\n    \"lines\":[\n      {\n        \"name\": \"Score History\",\n        \"data\": lineData\n      }\n    ],\n    \"minY\":0,\n    \"xTicks\":6,\n    \"yTicks\":7,\n    \"dots\":true,\n    \"dotSize\":2\n  }\n}\n\n\nexport const dateFormatter = (d) => {\n  return moment(d).format('MM/DD/YY')\n}\n\nexport const decimalFormatter = (d) => {\n  return d.toFixed(2)\n}\n\nexport const timeOnlyFormatter = (d) => {\n  return moment(d).format('h:mm a')\n}\n\n\nconst xMinMax = (chartData) => {\n  var minX = new Date();\n  var maxX = 0\n  chartData.lines.forEach(line => {\n    line.data.forEach(point => {\n        maxX = Math.max(point.x,maxX)\n        minX = Math.min(point.x,minX)\n    })\n  });\n  return {\n    \"max\": maxX,\n    \"min\": minX\n  }\n}\n\nconst yMinMax = (chartData) => {\n  var maxY = 0\n  var minY = null\n  chartData.lines.forEach(line => {\n    line.data.forEach(point => {\n        maxY = Math.max(point.y,maxY)\n        minY = minY ? Math.min(point.y,minY) : point.y\n    })\n  });\n  minY = minY - ((maxY - minY) * 0.1)\n\n  return {\n    \"max\": maxY,\n    \"min\": minY\n  }\n}\n\n\nexport const yScaleLinear = (chartData, height) => {\n  const yRange = yMinMax(chartData)\n\n  return d3.scaleLinear()\n    .range([0,height])\n    .domain([yRange.max,yRange.min])\n}\n\nexport const xScaleTime = (chartData, width) => {\n  const xRange = xMinMax(chartData)\n\n  return d3.scaleTime()\n    .range([0,width])\n    .domain([xRange.min,xRange.max])\n}\n\n\nexport const getToolTip = () => {\n  return d3.tip()\n    .attr('class', 'tip card')\n    .html((e,d) => {\n        const xLabel = dateFormatter(d.x)\n        const yLabel = decimalFormatter(d.y)\n        const xTimeLabel = timeOnlyFormatter(d.x)\n        let content = ''\n        content += `<div class=\"score\">${yLabel}</div>`;\n        content += `<div class=\"name\">${xLabel}</div>`;\n        content += `<div class=\"cost\">${xTimeLabel}</div>`;\n        return content;\n    })\n    .direction('s')\n    .offset([15, 0]);\n}","import React, { useContext } from \"react\";\nimport firebase from '../../config/fbConfig'\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\nimport { FbContext } from \"./fbContext\";\n\n\nexport const ItemsContext = React.createContext();\n\n\nexport const ItemsProvider = ({ children }) => {\n\n  const { FBuser } = useContext(FbContext)\n  const userID = FBuser ? FBuser.uid : null\n\n\n  const [items, itemsLoading] = useCollectionData(firebase.firestore().collection('users/' + userID + '/items').where('deleted','==',false).where('completed','==',false),{\n    idField: 'id'\n  })\n\n\n\n\n  return (\n    <ItemsContext.Provider value={{ items, itemsLoading }}>{children}</ItemsContext.Provider>\n  );\n};\n\n","import React, { useRef, useEffect, useContext } from 'react';\nimport * as d3module from 'd3'\nimport d3tip from 'd3-tip'\nimport { FbContext } from '../../store/contexts/fbContext';\nimport { cleanHistory, dateFormatter, decimalFormatter, xScaleTime, yScaleLinear, getToolTip } from '../../chartHelper'\nimport { DataContext } from '../../store/contexts/dataContext';\nimport { ItemsContext } from '../../store/contexts/itemsContext';\nimport { ModalContext } from '../../store/contexts/modalContext';\n// import { returnHistory } from '../../newChartHelper'\n\nconst d3 = {\n  ...d3module,\n  tip: d3tip\n}\n\n\nconst LineChart = () => {\n\n    const { FBuser } = useContext(FbContext)\n    const { history, items, weights } = useContext(DataContext)\n    const rawItemsCon = useContext(ItemsContext)\n    const rawItems = rawItemsCon.items\n    const { modalStatus } = useContext(ModalContext)\n    var chartData = null\n\n    const chartClass = modalStatus.showChart ? 'block' : 'hidden'\n\n\n    //clean history and add chart configs\n    chartData = cleanHistory(history)\n    // chartData = returnHistory(rawItems, items, weights)\n    // if(chartData !== undefined && chartData.lines !== undefined){\n    //   chartData.lines.push({\n    //     data: cleanHistory(history),\n    //     name: \"Old Line\",\n    //     color: \"red\"\n    //   })\n    // }\n\n\n    //ref to root svg\n    const ref = useRef()\n\n\n    useEffect(() => {\n\n      //graph size\n      const graphHeight = 200\n      const graphWidth = 500\n      const margin = { top: 10, bottom: 20, left: 35, right: 20 };\n      const width = graphWidth - margin.left - margin.right;\n      const height = graphHeight - margin.top - margin.bottom;\n\n      //select root svg\n      const svg = d3.select(ref.current)\n          .attr(\"viewBox\", `0 0 ${graphWidth} ${graphHeight}`)\n          \n      //select group for graph\n      const chartArea = svg.select('.chartArea')\n          .attr('height', graphHeight)\n          .attr('class','chartArea')\n          .attr('width', graphWidth)\n          .attr(\"transform\", `translate(${margin.left},${margin.top})`);\n      \n      chartArea.selectAll('g').remove();\n\n      //add group for data points\n      const graph = chartArea\n      .append(\"g\")\n      .attr(\"transform\", `translate(-${margin.left},-${margin.top})`);\n\n      //remove all current groups within graph\n      graph.selectAll('g').remove();\n      graph.selectAll('path').remove();\n\n      if(chartData){\n\n        //create dotted line group and append to graph\n        const hoverLineGroup = graph.append('g')\n            .style('opacity',0)\n            .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n\n        //create x line and append\n        const xHoverLine = hoverLineGroup.append('line')\n        .attr('stroke','#aaa')\n        .attr('stroke-width', 1)\n        .attr('stroke-dasharray',4)\n\n        //create y line and append\n        const yHoverLine = hoverLineGroup.append('line')\n        .attr('stroke','#aaa')\n        .attr('stroke-width', 1)\n        .attr('stroke-dasharray',4)\n\n        //add group for x axis and move it to the bottom\n        const xAxisGroup = chartArea.append('g')\n            .attr('transform', `translate(0,${height})`);\n      \n        //add group for y axis\n        const yAxisGroup = chartArea.append('g')\n            .attr(\"transform\", `translate(0, 0)`)\n\n        //scales\n        const xScale = xScaleTime(chartData, width)\n        const yScale = yScaleLinear(chartData, height)\n\n        //d3 line path generator\n        const pathGenerator = d3.line()\n          .x(function(d){ return xScale(d.x) })\n          .y(function(d){ return yScale(d.y) })\n\n\n        //build each line dynamically\n        chartData.lines.forEach(line => {\n\n          //tooltip\n          const ttip = getToolTip()\n          graph.call(ttip);\n\n          const path = graph.append('path')\n              .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n\n          //add circles\n          const circs = graph.selectAll('circle.' + line.name)\n              .data(line.data)\n              \n          const circSize = chartData.dotSize ? chartData.dotSize : 5\n\n          //remove exit selction for circles\n          circs.exit().remove()\n\n          //update current circs\n          circs.attr('r', circSize)\n              .attr('fill', 'black')\n              .attr('cx', d => xScale(d.x))\n              .attr('cy', d => yScale(d.y))\n              .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n              .on('mouseover', ttip.show)\n              .on('mouseout', ttip.hide)\n\n\n\n          //append the enter selection to the DOM\n          circs.enter()\n              .append('circle')\n              .attr('fill', 'black')\n              .attr('cx', d => xScale(d.x))\n              .attr('cy', d => yScale(d.y))\n              .attr('r', circSize)\n              .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n              .attr('opacity',1)\n              .on('mouseover.tip', ttip.show)\n              .on('mouseover.lines', (e,d) => {\n              xHoverLine\n                  .attr('x1',xScale(d.x))\n                  .attr('x2',xScale(d.x))\n                  .attr('y1',yScale(d.y))\n                  .attr('y2',height)\n\n              yHoverLine\n                  .attr('x1',0)\n                  .attr('x2',xScale(d.x))\n                  .attr('y1',yScale(d.y))\n                  .attr('y2',yScale(d.y))\n\n              hoverLineGroup.style('opacity', 1)\n              })\n              .on('mouseout.tip', ttip.hide)\n              .on('mouseout.lines', (e,d) => {\n                  hoverLineGroup.style('opacity', 0)\n              })\n          \n              const pathLength = path.node().getTotalLength();\n\n          // update path data\n          path.data([line.data])\n              .attr('fill', 'none')\n              .attr('stroke', line.color)\n              .attr('stroke-width', 2)\n              .attr('d', pathGenerator)\n              .style('opacity',0.75)\n              .attr(\"stroke-dasharray\", pathLength + \" \" + pathLength)\n\n        \n\n        })\n\n        const xTicks = chartData.xTicks ? chartData.xTicks : 5\n        const yTicks = chartData.yTicks ? chartData.yTicks : 5\n\n        //axis label formatting functions\n        var xFormat = chartData ? dateFormatter : (d) => d\n        var yFormat = chartData ? decimalFormatter : (d) => d\n\n        //create and call the axes\n        const xAxis = d3.axisBottom(xScale)\n            .tickFormat(d => xFormat(d))\n            .ticks(xTicks)\n\n        const yAxis = d3.axisLeft(yScale)\n            .tickFormat(d => yFormat(d))\n            .ticks(yTicks)\n\n\n        xAxisGroup.call(xAxis)\n            .attr('class','chartAxis')\n        yAxisGroup.call(yAxis)\n            .attr('class','chartAxis')\n\n      }\n    }, [FBuser, chartData])\n\n    return (\n        <div className=\"flex justify-center\">\n          <div className={chartClass + ' w-full'}>\n              <svg ref={ref}>\n                  <g className=\"chartArea\">\n\n                  </g>\n              </svg>\n          </div>\n        </div>\n    )\n  }\n \nexport default LineChart;","import React, { useContext } from 'react'\nimport moment from 'moment'\nimport ImportanceIcon from '../icons/ImportanceIcon'\nimport { ModalContext } from '../../store/contexts/modalContext'\n\n\nconst ItemCardWithProject = ({item}) => {\n\nconst { modalDispatch } = useContext(ModalContext)\n\nconst expectedUpdate = item.expectedUpdate ? moment.unix(item.expectedUpdate.seconds).format('MM/DD/YY') : null\n\nconst itemClick = (e) => {\n  modalDispatch({type: 'SHOW_SHEET', itemID: item.id})\n}\n\nconst projectClick = (e) => {\n  modalDispatch({type: 'SHOW_PROJECT_SHEET', projectID: item.projectID})\n}\n\nconst daysToText = item && item.daysTo === 1 ? 'Tomorrow' : item && item.daysTo === 0 ? 'Today' : item && item.daysTo > 0 ? item.daysTo + ' days' : item && item.daysTo === -1 ? '1 day ago' : item && item.daysTo < 0 ? item.daysTo * -1 + ' days ago' : null;\n\n  return ( \n    <div className={'rounded-md border-2 border-black my-2 w-full self-center grid grid-cols-12 '}>\n      <div onClick={projectClick} className='hover:bg-opacity-50 mainInfo flex flex-col col-span-4 p-2 bg-black text-white'>\n        <p className='text-xs'>{item.score ? item.score.toFixed(2) : 0}</p>\n        <p className='text-xl'>{item.project ? item.project.name : ''}</p>\n        <ImportanceIcon importance={item.project ? item.project.importance : 3} />\n        <p className='text-sm'>{item.project ? item.project.description : ''}</p>\n      </div>\n      <div onClick={itemClick} className={\"relative hover:bg-opacity-75 col-span-8 p-2 \" + item.colorClass}>\n        <p className='text-xl'>{item.action}</p>\n        <p className='text-sm'>{expectedUpdate}</p>\n        <p className='text-base'>{item.actionTypeName}</p>\n        <p className=\"absolute right-1 top-0\">{daysToText}</p>\n      </div>\n    </div>\n   );\n}\n \nexport default ItemCardWithProject;","import React, { useContext } from 'react'\nimport moment from 'moment'\nimport { ModalContext } from '../../store/contexts/modalContext'\n\n\nconst ItemCard = ({item}) => {\n\nconst { modalDispatch } = useContext(ModalContext)\n\nconst expectedUpdate = item.expectedUpdate ? moment.unix(item.expectedUpdate.seconds).format('MM/DD/YY') : null\n\nconst click = (e) => {\n  modalDispatch({type: 'SHOW_SHEET', itemID: item.id})\n}\n\n  return ( \n    <div onClick={click} className={'border-2 border-black my-2 w-full self-center grid grid-cols-12 '}>\n      <div className='mainInfo justify-center flex flex-col col-span-2 p-2 bg-black text-white'>\n        <p className='text-xl self-center'>{item.score ? item.score.toFixed(2) : 0}</p>\n      </div>\n      <div className={\"col-span-10 p-2 \" + item.colorClass}>\n        <p className='text-xl'>{item.actionTypeName}</p>\n        <p className='text-sm'>{expectedUpdate}</p>\n        <p className='text-base'>{item.action}</p>\n      </div>\n    </div>\n   );\n}\n \nexport default ItemCard;","import React from 'react'\nimport ItemCardWithProject from './ItemCardWithProject'\nimport ItemCard from './ItemCard'\n\nconst ItemCardContainer = ({item, showProject}) => {\n\n  return ( \n    <div className='cursor-pointer'>\n      { showProject ? (\n        <ItemCardWithProject item={item} />\n      ): (\n        <ItemCard item={item} />\n      )}\n    </div>\n   );\n}\n \nexport default ItemCardContainer;","import React, { useContext } from 'react'\nimport { DataContext } from '../../store/contexts/dataContext';\nimport { FbContext } from '../../store/contexts/fbContext';\nimport { FilterContext } from '../../store/contexts/filterContext';\nimport ItemCardContainer from '../itemCards/ItemCardContainer';\n\n\nconst CardCollection = () => {\n\n  const { items, allLoaded } = useContext(DataContext)\n  const { filterData } = useContext(FilterContext)\n  const { FBuser } = useContext(FbContext)\n\n  var sortedItems = items ? items.sort((a,b) => {\n    if(a.expectedUpdate === null) return 1\n    if(b.expectedUpdate === null) return -1\n    return b.score - a.score\n  }) : null;\n\n  if(filterData && filterData.importanceFilters && sortedItems){\n    const importanceFilters = filterData.importanceFilters\n    sortedItems = sortedItems.filter(item => {\n      if(importanceFilters[item.project.importance] === undefined) return true\n      return importanceFilters[item.project.importance]\n    })\n  }\n\n  if(filterData && sortedItems){\n    if(filterData.dayFilter !== 'all'){\n      const filterNumber = parseInt(filterData.dayFilter);\n      sortedItems = sortedItems.filter(item => {\n        return item.daysTo <= filterNumber\n      })\n    }\n  }\n\n  if(filterData && filterData.actionFilters && sortedItems){\n    const actionFilters = filterData.actionFilters\n    sortedItems = sortedItems.filter(item => {\n      if(actionFilters[item.actionType] === undefined) return true\n      return actionFilters[item.actionType]\n    })\n  }\n\n  if(!FBuser || !allLoaded){\n    return null\n  }\n\n\n  return ( \n    <div className=\"overflow-scroll h-full hideBar\">\n      { sortedItems && sortedItems.map(item => {\n        return <ItemCardContainer showProject={true} key={item.id} item={item} />\n      })}\n    </div>\n   );\n}\n \nexport default CardCollection;","import React, { useContext } from 'react'\nimport { DataContext } from '../../store/contexts/dataContext';\n\nconst UpcomingWork = () => {\n\n  const { todaysScore, tomorrowsScore, thisWeeksScore } = useContext(DataContext)\n\n\n  return ( \n    <div className=\"grid grid-cols-3\">\n      <div>\n        <p className=\"text-center text-2xl\">{todaysScore.toFixed(2)}</p>\n        <p className=\"text-center\">Today</p>\n      </div>\n      <div>\n        <p className=\"text-center text-2xl\">{tomorrowsScore.toFixed(2)}</p>\n        <p className=\"text-center\">Tomorrow</p>\n      </div>\n      <div>\n        <p className=\"text-center text-2xl\">{thisWeeksScore.toFixed(2)}</p>\n        <p className=\"text-center\">Rest of Week</p>\n      </div>\n    </div>\n   );\n}\n \nexport default UpcomingWork;","import React from 'react'\nimport LineChart from '../leftBar/LineChart';\nimport CardCollection from './CardCollection'\nimport UpcomingWork from './UpcomingWork'\n\n\nconst CenterColumn = () => {\n  return ( \n    <div className='flex flex-col w-full col-span-6 col-start-4 p-2 h-screen overflow-hidden'>\n      <UpcomingWork />\n      <LineChart />\n      <CardCollection />\n    </div>\n   );\n}\n \nexport default CenterColumn;","import React from \"react\";\nimport { useDocumentData } from 'react-firebase-hooks/firestore';\nimport firebase from '../../config/fbConfig'\n\n\nexport const ConfigContext = React.createContext();\n\n\nexport const ConfigProvider = ({ children }) => {\n\n  const docRef = firebase.firestore().collection('config').doc('2TttT72yuM5PAvGMjgJT')\n\n  const [config, loading] = useDocumentData(docRef);\n\n\n  return (\n    <ConfigContext.Provider value={{ config, configLoading: loading }}>{children}</ConfigContext.Provider>\n  );\n};\n\n","import React, { useContext } from 'react'\nimport LeftBar from './leftBar/LeftBar'\nimport RightBar from './rightBar/RightBar'\nimport CenterColumn from './centerColumn/CenterColumn'\nimport { ConfigContext } from '../store/contexts/configContext'\n\n\nconst Main = () => {\n\n  const { config } = useContext(ConfigContext)\n  \n  if(config && config.downForMaintenance === true){\n    return(\n      <p className=\"text-3xl\">Down for maintenance</p>\n    )\n  }\n\n  return ( \n    <div className=\"grid grid-cols-12\">\n      <LeftBar />\n      <CenterColumn />\n      <RightBar />\n    </div>\n   );\n}\n \nexport default Main;","import React from 'react'\nimport TextareaAutosize from 'react-textarea-autosize';\n\n\nconst EditDescription = ({value, change}) => {\n\n  return ( \n    <div className=\"mt-2\">\n      <p>Description</p>\n      <TextareaAutosize id='description' onChange={change} className={'focus:outline-none border-2 border-black '} value={value}></TextareaAutosize>\n    </div>\n   );\n}\n \nexport default EditDescription;","import React, { useContext } from 'react'\nimport { DataContext } from '../../../store/contexts/dataContext';\n\n\nconst EditImportance = ({value, change}) => {\n\n  const { weights } = useContext(DataContext)\n\n  var importances = weights ? weights.importanceArray : null\n  if(importances){\n    importances = importances.sort((a,b) => {\n      return b.weight - a.weight\n    })\n  }\n\n  return ( \n    <div className=\"mt-2\">\n      <p>Importance</p>\n      <select className='border-2 border-black' id='importance' onChange={change} value={value}>\n      { importances && importances.map(importance => {\n        return(\n          <option key={importance.id} value={importance.id}>{importance.name}</option>\n        )\n      })}\n      </select>\n    </div>\n   );\n}\n \nexport default EditImportance;","import React from 'react'\n\n\nconst EditName = ({value, change}) => {\n  return ( \n    <div>\n      <p>Name</p>\n      <input className='formInput' onChange={change} id='name' value={value}></input>\n    </div>\n   );\n}\n \nexport default EditName;","import React, { useContext, useState, useEffect } from 'react'\nimport EditDescription from './EditDescription';\nimport EditImportance from './EditImportance';\nimport EditName from './EditName';\nimport { deleteProject, updateProject, addProject } from '../../../store/actions'\nimport ItemCardContainer from '../../itemCards/ItemCardContainer';\nimport ExitIcon from '../../icons/ExitIcon';\nimport PlusIcon from '../../icons/PlusIcon';\nimport { ModalContext } from '../../../store/contexts/modalContext';\nimport { DataContext } from '../../../store/contexts/dataContext';\n\nconst ProjectEditModal = () => {\n\n\n  const { projects } = useContext(DataContext)\n  const { modalStatus, modalDispatch } = useContext(ModalContext)\n\n  const [newProject, setNewProject] = useState({\n    name: '',\n    description:'',\n    importance: 3\n  })\n\n  const [changed, setChanged] = useState(false)\n\n  const [isNew, setNew] = useState(true)\n\n  const itemsInProj = newProject.items\n\n  useEffect(() => {\n    if(modalStatus && modalStatus.projectID){\n      if(projects){\n        setNewProject(projects.filter(proj => {return proj.id === modalStatus.projectID})[0])\n        setNew(false)\n      }else{\n        setNew(true)\n      }\n    }\n  }, [modalStatus, projects])\n\n\n  useEffect(() => {\n    if(newProject.name === ''){\n      setChanged(false)\n    }else{\n      setChanged(true)\n    }\n  },[newProject.name])\n\n\n\n  const change = (e) => {\n    setNewProject({\n      ...newProject,\n      [e.target.id]: e.target.value\n    })\n  }\n\n  const deleteClicked = (e) => {\n    if(window.confirm('Are you sure you want to delete? Deleting this project will also delete all of your actions under the project.') === true){\n      deleteProject(newProject.id)\n      modalDispatch({type:'HIDE_PROJECT_SHEET'})\n    }\n  }\n\n  const doneClick = (e) => {\n    if(!changed) return\n    updateProject(newProject)\n    modalDispatch({type:'HIDE_PROJECT_SHEET'})\n  }\n\n  const addClick = (e) => {\n    if(!changed) return\n    addProject(newProject)\n    modalDispatch({type:'HIDE_PROJECT_SHEET'})\n  }\n\n  const exitClick = (e) => {\n    modalDispatch({type:'HIDE_PROJECT_SHEET'})\n  }\n\n  const addItem = (e) => {\n    modalDispatch({type: 'SHOW_SHEET', itemProjectID: newProject.id})\n  }\n\n\n  return ( \n    <div className=\"relative overflow-scroll bg-white h-5/6 w-1/2 mt-10 p-5\">\n      <div onClick={exitClick} className=\"h-10 w-10 absolute top-0 right-0\">\n        <ExitIcon />\n      </div>\n      { isNew ? (\n        <p className=\"text-xl font-bold\">New Project</p>\n      ):(\n        <p className=\"text-xl font-bold\">Edit Project</p>\n      )}\n      <EditName value={newProject.name} change={change} />\n      <EditDescription value={newProject.description} change={change} />\n      <EditImportance value={newProject.importance} change={change} />\n      {\n        isNew ? (\n          <div className=\"flex space-x-2 mt-5\">\n            <button onClick={addClick} className={changed ? \"doneBtn\" : 'inactiveBtn'}>Add</button>\n          </div>\n        ) : (\n          <div>\n            <div className=\"flex space-x-2 mt-5\">\n              <button onClick={doneClick} className={changed ? \"doneBtn\" : \"inactiveBtn\"}>Save</button>\n              <button onClick={deleteClicked} className=\"importantBtn\">Delete</button>\n            </div>\n            <div>\n            </div>\n          </div>\n        )\n      }\n      { isNew ? null : (\n        <div>\n          <div className=\"flex space-x-1 mt-10\">\n            <p className=\"text-xl font-bold self-center\">Actions In Project</p>\n            <div onClick={addItem} className=\"w-7 h-7 cursor-pointer self-center\">\n              <PlusIcon />\n            </div>\n          </div>\n          { itemsInProj && itemsInProj.map(item => {\n            return(\n              <ItemCardContainer showProject={false} key={item.id} item={item} />\n            )\n          })}\n        </div>\n      )}\n    </div>\n   );\n}\n \nexport default ProjectEditModal;","import React, { useContext } from 'react'\nimport { ModalContext } from '../../../store/contexts/modalContext'\nimport ProjectEditModal from './ProjectEditModal'\n\nconst ProjectEditSheet = () => {\n\n  const { modalStatus, modalDispatch } = useContext(ModalContext)\n\n  const onClick = (e) => {\n    if(e.target.id === 'project-bg'){\n      modalDispatch({type:'HIDE_PROJECT_SHEET'})\n    }\n  }\n\n  if(modalStatus.showProjectSheet === false){\n    return null\n  }\n\n\n  return ( \n    <div onClick={onClick} id=\"project-bg\" className='flex justify-center w-screen h-screen bg-gray-400 bg-opacity-50 fixed inset-0'>\n      <ProjectEditModal />\n    </div>\n   );\n}\n \nexport default ProjectEditSheet;","import { useEffect, useContext } from 'react'\nimport { ModalContext } from '../store/contexts/modalContext'\n\n\nconst EscDetect = () => {\n\n  const { modalStatus, modalDispatch } = useContext(ModalContext)\n\n  useEffect(() => {\n\n    const keyEvent = (e) => {\n      if(e.code === \"Escape\"){\n        if(modalStatus.showSheet){\n          modalDispatch({type:'HIDE_SHEET'})\n        }else if(modalStatus.showProjectSheet){\n          modalDispatch({type:'HIDE_PROJECT_SHEET'})\n        }\n      }\n    }\n\n    document.addEventListener(\"keyup\", keyEvent);\n\n    return(() => {\n      document.removeEventListener(\"keyup\", keyEvent);\n    })\n  })\n\n  return null\n}\n \nexport default EscDetect;","import React, { useContext } from \"react\";\nimport firebase from '../../config/fbConfig'\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\nimport { FbContext } from \"./fbContext\";\n\n\nexport const OneOffsContext = React.createContext();\n\n\nexport const OneOffsProvider = ({ children }) => {\n\n  const { FBuser } = useContext(FbContext)\n  const userID = FBuser ? FBuser.uid : null\n\n\n  const [oneOffs, oneOffsLoading] = useCollectionData(firebase.firestore().collection('users/'+ userID +'/oneOffs').where('done','==',false), {\n    idField: 'id'\n  });\n\n\n\n  return (\n    <OneOffsContext.Provider value={{ oneOffs, oneOffsLoading }}>{children}</OneOffsContext.Provider>\n  );\n};\n\n","import React, { useContext } from \"react\";\nimport firebase from '../../config/fbConfig'\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\nimport { FbContext } from \"./fbContext\";\n\n\nexport const ProjectsContext = React.createContext();\n\n\nexport const ProjectsProvider = ({ children }) => {\n\n  const { FBuser } = useContext(FbContext)\n  const userID = FBuser ? FBuser.uid : null\n\n\n  const [projects, projectsLoading] = useCollectionData(firebase.firestore().collection('users/' + userID + '/projects').where('deleted','==',false),{\n    idField: 'id'\n  })\n\n\n\n  return (\n    <ProjectsContext.Provider value={{ projects, projectsLoading }}>{children}</ProjectsContext.Provider>\n  );\n};\n\n","import React, { useContext } from \"react\";\nimport firebase from '../../config/fbConfig'\nimport { useDocumentData } from 'react-firebase-hooks/firestore';\nimport { FbContext } from \"./fbContext\";\n\n\nexport const WeightsContext = React.createContext();\n\n\nexport const WeightsProvider = ({ children }) => {\n\n  const { FBuser } = useContext(FbContext)\n  const userID = FBuser ? FBuser.uid : null\n\n\n  const [userData, weightsLoading] = useDocumentData(firebase.firestore().collection('users').doc(\"/\" + userID))\n\n  const actionTypes = userData && userData.actionTypes ? userData.actionTypes : null;\n  const dayDrop = userData && userData.dayDrop ? userData.dayDrop : null;\n  const importanceTypes = userData && userData.importanceTypes ? userData.importanceTypes : null;\n  const oneOff = userData && userData.oneOff ? userData.oneOff : null;\n  const currentUserScore = userData && userData.currentScore !== null ? userData.currentScore : null;\n  console.log(currentUserScore)\n\n  const weights = actionTypes && dayDrop && importanceTypes && oneOff ? {\n    actionTypes,\n    dayDrop,\n    importanceTypes,\n    oneOff,\n    currentUserScore\n  } : null\n\n\n  return (\n    <WeightsContext.Provider value={{ weights, weightsLoading }}>{children}</WeightsContext.Provider>\n  );\n};\n\n","import React, { useContext } from \"react\";\nimport firebase from '../../config/fbConfig'\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\nimport { FbContext } from \"./fbContext\";\n\n\nexport const HistoryContext = React.createContext();\n\n\nexport const HistoryProvider = ({ children }) => {\n\n  const { FBuser } = useContext(FbContext)\n  const userID = FBuser ? FBuser.uid : null\n\n\n  const [history, historyLoading] = useCollectionData(firebase.firestore().collection('users/' + userID + '/history').orderBy('date','asc'))\n\n\n  return (\n    <HistoryContext.Provider value={{ history, historyLoading }}>{children}</HistoryContext.Provider>\n  );\n};\n\n","import moment from 'moment';\n\n\n\nexport const hydrateData = (items, weights, projects, oneOffs) => {\n\n  items = items ? items.filter(item => {\n    if(item.completed === false && item.deleted === false){\n      return true\n    }\n    return false\n  }) : null\n\n  const newWeights = weights ? hydrateWeights(weights) : null\n  const newItems = items && newWeights && projects ? hydrateItems(items, newWeights, projects) : null\n  const newProjects = newItems && projects ? hydrateProjects(newItems, projects) : null\n\n\n  var totalScore = addScores(newItems)\n  const todaysScore = getTodaysScore(newItems)\n  const tomorrowsScore = getTomorrowsScore(newItems)\n  const thisWeeksScore = getThisWeeksScore(newItems)\n\n  if(oneOffs){\n    oneOffs.forEach(oneOff => {\n      totalScore += weights.oneOff\n    })\n  }\n\n  const allDataPulled = items && weights && projects && oneOffs ? true : false\n\n  // currentItems = items\n  // currentWeights = weights\n  // currentProjects = projects\n\n  return {items: newItems, weights: newWeights, projects: newProjects, totalScore, todaysScore, tomorrowsScore, thisWeeksScore, allDataPulled}\n}\n\nconst getThisWeeksScore = (items) => {\n  const thisWeeksItems = items ? items.filter(item => {\n    return moment.unix(item.expectedUpdate.seconds).startOf('days').isBefore(getNextMonday())\n  }) : null\n  return addScores(thisWeeksItems)\n}\n\nconst getNextMonday = () => {\n  const currentCheck = moment().startOf('day').add(1,'d')\n  var nextMonday = null;\n  while (nextMonday === null){\n    if(currentCheck.day() === 1){\n      nextMonday = currentCheck\n    }else{\n      currentCheck.add(1,'d')\n    }\n  }\n  return nextMonday;\n}\n\nconst getTomorrowsScore = (items) => {\n  const tomorrowsItems = items ? items.filter(item => { \n    return item.daysTo === 1;\n  }) : null;\n  return addScores(tomorrowsItems)\n}\n\nconst getTodaysScore = (items) => {\n  const todaysItems = items ? items.filter(item => {\n    return item.daysTo <= 0;\n  }) : null;\n  return addScores(todaysItems);\n}\n\nconst addScores = (itemsToAdd) => {\n  if(itemsToAdd === null) return 0\n  var score = 0\n  itemsToAdd.forEach(item => {\n    score += item.score\n  })\n  return score\n}\n\n\nconst hydrateProjects = (items, projects) => {\n  const newProjects = projects.map(proj => {\n    const itemsInProj = itemsInProject(items, proj)\n    var projScore = 0;\n    itemsInProj.forEach(item => projScore += item.score)\n    return {...proj, totalScore: projScore, items: itemsInProj}\n  })\n  return newProjects\n}\n\nconst itemsInProject = (items, project) => {\n  if(project && items){\n    return items.filter(item => {\n      return item.projectID === project.id\n    })\n  }else{\n    return null\n  }\n}\n\nconst hydrateWeights = (weights) => {\n  weights.importanceArray = importanceArray(weights.importanceTypes)\n  weights.actionTypeArray = actionTypeArray(weights.actionTypes)\n  return weights\n}\n\n\nconst importanceArray = (importanceTypes) => {\n  const keys = Object.keys(importanceTypes)\n  var importanceArray = []\n  for (const key of keys) {\n    importanceArray.push(importanceTypes[key])\n  }\n  importanceArray = importanceArray.sort((a,b) => {\n    return a.id - b.id\n  })\n  \n  return importanceArray\n}\n\nconst actionTypeArray = (actionTypes) => {\n  const keys = Object.keys(actionTypes)\n  var actionTypeArray = []\n  for(const key of keys){\n    actionTypeArray.push(actionTypes[key])\n  }\n  actionTypeArray = actionTypeArray.sort((a,b) => {\n    return a.id - b.id\n  })\n  return actionTypeArray\n}\n\n\n\nconst hydrateItems = (items, weights, projects) => {\n  if(!items || !weights || !projects) return null\n  for(var i = 0; i < items.length; i++){\n    items[i] = hydrateItem(items[i], weights, projects)\n  }\n  return items\n}\n\n\n\nconst hydrateItem = (item, weights, projects) =>{\n\n\n  if(weights && item && projects){\n    const project = projects.filter(proj => {\n      return proj.id === item.projectID\n    })[0]\n\n    const itemDeleted = project ? false : true;\n    if(itemDeleted) return null\n\n    const importance = weights.importanceArray.filter(iType => {\n      return iType.id === project.importance\n    })[0]\n\n    const actionType = weights.actionTypeArray.filter(aType => {\n      return aType.id === item.actionType\n    })[0]\n\n    const daysTo = weekDaysBetween(item.expectedUpdate)\n    const score = item.expectedUpdate ? Math.max(0,(1 * importance.weight * actionType.weight) - (daysTo * weights.dayDrop)) : 0;\n\n\n    const colorClass = itemColorClass(item)\n  \n    return {...item, deleted: itemDeleted, importanceName: importance.name, importanceWeight: importance.weight, actionTypeName: actionType.name, actionTypeWeight: actionType.weight, daysTo, score, colorClass, project, dayDrop: weights.dayDrop}\n    \n  }\n  return item\n}\n\n\nconst weekDaysBetween = (timestamp) => {\n  if(timestamp === null) return 0;\n  const expectedUpdate = moment.unix(timestamp.seconds).startOf('days')\n  const now = moment().startOf('days');\n  var end = moment(expectedUpdate).startOf('days')\n  var start = moment(now).startOf('days')\n  var multiplier = 1\n  const dailyInfo = [false, true, true, true, true, true, false]\n  let totalDays = 0;\n\n  if(expectedUpdate.isSame(now)){\n    return 0;\n  }\n  if(expectedUpdate.isBefore(now)){\n    start = moment(expectedUpdate)\n    end = moment(now)\n    multiplier = -1;\n  }\n\n  while(!start.isSame(end)){\n    start.add(1,'d')\n    if(dailyInfo[start.day()]){\n      totalDays++;\n    }\n  }\n\n  return totalDays * multiplier\n\n}\n\nconst itemColorClass = (item) => {\n  if(item.expectedUpdate === null) return 'bg-white'\n  const now = moment().startOf('day');\n  const expectedUpdate = moment.unix(item.expectedUpdate.seconds).startOf('day')\n\n  if(expectedUpdate.isBefore(now) && item.actionType !== 5 && item.actionType !== 6){\n    return 'bg-red-600 text-white'\n  }else if(expectedUpdate.isSame(now) && (item.actionType === 1 || item.actionType === 4)){\n    return 'bg-purple-700 text-white'\n  }else if(expectedUpdate.isSame(now) && (item.actionType === 2 || item.actionType === 3)){\n    return 'bg-gray-600 text-white'\n  }else if(item.actionType === 1 || item.actionType === 4){\n    return 'bg-purple-300'\n  }else if(item.actionType === 2 || item.actionType === 3){\n    return 'bg-gray-400'\n  }\n\n  return 'bg-gray-300'\n\n}","import React, { useEffect, useContext } from 'react'\nimport { DataContext } from '../store/contexts/dataContext'\nimport { hydrateData } from '../store/hydrateData'\nimport { ItemsContext } from '../store/contexts/itemsContext'\nimport { OneOffsContext } from '../store/contexts/oneOffsContext'\nimport { ProjectsContext } from '../store/contexts/projectsContext'\nimport { WeightsContext } from '../store/contexts/weightsContext'\nimport { HistoryContext } from '../store/contexts/historyContext'\n\n\nconst DataHydrator = () => {\n\n  const { items, itemsLoading } = useContext(ItemsContext)\n  const { oneOffs, oneOffsLoading } = useContext(OneOffsContext)\n  const { projects, projectsLoading } = useContext(ProjectsContext)\n  const { weights, weightsLoading } = useContext(WeightsContext)\n  const { history, historyLoading } = useContext(HistoryContext)\n  const { dataDispatch } = useContext(DataContext)\n\n  const allLoaded = !itemsLoading && !oneOffsLoading && !projectsLoading && !weightsLoading && !historyLoading ? true : false;\n\n\n  useEffect(() => {\n    if(allLoaded){\n      console.log('data effect')\n      dataDispatch({type: 'SET_DATA', data: hydrateData(items, weights, projects, oneOffs)})\n    }\n  }, [items, projects, weights, oneOffs, dataDispatch, allLoaded])\n\n  useEffect(() => {\n    console.log('history effect')\n    dataDispatch({type: 'SET_HISTORY', history: history})\n  },[dataDispatch, history])\n\n  useEffect(() => {\n    console.log('oneoff effect')\n    dataDispatch({type: 'SET_ONE_OFFS', oneOffs: oneOffs})\n  },[dataDispatch, oneOffs])\n\n  useEffect(() => {\n    console.log('all loaded effect')\n    dataDispatch({type: 'SET_ALL_LOADED', allLoaded: allLoaded})\n  }, [allLoaded, dataDispatch])\n\n\n\n  return ( \n    <div></div>\n   );\n}\n \nexport default DataHydrator;","import EditSheet from \"./components/modals/EditSheet/EditSheet\";\nimport { FbProvider } from './store/contexts/fbContext.js'\nimport Main from \"./components/Main\";\nimport ProjectEditSheet from \"./components/modals/projectEdit/ProjectEditSheet\";\nimport EscDetect from \"./components/EscDetect\";\nimport { FilterContextProvider } from \"./store/contexts/filterContext\";\nimport { ModalProvider } from \"./store/contexts/modalContext\";\nimport { DataContextProvider } from \"./store/contexts/dataContext\";\nimport { ItemsProvider } from \"./store/contexts/itemsContext\";\nimport { OneOffsProvider } from \"./store/contexts/oneOffsContext\";\nimport { ProjectsProvider } from \"./store/contexts/projectsContext\";\nimport { WeightsProvider } from \"./store/contexts/weightsContext\";\nimport { HistoryProvider } from \"./store/contexts/historyContext\";\nimport { ConfigProvider } from \"./store/contexts/configContext\";\nimport DataHydrator from \"./components/DataHydrator\";\n\n\n\nconst App = () => {\n  return (\n    <FbProvider>\n      <FilterContextProvider>\n        <ModalProvider>\n          <DataContextProvider>\n            <ItemsProvider>\n              <OneOffsProvider>\n                <ProjectsProvider>\n                  <WeightsProvider>\n                    <HistoryProvider>\n                      <ConfigProvider>\n                      <DataHydrator />\n                      <div className=\"App\">\n                        <Main />\n                        <ProjectEditSheet />\n                        <EditSheet />\n                        <EscDetect />\n                      </div>\n                      </ConfigProvider>\n                    </HistoryProvider>\n                  </WeightsProvider>\n                </ProjectsProvider>\n              </OneOffsProvider>\n            </ItemsProvider>\n          </DataContextProvider>\n        </ModalProvider>\n      </FilterContextProvider>\n    </FbProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/tailwind.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}